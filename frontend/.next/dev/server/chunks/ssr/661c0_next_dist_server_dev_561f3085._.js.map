{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/browser-logs/file-logger.ts"],"sourcesContent":["import fs from 'fs'\nimport path from 'path'\n\nexport interface LogEntry {\n  timestamp: string\n  source: 'Server' | 'Browser'\n  level: string\n  message: string\n}\n\n// Logging server and browser logs to a file\nexport class FileLogger {\n  private logFilePath: string = ''\n  private isInitialized: boolean = false\n  private logQueue: string[] = []\n  private flushTimer: NodeJS.Timeout | null = null\n  private mcpServerEnabled: boolean = false\n\n  public initialize(distDir: string, mcpServerEnabled: boolean): void {\n    this.logFilePath = path.join(distDir, 'logs', `next-development.log`)\n    this.mcpServerEnabled = mcpServerEnabled\n\n    if (this.isInitialized) {\n      return\n    }\n\n    // Only initialize if mcpServer is enabled\n    if (!this.mcpServerEnabled) {\n      return\n    }\n\n    try {\n      // Clean up the log file on each initialization\n      // ensure the directory exists\n      fs.mkdirSync(path.dirname(this.logFilePath), { recursive: true })\n      fs.writeFileSync(this.logFilePath, '')\n      this.isInitialized = true\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  private formatTimestamp(): string {\n    // Use performance.now() instead of Date.now() for avoid sync IO of cache components\n    const now = performance.now()\n    const hours = Math.floor(now / 3600000)\n      .toString()\n      .padStart(2, '0')\n    const minutes = Math.floor((now % 3600000) / 60000)\n      .toString()\n      .padStart(2, '0')\n    const seconds = Math.floor((now % 60000) / 1000)\n      .toString()\n      .padStart(2, '0')\n    const milliseconds = Math.floor(now % 1000)\n      .toString()\n      .padStart(3, '0')\n    return `${hours}:${minutes}:${seconds}.${milliseconds}`\n  }\n\n  private formatLogEntry(entry: LogEntry): string {\n    const { timestamp, source, level, message } = entry\n    const levelPadded = level.toUpperCase().padEnd(7, ' ') // Pad level to 7 characters for alignment\n    const sourcePadded = source === 'Browser' ? source : 'Server '\n    return `[${timestamp}] ${sourcePadded} ${levelPadded} ${message}\\n`\n  }\n\n  private scheduleFlush(): void {\n    // Debounce the flush\n    if (this.flushTimer) {\n      clearTimeout(this.flushTimer)\n      this.flushTimer = null\n    }\n\n    // Delay the log flush to ensure more logs can be batched together asynchronously\n    this.flushTimer = setTimeout(() => {\n      this.flush()\n    }, 100)\n  }\n\n  public getLogQueue(): string[] {\n    return this.logQueue\n  }\n\n  private flush(): void {\n    if (this.logQueue.length === 0) {\n      return\n    }\n\n    // Only flush to disk if mcpServer is enabled\n    if (!this.mcpServerEnabled) {\n      this.logQueue = [] // Clear the queue without writing\n      this.flushTimer = null\n      return\n    }\n\n    try {\n      // Ensure the directory exists before writing\n      const logDir = path.dirname(this.logFilePath)\n      if (!fs.existsSync(logDir)) {\n        fs.mkdirSync(logDir, { recursive: true })\n      }\n\n      const logsToWrite = this.logQueue.join('')\n      // Writing logs to files synchronously to ensure they're written before returning\n      fs.appendFileSync(this.logFilePath, logsToWrite)\n      this.logQueue = []\n    } catch (error) {\n      console.error('Failed to flush logs to file:', error)\n    } finally {\n      this.flushTimer = null\n    }\n  }\n\n  private enqueueLog(formattedEntry: string): void {\n    this.logQueue.push(formattedEntry)\n\n    // Cancel existing timer and start a new one to ensure all logs are flushed together\n    if (this.flushTimer) {\n      clearTimeout(this.flushTimer)\n      this.flushTimer = null\n    }\n\n    this.scheduleFlush()\n  }\n\n  log(source: 'Server' | 'Browser', level: string, message: string): void {\n    // Don't log anything if mcpServer is disabled\n    if (!this.mcpServerEnabled) {\n      return\n    }\n\n    if (!this.isInitialized) {\n      return\n    }\n\n    const logEntry: LogEntry = {\n      timestamp: this.formatTimestamp(),\n      source,\n      level,\n      message,\n    }\n\n    const formattedEntry = this.formatLogEntry(logEntry)\n    this.enqueueLog(formattedEntry)\n  }\n\n  logServer(level: string, message: string): void {\n    this.log('Server', level, message)\n  }\n\n  logBrowser(level: string, message: string): void {\n    this.log('Browser', level, message)\n  }\n\n  // Force flush all queued logs immediately\n  forceFlush(): void {\n    if (this.flushTimer) {\n      clearTimeout(this.flushTimer)\n      this.flushTimer = null\n    }\n    this.flush()\n  }\n\n  // Cleanup method to flush logs on process exit\n  destroy(): void {\n    this.forceFlush()\n  }\n}\n\n// Singleton instance\nlet fileLogger: FileLogger | null = null\n\nexport function getFileLogger(): FileLogger {\n  if (!fileLogger || process.env.NODE_ENV === 'test') {\n    fileLogger = new FileLogger()\n  }\n  return fileLogger\n}\n\n// Only used for testing\nexport function test__resetFileLogger(): void {\n  if (fileLogger) {\n    fileLogger.destroy()\n  }\n  fileLogger = null\n}\n"],"names":["FileLogger","getFileLogger","test__resetFileLogger","initialize","distDir","mcpServerEnabled","logFilePath","path","join","isInitialized","fs","mkdirSync","dirname","recursive","writeFileSync","error","console","formatTimestamp","now","performance","hours","Math","floor","toString","padStart","minutes","seconds","milliseconds","formatLogEntry","entry","timestamp","source","level","message","levelPadded","toUpperCase","padEnd","sourcePadded","scheduleFlush","flushTimer","clearTimeout","setTimeout","flush","getLogQueue","logQueue","length","logDir","existsSync","logsToWrite","appendFileSync","enqueueLog","formattedEntry","push","log","logEntry","logServer","logBrowser","forceFlush","destroy","fileLogger","process","env","NODE_ENV"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/node-stack-frames.ts"],"sourcesContent":["import { parse } from 'next/dist/compiled/stacktrace-parser'\nimport type { StackFrame } from 'next/dist/compiled/stacktrace-parser'\nimport {\n  decorateServerError,\n  type ErrorSourceType,\n} from '../../shared/lib/error-source'\n\nfunction getFilesystemFrame(frame: StackFrame): StackFrame {\n  const f: StackFrame = { ...frame }\n\n  if (typeof f.file === 'string') {\n    if (\n      // Posix:\n      f.file.startsWith('/') ||\n      // Win32:\n      /^[a-z]:\\\\/i.test(f.file) ||\n      // Win32 UNC:\n      f.file.startsWith('\\\\\\\\')\n    ) {\n      f.file = `file://${f.file}`\n    }\n  }\n\n  return f\n}\n\nexport function getServerError(error: Error, type: ErrorSourceType): Error {\n  if (error.name === 'TurbopackInternalError') {\n    // If this is an internal Turbopack error we shouldn't show internal details\n    // to the user. These are written to a log file instead.\n    const turbopackInternalError = new Error(\n      'An unexpected Turbopack error occurred. Please see the output of `next dev` for more details.'\n    )\n    decorateServerError(turbopackInternalError, type)\n    return turbopackInternalError\n  }\n\n  let n: Error\n  try {\n    throw new Error(error.message)\n  } catch (e) {\n    n = e as Error\n  }\n\n  n.name = error.name\n  try {\n    n.stack = `${n.toString()}\\n${parse(error.stack!)\n      .map(getFilesystemFrame)\n      .map((f) => {\n        let str = `    at ${f.methodName}`\n        if (f.file) {\n          let loc = f.file\n          if (f.lineNumber) {\n            loc += `:${f.lineNumber}`\n            if (f.column) {\n              loc += `:${f.column}`\n            }\n          }\n          str += ` (${loc})`\n        }\n        return str\n      })\n      .join('\\n')}`\n  } catch {\n    n.stack = error.stack\n  }\n\n  decorateServerError(n, type)\n  return n\n}\n"],"names":["getServerError","getFilesystemFrame","frame","f","file","startsWith","test","error","type","name","turbopackInternalError","Error","decorateServerError","n","message","e","stack","toString","parse","map","str","methodName","loc","lineNumber","column","join"],"mappings":";;;+BA0BgBA,kBAAAA;;;eAAAA;;;kCA1BM;6BAKf;AAEP,SAASC,mBAAmBC,KAAiB;IAC3C,MAAMC,IAAgB;QAAE,GAAGD,KAAK;IAAC;IAEjC,IAAI,OAAOC,EAAEC,IAAI,KAAK,UAAU;QAC9B,IACE,AACAD,EAAEC,IAAI,CAACC,EADE,QACQ,CAAC,QAClB,SAAS;QACT,aAAaC,IAAI,CAACH,EAAEC,IAAI,KACxB,aAAa;QACbD,EAAEC,IAAI,CAACC,UAAU,CAAC,SAClB;YACAF,EAAEC,IAAI,GAAG,CAAC,OAAO,EAAED,EAAEC,IAAI,EAAE;QAC7B;IACF;IAEA,OAAOD;AACT;AAEO,SAASH,eAAeO,KAAY,EAAEC,IAAqB;IAChE,IAAID,MAAME,IAAI,KAAK,0BAA0B;QAC3C,4EAA4E;QAC5E,wDAAwD;QACxD,MAAMC,yBAAyB,OAAA,cAE9B,CAF8B,IAAIC,MACjC,kGAD6B,qBAAA;mBAAA;wBAAA;0BAAA;QAE/B;QACAC,CAAAA,GAAAA,aAAAA,mBAAmB,EAACF,wBAAwBF;QAC5C,OAAOE;IACT;IAEA,IAAIG;IACJ,IAAI;QACF,MAAM,OAAA,cAAwB,CAAxB,IAAIF,MAAMJ,MAAMO,OAAO,GAAvB,qBAAA;mBAAA;wBAAA;0BAAA;QAAuB;IAC/B,EAAE,OAAOC,GAAG;QACVF,IAAIE;IACN;IAEAF,EAAEJ,IAAI,GAAGF,MAAME,IAAI;IACnB,IAAI;QACFI,EAAEG,KAAK,GAAG,GAAGH,EAAEI,QAAQ,GAAG,EAAE,EAAEC,CAAAA,GAAAA,kBAAAA,KAAK,EAACX,MAAMS,KAAK,EAC5CG,GAAG,CAAClB,oBACJkB,GAAG,CAAC,CAAChB;YACJ,IAAIiB,MAAM,CAAC,OAAO,EAAEjB,EAAEkB,UAAU,EAAE;YAClC,IAAIlB,EAAEC,IAAI,EAAE;gBACV,IAAIkB,MAAMnB,EAAEC,IAAI;gBAChB,IAAID,EAAEoB,UAAU,EAAE;oBAChBD,OAAO,CAAC,CAAC,EAAEnB,EAAEoB,UAAU,EAAE;oBACzB,IAAIpB,EAAEqB,MAAM,EAAE;wBACZF,OAAO,CAAC,CAAC,EAAEnB,EAAEqB,MAAM,EAAE;oBACvB;gBACF;gBACAJ,OAAO,CAAC,EAAE,EAAEE,IAAI,CAAC,CAAC;YACpB;YACA,OAAOF;QACT,GACCK,IAAI,CAAC,OAAO;IACjB,EAAE,OAAM;QACNZ,EAAEG,KAAK,GAAGT,MAAMS,KAAK;IACvB;IAEAJ,CAAAA,GAAAA,aAAAA,mBAAmB,EAACC,GAAGL;IACvB,OAAOK;AACT","ignoreList":[0]}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/hot-reloader-types.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'http'\nimport type { UrlObject } from 'url'\nimport type { Duplex } from 'stream'\nimport type { webpack } from 'next/dist/compiled/webpack/webpack'\nimport type getBaseWebpackConfig from '../../build/webpack-config'\nimport type { RouteDefinition } from '../route-definitions/route-definition'\nimport type { Project, Update as TurbopackUpdate } from '../../build/swc/types'\nimport type { VersionInfo } from './parse-version-info'\nimport type { DebugInfo } from '../../next-devtools/shared/types'\nimport type { DevIndicatorServerState } from './dev-indicator-server-state'\nimport type {\n  CacheIndicatorState,\n  ServerCacheStatus,\n} from '../../next-devtools/dev-overlay/cache-indicator'\nimport type { DevToolsConfig } from '../../next-devtools/dev-overlay/shared'\nimport type { ReactDebugChannelForBrowser } from './debug-channel'\n\nexport const enum HMR_MESSAGE_SENT_TO_BROWSER {\n  // JSON messages:\n  ADDED_PAGE = 'addedPage',\n  REMOVED_PAGE = 'removedPage',\n  RELOAD_PAGE = 'reloadPage',\n  SERVER_COMPONENT_CHANGES = 'serverComponentChanges',\n  MIDDLEWARE_CHANGES = 'middlewareChanges',\n  CLIENT_CHANGES = 'clientChanges',\n  SERVER_ONLY_CHANGES = 'serverOnlyChanges',\n  SYNC = 'sync',\n  BUILT = 'built',\n  BUILDING = 'building',\n  DEV_PAGES_MANIFEST_UPDATE = 'devPagesManifestUpdate',\n  TURBOPACK_MESSAGE = 'turbopack-message',\n  SERVER_ERROR = 'serverError',\n  TURBOPACK_CONNECTED = 'turbopack-connected',\n  ISR_MANIFEST = 'isrManifest',\n  CACHE_INDICATOR = 'cacheIndicator',\n  DEV_INDICATOR = 'devIndicator',\n  DEVTOOLS_CONFIG = 'devtoolsConfig',\n  REQUEST_CURRENT_ERROR_STATE = 'requestCurrentErrorState',\n  REQUEST_PAGE_METADATA = 'requestPageMetadata',\n\n  // Binary messages:\n  REACT_DEBUG_CHUNK = 0,\n}\n\nexport const enum HMR_MESSAGE_SENT_TO_SERVER {\n  // JSON messages:\n  MCP_ERROR_STATE_RESPONSE = 'mcp-error-state-response',\n  MCP_PAGE_METADATA_RESPONSE = 'mcp-page-metadata-response',\n  PING = 'ping',\n}\n\nexport interface ServerErrorMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_ERROR\n  errorJSON: string\n}\n\nexport interface TurbopackMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.TURBOPACK_MESSAGE\n  data: TurbopackUpdate | TurbopackUpdate[]\n}\n\nexport interface BuildingMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.BUILDING\n}\n\nexport interface CompilationError {\n  moduleName?: string\n  message: string\n  details?: string\n  moduleTrace?: Array<{ moduleName?: string }>\n  stack?: string\n}\n\nexport interface SyncMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.SYNC\n  hash: string\n  errors: ReadonlyArray<CompilationError>\n  warnings: ReadonlyArray<CompilationError>\n  versionInfo: VersionInfo\n  updatedModules?: ReadonlyArray<string>\n  debug?: DebugInfo\n  devIndicator: DevIndicatorServerState\n  devToolsConfig?: DevToolsConfig\n}\n\nexport interface BuiltMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.BUILT\n  hash: string\n  errors: ReadonlyArray<CompilationError>\n  warnings: ReadonlyArray<CompilationError>\n  updatedModules?: ReadonlyArray<string>\n}\n\nexport interface AddedPageMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.ADDED_PAGE\n  data: [page: string | null]\n}\n\nexport interface RemovedPageMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.REMOVED_PAGE\n  data: [page: string | null]\n}\n\nexport interface ReloadPageMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE\n  data: string\n}\n\nexport interface ServerComponentChangesMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_COMPONENT_CHANGES\n  hash: string\n}\n\nexport interface MiddlewareChangesMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.MIDDLEWARE_CHANGES\n}\n\nexport interface ClientChangesMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.CLIENT_CHANGES\n}\n\nexport interface ServerOnlyChangesMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_ONLY_CHANGES\n  pages: ReadonlyArray<string>\n}\n\nexport interface DevPagesManifestUpdateMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.DEV_PAGES_MANIFEST_UPDATE\n  data: [\n    {\n      devPagesManifest: true\n    },\n  ]\n}\n\nexport interface TurbopackConnectedMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.TURBOPACK_CONNECTED\n  data: { sessionId: number }\n}\n\nexport interface AppIsrManifestMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.ISR_MANIFEST\n  data: Record<string, boolean>\n}\n\nexport interface DevToolsConfigMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.DEVTOOLS_CONFIG\n  data: DevToolsConfig\n}\n\nexport interface ReactDebugChunkMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.REACT_DEBUG_CHUNK\n  requestId: string\n  /**\n   * A null chunk signals to the browser that no more chunks will be sent.\n   */\n  chunk: Uint8Array | null\n}\n\nexport interface RequestCurrentErrorStateMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.REQUEST_CURRENT_ERROR_STATE\n  requestId: string\n}\n\nexport interface RequestPageMetadataMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.REQUEST_PAGE_METADATA\n  requestId: string\n}\n\nexport interface CacheIndicatorMessage {\n  type: HMR_MESSAGE_SENT_TO_BROWSER.CACHE_INDICATOR\n  state: CacheIndicatorState\n}\n\nexport type HmrMessageSentToBrowser =\n  | TurbopackMessage\n  | TurbopackConnectedMessage\n  | BuildingMessage\n  | SyncMessage\n  | BuiltMessage\n  | AddedPageMessage\n  | RemovedPageMessage\n  | ReloadPageMessage\n  | ServerComponentChangesMessage\n  | ClientChangesMessage\n  | MiddlewareChangesMessage\n  | ServerOnlyChangesMessage\n  | DevPagesManifestUpdateMessage\n  | ServerErrorMessage\n  | AppIsrManifestMessage\n  | DevToolsConfigMessage\n  | ReactDebugChunkMessage\n  | RequestCurrentErrorStateMessage\n  | RequestPageMetadataMessage\n  | CacheIndicatorMessage\n\nexport type BinaryHmrMessageSentToBrowser = Extract<\n  HmrMessageSentToBrowser,\n  { type: number }\n>\n\nexport type TurbopackMessageSentToBrowser =\n  | {\n      type: HMR_MESSAGE_SENT_TO_BROWSER.TURBOPACK_MESSAGE\n      data: any\n    }\n  | {\n      type: HMR_MESSAGE_SENT_TO_BROWSER.TURBOPACK_CONNECTED\n      data: { sessionId: number }\n    }\n\nexport interface NextJsHotReloaderInterface {\n  turbopackProject?: Project\n  activeWebpackConfigs?: Array<Awaited<ReturnType<typeof getBaseWebpackConfig>>>\n  serverStats: webpack.Stats | null\n  edgeServerStats: webpack.Stats | null\n  run(\n    req: IncomingMessage,\n    res: ServerResponse,\n    parsedUrl: UrlObject\n  ): Promise<{ finished?: true }>\n\n  setHmrServerError(error: Error | null): void\n  clearHmrServerError(): void\n  start(): Promise<void>\n  send(action: HmrMessageSentToBrowser): void\n  /**\n   * Send the given action only to legacy clients, i.e. Pages Router clients,\n   * and App Router clients that don't have Cache Components enabled.\n   */\n  sendToLegacyClients(action: HmrMessageSentToBrowser): void\n  setCacheStatus(status: ServerCacheStatus, htmlRequestId: string): void\n  setReactDebugChannel(\n    debugChannel: ReactDebugChannelForBrowser,\n    htmlRequestId: string,\n    requestId: string\n  ): void\n  getCompilationErrors(page: string): Promise<any[]>\n  onHMR(\n    req: IncomingMessage,\n    _socket: Duplex,\n    head: Buffer,\n    onUpgrade: (\n      client: { send(data: string): void },\n      context: { isLegacyClient: boolean }\n    ) => void\n  ): void\n  invalidate({\n    reloadAfterInvalidation,\n  }: {\n    reloadAfterInvalidation: boolean\n  }): Promise<void> | void\n  buildFallbackError(): Promise<void>\n  ensurePage({\n    page,\n    clientOnly,\n    appPaths,\n    definition,\n    isApp,\n    url,\n  }: {\n    page: string\n    clientOnly: boolean\n    appPaths?: ReadonlyArray<string> | null\n    isApp?: boolean\n    definition: RouteDefinition | undefined\n    url?: string\n  }): Promise<void>\n  close(): void\n}\n"],"names":["HMR_MESSAGE_SENT_TO_BROWSER","HMR_MESSAGE_SENT_TO_SERVER"],"mappings":";;;;;;;;;;;;;;IAiBkBA,2BAA2B,EAAA;eAA3BA;;IA2BAC,0BAA0B,EAAA;eAA1BA;;;AA3BX,IAAWD,8BAAAA,WAAAA,GAAAA,SAAAA,2BAAAA;IAChB,iBAAiB;;;;;;;;;;;;;;;;;;;;;IAsBjB,mBAAmB;;WAvBHA;;AA2BX,IAAWC,6BAAAA,WAAAA,GAAAA,SAAAA,0BAAAA;IAChB,iBAAiB;;;;WADDA","ignoreList":[0]}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/static-paths-worker.ts"],"sourcesContent":["import type { NextConfigComplete } from '../config-shared'\n\nimport '../require-hook'\nimport '../node-environment'\n\nimport { collectSegments } from '../../build/segment-config/app/app-segments'\nimport type { StaticPathsResult } from '../../build/static-paths/types'\nimport { loadComponents } from '../load-components'\nimport { setHttpClientAndAgentOptions } from '../setup-http-agent-env'\nimport type { IncrementalCache } from '../lib/incremental-cache'\nimport { isAppPageRouteModule } from '../route-modules/checks'\nimport {\n  checkIsRoutePPREnabled,\n  type ExperimentalPPRConfig,\n} from '../lib/experimental/ppr'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { collectRootParamKeys } from '../../build/segment-config/app/collect-root-param-keys'\nimport { buildAppStaticPaths } from '../../build/static-paths/app'\nimport { buildPagesStaticPaths } from '../../build/static-paths/pages'\nimport { createIncrementalCache } from '../../export/helpers/create-incremental-cache'\nimport type { AppPageRouteModule } from '../route-modules/app-page/module'\nimport type { AppRouteRouteModule } from '../route-modules/app-route/module'\n\ntype RuntimeConfig = {\n  pprConfig: ExperimentalPPRConfig | undefined\n  configFileName: string\n  cacheComponents: boolean\n}\n\n// we call getStaticPaths in a separate process to ensure\n// side-effects aren't relied on in dev that will break\n// during a production build\nexport async function loadStaticPaths({\n  dir,\n  distDir,\n  pathname,\n  config,\n  httpAgentOptions,\n  locales,\n  defaultLocale,\n  isAppPath,\n  page,\n  isrFlushToDisk,\n  fetchCacheKeyPrefix,\n  cacheMaxMemorySize,\n  requestHeaders,\n  cacheHandler,\n  cacheHandlers,\n  cacheLifeProfiles,\n  nextConfigOutput,\n  buildId,\n  authInterrupts,\n  sriEnabled,\n}: {\n  dir: string\n  distDir: string\n  pathname: string\n  config: RuntimeConfig\n  httpAgentOptions: NextConfigComplete['httpAgentOptions']\n  locales?: readonly string[]\n  defaultLocale?: string\n  isAppPath: boolean\n  page: string\n  isrFlushToDisk?: boolean\n  fetchCacheKeyPrefix?: string\n  cacheMaxMemorySize: number\n  requestHeaders: IncrementalCache['requestHeaders']\n  cacheHandler?: string\n  cacheHandlers?: NextConfigComplete['cacheHandlers']\n  cacheLifeProfiles?: {\n    [profile: string]: import('../../server/use-cache/cache-life').CacheLife\n  }\n  nextConfigOutput: 'standalone' | 'export' | undefined\n  buildId: string\n  authInterrupts: boolean\n  sriEnabled: boolean\n}): Promise<StaticPathsResult> {\n  // this needs to be initialized before loadComponents otherwise\n  // \"use cache\" could be missing it's cache handlers\n  await createIncrementalCache({\n    dir,\n    distDir,\n    cacheHandler,\n    cacheHandlers,\n    requestHeaders,\n    fetchCacheKeyPrefix,\n    flushToDisk: isrFlushToDisk,\n    cacheMaxMemorySize,\n  })\n\n  // update work memory runtime-config\n  setHttpClientAndAgentOptions({\n    httpAgentOptions,\n  })\n\n  const components = await loadComponents({\n    distDir,\n    // In `pages/`, the page is the same as the pathname.\n    page: page || pathname,\n    isAppPath,\n    isDev: true,\n    sriEnabled,\n    needsManifestsForLegacyReasons: true,\n  })\n\n  if (isAppPath) {\n    const routeModule = components.routeModule\n    const segments = await collectSegments(\n      // We know this is an app page or app route module because we checked\n      // above that the page type is 'app'.\n      routeModule as AppPageRouteModule | AppRouteRouteModule\n    )\n\n    const isRoutePPREnabled =\n      isAppPageRouteModule(routeModule) &&\n      checkIsRoutePPREnabled(config.pprConfig)\n\n    const rootParamKeys = collectRootParamKeys(routeModule)\n\n    return buildAppStaticPaths({\n      dir,\n      page: pathname,\n      cacheComponents: config.cacheComponents,\n      segments,\n      distDir,\n      requestHeaders,\n      cacheHandler,\n      cacheLifeProfiles,\n      isrFlushToDisk,\n      fetchCacheKeyPrefix,\n      cacheMaxMemorySize,\n      ComponentMod: components.ComponentMod,\n      nextConfigOutput,\n      isRoutePPREnabled,\n      buildId,\n      authInterrupts,\n      rootParamKeys,\n    })\n  } else if (!components.getStaticPaths) {\n    // We shouldn't get to this point since the worker should only be called for\n    // SSG pages with getStaticPaths.\n    throw new InvariantError(\n      `Failed to load page with getStaticPaths for ${pathname}`\n    )\n  }\n\n  return buildPagesStaticPaths({\n    page: pathname,\n    getStaticPaths: components.getStaticPaths,\n    configFileName: config.configFileName,\n    locales,\n    defaultLocale,\n  })\n}\n"],"names":["loadStaticPaths","dir","distDir","pathname","config","httpAgentOptions","locales","defaultLocale","isAppPath","page","isrFlushToDisk","fetchCacheKeyPrefix","cacheMaxMemorySize","requestHeaders","cacheHandler","cacheHandlers","cacheLifeProfiles","nextConfigOutput","buildId","authInterrupts","sriEnabled","createIncrementalCache","flushToDisk","setHttpClientAndAgentOptions","components","loadComponents","isDev","needsManifestsForLegacyReasons","routeModule","segments","collectSegments","isRoutePPREnabled","isAppPageRouteModule","checkIsRoutePPREnabled","pprConfig","rootParamKeys","collectRootParamKeys","buildAppStaticPaths","cacheComponents","ComponentMod","getStaticPaths","InvariantError","buildPagesStaticPaths","configFileName"],"mappings":";;;+BAgCsBA,mBAAAA;;;eAAAA;;;;;6BA3BU;gCAED;mCACc;wBAER;qBAI9B;gCACwB;sCACM;qBACD;uBACE;wCACC;AAahC,eAAeA,gBAAgB,EACpCC,GAAG,EACHC,OAAO,EACPC,QAAQ,EACRC,MAAM,EACNC,gBAAgB,EAChBC,OAAO,EACPC,aAAa,EACbC,SAAS,EACTC,IAAI,EACJC,cAAc,EACdC,mBAAmB,EACnBC,kBAAkB,EAClBC,cAAc,EACdC,YAAY,EACZC,aAAa,EACbC,iBAAiB,EACjBC,gBAAgB,EAChBC,OAAO,EACPC,cAAc,EACdC,UAAU,EAwBX;IACC,+DAA+D;IAC/D,mDAAmD;IACnD,MAAMC,CAAAA,GAAAA,wBAAAA,sBAAsB,EAAC;QAC3BpB;QACAC;QACAY;QACAC;QACAF;QACAF;QACAW,aAAaZ;QACbE;IACF;IAEA,oCAAoC;IACpCW,CAAAA,GAAAA,mBAAAA,4BAA4B,EAAC;QAC3BlB;IACF;IAEA,MAAMmB,aAAa,MAAMC,CAAAA,GAAAA,gBAAAA,cAAc,EAAC;QACtCvB;QACA,qDAAqD;QACrDO,MAAMA,QAAQN;QACdK;QACAkB,OAAO;QACPN;QACAO,gCAAgC;IAClC;IAEA,IAAInB,WAAW;QACb,MAAMoB,cAAcJ,WAAWI,WAAW;QAC1C,MAAMC,WAAW,MAAMC,CAAAA,GAAAA,aAAAA,eAAe,EAEpC,AADA,qCACqC,gCADgC;QAErEF;QAGF,MAAMG,oBACJC,CAAAA,GAAAA,QAAAA,oBAAoB,EAACJ,gBACrBK,CAAAA,GAAAA,KAAAA,sBAAsB,EAAC7B,OAAO8B,SAAS;QAEzC,MAAMC,gBAAgBC,CAAAA,GAAAA,sBAAAA,oBAAoB,EAACR;QAE3C,OAAOS,CAAAA,GAAAA,KAAAA,mBAAmB,EAAC;YACzBpC;YACAQ,MAAMN;YACNmC,iBAAiBlC,OAAOkC,eAAe;YACvCT;YACA3B;YACAW;YACAC;YACAE;YACAN;YACAC;YACAC;YACA2B,cAAcf,WAAWe,YAAY;YACrCtB;YACAc;YACAb;YACAC;YACAgB;QACF;IACF,OAAO,IAAI,CAACX,WAAWgB,cAAc,EAAE;QACrC,4EAA4E;QAC5E,iCAAiC;QACjC,MAAM,OAAA,cAEL,CAFK,IAAIC,gBAAAA,cAAc,CACtB,CAAC,4CAA4C,EAAEtC,UAAU,GADrD,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,OAAOuC,CAAAA,GAAAA,OAAAA,qBAAqB,EAAC;QAC3BjC,MAAMN;QACNqC,gBAAgBhB,WAAWgB,cAAc;QACzCG,gBAAgBvC,OAAOuC,cAAc;QACrCrC;QACAC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/log-requests.ts"],"sourcesContent":["import { hrtimeBigIntDurationToString } from '../../build/duration-to-string'\nimport {\n  blue,\n  bold,\n  gray,\n  green,\n  red,\n  white,\n  yellow,\n  dim,\n} from '../../lib/picocolors'\nimport { stripNextRscUnionQuery } from '../../lib/url'\nimport type { FetchMetric } from '../base-http'\nimport type { NodeNextRequest, NodeNextResponse } from '../base-http/node'\nimport type { LoggingConfig } from '../config-shared'\nimport { getRequestMeta } from '../request-meta'\n\n/**\n * Returns true if the incoming request should be ignored for logging.\n */\nexport function ignoreLoggingIncomingRequests(\n  request: NodeNextRequest,\n  loggingConfig: LoggingConfig | undefined\n): boolean {\n  // If it's boolean use the boolean value\n  if (typeof loggingConfig?.incomingRequests === 'boolean') {\n    return !loggingConfig.incomingRequests\n  }\n\n  // Any of the value on the chain is falsy, will not ignore the request.\n  const ignore = loggingConfig?.incomingRequests?.ignore\n\n  // If ignore is not set, don't ignore anything\n  if (!ignore) {\n    return false\n  }\n\n  // If array of RegExp, ignore if any pattern matches\n  return ignore.some((pattern) => pattern.test(request.url))\n}\n\nexport function logRequests(\n  request: NodeNextRequest,\n  response: NodeNextResponse,\n  loggingConfig: LoggingConfig,\n  requestStartTime: bigint,\n  requestEndTime: bigint,\n  devRequestTimingMiddlewareStart: bigint | undefined,\n  devRequestTimingMiddlewareEnd: bigint | undefined,\n  devRequestTimingInternalsEnd: bigint | undefined\n): void {\n  if (!ignoreLoggingIncomingRequests(request, loggingConfig)) {\n    logIncomingRequests(\n      request,\n      requestStartTime,\n      requestEndTime,\n      response.statusCode,\n      devRequestTimingMiddlewareStart,\n      devRequestTimingMiddlewareEnd,\n      devRequestTimingInternalsEnd\n    )\n  }\n\n  if (request.fetchMetrics) {\n    for (const fetchMetric of request.fetchMetrics) {\n      logFetchMetric(fetchMetric, loggingConfig)\n    }\n  }\n}\n\nfunction logIncomingRequests(\n  request: NodeNextRequest,\n  requestStartTime: bigint,\n  requestEndTime: bigint,\n  statusCode: number,\n  devRequestTimingMiddlewareStart: bigint | undefined,\n  devRequestTimingMiddlewareEnd: bigint | undefined,\n  devRequestTimingInternalsEnd: bigint | undefined\n): void {\n  const isRSC = getRequestMeta(request, 'isRSCRequest')\n  const url = isRSC ? stripNextRscUnionQuery(request.url) : request.url\n\n  const statusCodeColor =\n    statusCode < 200\n      ? white\n      : statusCode < 300\n        ? green\n        : statusCode < 400\n          ? blue\n          : statusCode < 500\n            ? yellow\n            : red\n\n  const coloredStatus = statusCodeColor(statusCode.toString())\n\n  const totalRequestTime = requestEndTime - requestStartTime\n\n  const times: Array<[label: string, time: bigint]> = []\n\n  let middlewareTime: bigint | undefined\n  if (devRequestTimingMiddlewareStart && devRequestTimingMiddlewareEnd) {\n    middlewareTime =\n      devRequestTimingMiddlewareEnd - devRequestTimingMiddlewareStart\n    times.push(['proxy.ts', middlewareTime])\n  }\n\n  if (devRequestTimingInternalsEnd) {\n    let frameworkTime = devRequestTimingInternalsEnd - requestStartTime\n\n    /* Middleware runs during the internals so we have to subtract it from the framework time */\n    if (middlewareTime) {\n      frameworkTime -= middlewareTime\n    }\n    // Insert as the first item to be rendered in the list\n    times.unshift(['compile', frameworkTime])\n    times.push(['render', requestEndTime - devRequestTimingInternalsEnd])\n  }\n\n  return writeLine(\n    `${request.method} ${url} ${coloredStatus} in ${hrtimeBigIntDurationToString(totalRequestTime)}${times.length > 0 ? dim(` (${times.map(([label, time]) => `${label}: ${hrtimeBigIntDurationToString(time)}`).join(', ')})`) : ''}`\n  )\n}\n\nfunction logFetchMetric(\n  fetchMetric: FetchMetric,\n  loggingConfig: LoggingConfig | undefined\n): void {\n  let {\n    cacheReason,\n    cacheStatus,\n    cacheWarning,\n    end,\n    method,\n    start,\n    status,\n    url,\n  } = fetchMetric\n\n  if (cacheStatus === 'hmr' && !loggingConfig?.fetches?.hmrRefreshes) {\n    // Cache hits during HMR refreshes are intentionally not logged, unless\n    // explicitly enabled in the logging config.\n    return\n  }\n\n  if (loggingConfig?.fetches) {\n    if (url.length > 48 && !loggingConfig.fetches.fullUrl) {\n      url = truncateUrl(url)\n    }\n\n    writeLine(\n      white(\n        `${method} ${url} ${status} in ${Math.round(end - start)}ms ${formatCacheStatus(cacheStatus)}`\n      ),\n      1\n    )\n\n    if (cacheStatus === 'skip' || cacheStatus === 'miss') {\n      writeLine(\n        gray(\n          `Cache ${cacheStatus === 'skip' ? 'skipped' : 'missed'} reason: (${white(cacheReason)})`\n        ),\n        2\n      )\n    }\n  } else if (cacheWarning) {\n    // When logging for fetches is not enabled, we still want to print any\n    // associated warnings, so we print the request first to provide context.\n    writeLine(white(`${method} ${url}`), 1)\n  }\n\n  if (cacheWarning) {\n    writeLine(`${yellow(bold('⚠'))} ${white(cacheWarning)}`, 2)\n  }\n}\n\nfunction writeLine(text: string, indentationLevel = 0): void {\n  process.stdout.write(` ${'│ '.repeat(indentationLevel)}${text}\\n`)\n}\n\nfunction truncate(text: string, maxLength: number): string {\n  return maxLength !== undefined && text.length > maxLength\n    ? text.substring(0, maxLength) + '..'\n    : text\n}\n\nfunction truncateUrl(url: string): string {\n  const { protocol, host, pathname, search } = new URL(url)\n\n  return (\n    protocol +\n    '//' +\n    truncate(host, 16) +\n    truncate(pathname, 24) +\n    truncate(search, 16)\n  )\n}\n\nfunction formatCacheStatus(cacheStatus: FetchMetric['cacheStatus']): string {\n  switch (cacheStatus) {\n    case 'hmr':\n      return green('(HMR cache)')\n    case 'hit':\n      return green('(cache hit)')\n    case 'miss':\n    case 'skip':\n      return yellow(`(cache ${cacheStatus})`)\n    default:\n      return cacheStatus satisfies never\n  }\n}\n"],"names":["ignoreLoggingIncomingRequests","logRequests","request","loggingConfig","incomingRequests","ignore","some","pattern","test","url","response","requestStartTime","requestEndTime","devRequestTimingMiddlewareStart","devRequestTimingMiddlewareEnd","devRequestTimingInternalsEnd","logIncomingRequests","statusCode","fetchMetrics","fetchMetric","logFetchMetric","isRSC","getRequestMeta","stripNextRscUnionQuery","statusCodeColor","white","green","blue","yellow","red","coloredStatus","toString","totalRequestTime","times","middlewareTime","push","frameworkTime","unshift","writeLine","method","hrtimeBigIntDurationToString","length","dim","map","label","time","join","cacheReason","cacheStatus","cacheWarning","end","start","status","fetches","hmrRefreshes","fullUrl","truncateUrl","Math","round","formatCacheStatus","gray","bold","text","indentationLevel","process","stdout","write","repeat","truncate","maxLength","undefined","substring","protocol","host","pathname","search","URL"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/next-dev-server.ts"],"sourcesContent":["import type { FindComponentsResult, NodeRequestHandler } from '../next-server'\nimport type { LoadComponentsReturnType } from '../load-components'\nimport type { Options as ServerOptions } from '../next-server'\nimport type { Params } from '../request/params'\nimport type { ParsedUrl } from '../../shared/lib/router/utils/parse-url'\nimport type { ParsedUrlQuery } from 'querystring'\nimport type { UrlWithParsedQuery } from 'url'\nimport type { MiddlewareRoutingItem } from '../base-server'\nimport type { RouteDefinition } from '../route-definitions/route-definition'\nimport type { RouteMatcherManager } from '../route-matcher-managers/route-matcher-manager'\nimport {\n  addRequestMeta,\n  getRequestMeta,\n  type NextParsedUrlQuery,\n  type NextUrlWithParsedQuery,\n} from '../request-meta'\nimport type { DevBundlerService } from '../lib/dev-bundler-service'\nimport type { IncrementalCache } from '../lib/incremental-cache'\nimport type { UnwrapPromise } from '../../lib/coalesced-function'\nimport type { NodeNextResponse, NodeNextRequest } from '../base-http/node'\nimport type { RouteEnsurer } from '../route-matcher-managers/dev-route-matcher-manager'\nimport type { PagesManifest } from '../../build/webpack/plugins/pages-manifest-plugin'\n\nimport * as React from 'react'\nimport fs from 'fs'\nimport { Worker } from 'next/dist/compiled/jest-worker'\nimport { join as pathJoin } from 'path'\nimport { PUBLIC_DIR_MIDDLEWARE_CONFLICT } from '../../lib/constants'\nimport { findPagesDir } from '../../lib/find-pages-dir'\nimport {\n  PHASE_DEVELOPMENT_SERVER,\n  PAGES_MANIFEST,\n  APP_PATHS_MANIFEST,\n  COMPILER_NAMES,\n  PRERENDER_MANIFEST,\n} from '../../shared/lib/constants'\nimport Server, { WrappedBuildError } from '../next-server'\nimport { normalizePagePath } from '../../shared/lib/page-path/normalize-page-path'\nimport { pathHasPrefix } from '../../shared/lib/router/utils/path-has-prefix'\nimport { removePathPrefix } from '../../shared/lib/router/utils/remove-path-prefix'\nimport { Telemetry } from '../../telemetry/storage'\nimport { type Span, setGlobal, trace } from '../../trace'\nimport { traceGlobals } from '../../trace/shared'\nimport { findPageFile } from '../lib/find-page-file'\nimport { getFormattedNodeOptionsWithoutInspect } from '../lib/utils'\nimport { withCoalescedInvoke } from '../../lib/coalesced-function'\nimport { loadDefaultErrorComponents } from '../load-default-error-components'\nimport { DecodeError, MiddlewareNotFoundError } from '../../shared/lib/utils'\nimport * as Log from '../../build/output/log'\nimport isError, { getProperError } from '../../lib/is-error'\nimport { isMiddlewareFile } from '../../build/utils'\nimport { formatServerError } from '../../lib/format-server-error'\nimport { DevRouteMatcherManager } from '../route-matcher-managers/dev-route-matcher-manager'\nimport { DevPagesRouteMatcherProvider } from '../route-matcher-providers/dev/dev-pages-route-matcher-provider'\nimport { DevPagesAPIRouteMatcherProvider } from '../route-matcher-providers/dev/dev-pages-api-route-matcher-provider'\nimport { DevAppPageRouteMatcherProvider } from '../route-matcher-providers/dev/dev-app-page-route-matcher-provider'\nimport { DevAppRouteRouteMatcherProvider } from '../route-matcher-providers/dev/dev-app-route-route-matcher-provider'\nimport { NodeManifestLoader } from '../route-matcher-providers/helpers/manifest-loaders/node-manifest-loader'\nimport { BatchedFileReader } from '../route-matcher-providers/dev/helpers/file-reader/batched-file-reader'\nimport { DefaultFileReader } from '../route-matcher-providers/dev/helpers/file-reader/default-file-reader'\nimport { LRUCache } from '../lib/lru-cache'\nimport { getMiddlewareRouteMatcher } from '../../shared/lib/router/utils/middleware-route-matcher'\nimport { DetachedPromise } from '../../lib/detached-promise'\nimport { isPostpone } from '../lib/router-utils/is-postpone'\nimport { generateInterceptionRoutesRewrites } from '../../lib/generate-interception-routes-rewrites'\nimport { buildCustomRoute } from '../../lib/build-custom-route'\nimport { decorateServerError } from '../../shared/lib/error-source'\nimport type { ServerOnInstrumentationRequestError } from '../app-render/types'\nimport type { ServerComponentsHmrCache } from '../response-cache'\nimport { logRequests } from './log-requests'\nimport { FallbackMode, fallbackModeToFallbackField } from '../../lib/fallback'\nimport type { PagesDevOverlayBridgeType } from '../../next-devtools/userspace/pages/pages-dev-overlay-setup'\nimport {\n  ensureInstrumentationRegistered,\n  getInstrumentationModule,\n} from '../lib/router-utils/instrumentation-globals.external'\nimport type { PrerenderManifest } from '../../build'\nimport { getRouteRegex } from '../../shared/lib/router/utils/route-regex'\nimport type { PrerenderedRoute } from '../../build/static-paths/types'\nimport { HMR_MESSAGE_SENT_TO_BROWSER } from './hot-reloader-types'\n\n// Load ReactDevOverlay only when needed\nlet PagesDevOverlayBridgeImpl: PagesDevOverlayBridgeType\nconst ReactDevOverlay: PagesDevOverlayBridgeType = (props) => {\n  if (PagesDevOverlayBridgeImpl === undefined) {\n    PagesDevOverlayBridgeImpl = (\n      require('../../next-devtools/userspace/pages/pages-dev-overlay-setup') as typeof import('../../next-devtools/userspace/pages/pages-dev-overlay-setup')\n    ).PagesDevOverlayBridge\n  }\n  return React.createElement(PagesDevOverlayBridgeImpl, props)\n}\n\nexport interface Options extends ServerOptions {\n  /**\n   * Tells of Next.js is running from the `next dev` command\n   */\n  isNextDevCommand?: boolean\n\n  /**\n   * Interface to the development bundler.\n   */\n  bundlerService: DevBundlerService\n\n  /**\n   * Trace span for server startup.\n   */\n  startServerSpan: Span\n}\n\nexport default class DevServer extends Server {\n  /**\n   * The promise that resolves when the server is ready. When this is unset\n   * the server is ready.\n   */\n  private ready? = new DetachedPromise<void>()\n  protected sortedRoutes?: string[]\n  private pagesDir?: string\n  private appDir?: string\n  private actualMiddlewareFile?: string\n  private actualInstrumentationHookFile?: string\n  private middleware?: MiddlewareRoutingItem\n  private readonly bundlerService: DevBundlerService\n  private staticPathsCache: LRUCache<\n    UnwrapPromise<ReturnType<DevServer['getStaticPaths']>>\n  >\n  private startServerSpan: Span\n  private readonly serverComponentsHmrCache:\n    | ServerComponentsHmrCache\n    | undefined\n\n  protected staticPathsWorker?: { [key: string]: any } & {\n    loadStaticPaths: typeof import('./static-paths-worker').loadStaticPaths\n  }\n\n  private getStaticPathsWorker(): { [key: string]: any } & {\n    loadStaticPaths: typeof import('./static-paths-worker').loadStaticPaths\n  } {\n    const worker = new Worker(require.resolve('./static-paths-worker'), {\n      maxRetries: 1,\n      // For dev server, it's not necessary to spin up too many workers as long as you are not doing a load test.\n      // This helps reusing the memory a lot.\n      numWorkers: 1,\n      enableWorkerThreads: this.nextConfig.experimental.workerThreads,\n      forkOptions: {\n        env: {\n          ...process.env,\n          // discard --inspect/--inspect-brk flags from process.env.NODE_OPTIONS. Otherwise multiple Node.js debuggers\n          // would be started if user launch Next.js in debugging mode. The number of debuggers is linked to\n          // the number of workers Next.js tries to launch. The only worker users are interested in debugging\n          // is the main Next.js one\n          NODE_OPTIONS: getFormattedNodeOptionsWithoutInspect(),\n        },\n      },\n    }) as Worker & {\n      loadStaticPaths: typeof import('./static-paths-worker').loadStaticPaths\n    }\n\n    worker.getStdout().pipe(process.stdout)\n    worker.getStderr().pipe(process.stderr)\n\n    return worker\n  }\n\n  constructor(options: Options) {\n    try {\n      // Increase the number of stack frames on the server\n      Error.stackTraceLimit = 50\n    } catch {}\n    super({ ...options, dev: true })\n    this.bundlerService = options.bundlerService\n    this.startServerSpan =\n      options.startServerSpan ?? trace('start-next-dev-server')\n    this.renderOpts.dev = true\n    this.renderOpts.ErrorDebug = ReactDevOverlay\n    this.staticPathsCache = new LRUCache(\n      // 5MB\n      5 * 1024 * 1024,\n      function length(value) {\n        return JSON.stringify(value.staticPaths)?.length ?? 0\n      }\n    )\n\n    const { pagesDir, appDir } = findPagesDir(this.dir)\n    this.pagesDir = pagesDir\n    this.appDir = appDir\n\n    if (this.nextConfig.experimental.serverComponentsHmrCache) {\n      this.serverComponentsHmrCache = new LRUCache(\n        this.nextConfig.cacheMaxMemorySize,\n        function length(value) {\n          return JSON.stringify(value).length\n        }\n      )\n    }\n  }\n\n  protected override getServerComponentsHmrCache() {\n    return this.serverComponentsHmrCache\n  }\n\n  protected getRouteMatchers(): RouteMatcherManager {\n    const { pagesDir, appDir } = findPagesDir(this.dir)\n\n    const ensurer: RouteEnsurer = {\n      ensure: async (match, pathname) => {\n        await this.ensurePage({\n          definition: match.definition,\n          page: match.definition.page,\n          clientOnly: false,\n          url: pathname,\n        })\n      },\n    }\n\n    const matchers = new DevRouteMatcherManager(\n      super.getRouteMatchers(),\n      ensurer,\n      this.dir\n    )\n    const extensions = this.nextConfig.pageExtensions\n    const extensionsExpression = new RegExp(`\\\\.(?:${extensions.join('|')})$`)\n\n    // If the pages directory is available, then configure those matchers.\n    if (pagesDir) {\n      const fileReader = new BatchedFileReader(\n        new DefaultFileReader({\n          // Only allow files that have the correct extensions.\n          pathnameFilter: (pathname) => extensionsExpression.test(pathname),\n        })\n      )\n\n      matchers.push(\n        new DevPagesRouteMatcherProvider(\n          pagesDir,\n          extensions,\n          fileReader,\n          this.localeNormalizer\n        )\n      )\n      matchers.push(\n        new DevPagesAPIRouteMatcherProvider(\n          pagesDir,\n          extensions,\n          fileReader,\n          this.localeNormalizer\n        )\n      )\n    }\n\n    if (appDir) {\n      // We create a new file reader for the app directory because we don't want\n      // to include any folders or files starting with an underscore. This will\n      // prevent the reader from wasting time reading files that we know we\n      // don't care about.\n      const fileReader = new BatchedFileReader(\n        new DefaultFileReader({\n          // Ignore any directory prefixed with an underscore.\n          ignorePartFilter: (part) => part.startsWith('_'),\n        })\n      )\n\n      // TODO: Improve passing of \"is running with Turbopack\"\n      const isTurbopack = !!process.env.TURBOPACK\n      matchers.push(\n        new DevAppPageRouteMatcherProvider(\n          appDir,\n          extensions,\n          fileReader,\n          isTurbopack\n        )\n      )\n      matchers.push(\n        new DevAppRouteRouteMatcherProvider(\n          appDir,\n          extensions,\n          fileReader,\n          isTurbopack\n        )\n      )\n    }\n\n    return matchers\n  }\n\n  protected getBuildId(): string {\n    return 'development'\n  }\n\n  protected async prepareImpl(): Promise<void> {\n    setGlobal('distDir', this.distDir)\n    setGlobal('phase', PHASE_DEVELOPMENT_SERVER)\n\n    // Use existing telemetry instance from traceGlobals instead of creating a new one.\n    // Creating a new instance would overwrite the existing one, causing any telemetry\n    // events recorded to the original instance to be lost during cleanup/flush.\n    const existingTelemetry = traceGlobals.get('telemetry')\n    const telemetry =\n      existingTelemetry || new Telemetry({ distDir: this.distDir })\n\n    await super.prepareImpl()\n    await this.matchers.reload()\n\n    this.ready?.resolve()\n    this.ready = undefined\n\n    // In dev, this needs to be called after prepare because the build entries won't be known in the constructor\n    this.interceptionRoutePatterns = this.getinterceptionRoutePatterns()\n\n    // This is required by the tracing subsystem.\n    setGlobal('appDir', this.appDir)\n    setGlobal('pagesDir', this.pagesDir)\n    // Only set telemetry if it wasn't already set\n    if (!existingTelemetry) {\n      setGlobal('telemetry', telemetry)\n    }\n\n    process.on('unhandledRejection', (reason) => {\n      if (isPostpone(reason)) {\n        // React postpones that are unhandled might end up logged here but they're\n        // not really errors. They're just part of rendering.\n        return\n      }\n      this.logErrorWithOriginalStack(reason, 'unhandledRejection')\n    })\n    process.on('uncaughtException', (err) => {\n      this.logErrorWithOriginalStack(err, 'uncaughtException')\n    })\n  }\n\n  protected async hasPage(pathname: string): Promise<boolean> {\n    let normalizedPath: string\n    try {\n      normalizedPath = normalizePagePath(pathname)\n    } catch (err) {\n      console.error(err)\n      // if normalizing the page fails it means it isn't valid\n      // so it doesn't exist so don't throw and return false\n      // to ensure we return 404 instead of 500\n      return false\n    }\n\n    if (isMiddlewareFile(normalizedPath)) {\n      return findPageFile(\n        this.dir,\n        normalizedPath,\n        this.nextConfig.pageExtensions,\n        false\n      ).then(Boolean)\n    }\n\n    let appFile: string | null = null\n    let pagesFile: string | null = null\n\n    if (this.appDir) {\n      appFile = await findPageFile(\n        this.appDir,\n        normalizedPath + '/page',\n        this.nextConfig.pageExtensions,\n        true\n      )\n    }\n\n    if (this.pagesDir) {\n      pagesFile = await findPageFile(\n        this.pagesDir,\n        normalizedPath,\n        this.nextConfig.pageExtensions,\n        false\n      )\n    }\n    if (appFile && pagesFile) {\n      return false\n    }\n\n    return Boolean(appFile || pagesFile)\n  }\n\n  async runMiddleware(params: {\n    request: NodeNextRequest\n    response: NodeNextResponse\n    parsedUrl: ParsedUrl\n    parsed: UrlWithParsedQuery\n    middlewareList: MiddlewareRoutingItem[]\n  }) {\n    try {\n      const result = await super.runMiddleware({\n        ...params,\n        onWarning: (warn) => {\n          this.logErrorWithOriginalStack(warn, 'warning')\n        },\n      })\n\n      if ('finished' in result) {\n        return result\n      }\n\n      result.waitUntil.catch((error) => {\n        this.logErrorWithOriginalStack(error, 'unhandledRejection')\n      })\n      return result\n    } catch (error) {\n      if (error instanceof DecodeError) {\n        throw error\n      }\n\n      /**\n       * We only log the error when it is not a MiddlewareNotFound error as\n       * in that case we should be already displaying a compilation error\n       * which is what makes the module not found.\n       */\n      if (!(error instanceof MiddlewareNotFoundError)) {\n        this.logErrorWithOriginalStack(error)\n      }\n\n      const err = getProperError(error)\n      decorateServerError(err, COMPILER_NAMES.edgeServer)\n      const { request, response, parsedUrl } = params\n\n      /**\n       * When there is a failure for an internal Next.js request from\n       * middleware we bypass the error without finishing the request\n       * so we can serve the required chunks to render the error.\n       */\n      if (\n        request.url.includes('/_next/static') ||\n        request.url.includes('/__nextjs_original-stack-frame') ||\n        request.url.includes('/__nextjs_source-map') ||\n        request.url.includes('/__nextjs_error_feedback')\n      ) {\n        return { finished: false }\n      }\n\n      response.statusCode = 500\n      await this.renderError(err, request, response, parsedUrl.pathname)\n      return { finished: true }\n    }\n  }\n\n  async runEdgeFunction(params: {\n    req: NodeNextRequest\n    res: NodeNextResponse\n    query: ParsedUrlQuery\n    params: Params | undefined\n    page: string\n    appPaths: string[] | null\n    isAppPath: boolean\n  }) {\n    try {\n      return super.runEdgeFunction({\n        ...params,\n        onError: (err) => this.logErrorWithOriginalStack(err, 'app-dir'),\n        onWarning: (warn) => {\n          this.logErrorWithOriginalStack(warn, 'warning')\n        },\n      })\n    } catch (error) {\n      if (error instanceof DecodeError) {\n        throw error\n      }\n      this.logErrorWithOriginalStack(error, 'warning')\n      const err = getProperError(error)\n      const { req, res, page } = params\n\n      res.statusCode = 500\n      await this.renderError(err, req, res, page)\n      return null\n    }\n  }\n\n  public getRequestHandler(): NodeRequestHandler {\n    const handler = super.getRequestHandler()\n\n    return (req, res, parsedUrl) => {\n      const request = this.normalizeReq(req)\n      const response = this.normalizeRes(res)\n      const loggingConfig = this.nextConfig.logging\n\n      if (loggingConfig !== false) {\n        // The closure variable is not used here because the request handler may be invoked twice for one request when middleware is added in the application.\n        // By setting the start time we can ensure that the middleware timing is correctly included.\n        if (!getRequestMeta(req, 'devRequestTimingStart')) {\n          const requestStart = process.hrtime.bigint()\n          addRequestMeta(req, 'devRequestTimingStart', requestStart)\n        }\n        const isMiddlewareRequest =\n          getRequestMeta(req, 'middlewareInvoke') ?? false\n\n        if (!isMiddlewareRequest) {\n          response.originalResponse.once('close', () => {\n            // NOTE: The route match is only attached to the request's meta data\n            // after the request handler is created, so we need to check it in the\n            // close handler and not before.\n            const routeMatch = getRequestMeta(req).match\n\n            if (!routeMatch) {\n              return\n            }\n\n            // The closure variable is not used here because the request handler may be invoked twice for one request when middleware is added in the application.\n            // By setting the start time we can ensure that the middleware timing is correctly included.\n            const requestStart = getRequestMeta(req, 'devRequestTimingStart')\n            if (!requestStart) {\n              return\n            }\n            const requestEnd = process.hrtime.bigint()\n            logRequests(\n              request,\n              response,\n              loggingConfig,\n              requestStart,\n              requestEnd,\n              getRequestMeta(req, 'devRequestTimingMiddlewareStart'),\n              getRequestMeta(req, 'devRequestTimingMiddlewareEnd'),\n              getRequestMeta(req, 'devRequestTimingInternalsEnd')\n            )\n          })\n        }\n      }\n\n      return handler(request, response, parsedUrl)\n    }\n  }\n\n  public async handleRequest(\n    req: NodeNextRequest,\n    res: NodeNextResponse,\n    parsedUrl?: NextUrlWithParsedQuery\n  ): Promise<void> {\n    const span = trace('handle-request', undefined, { url: req.url })\n    const result = await span.traceAsyncFn(async () => {\n      await this.ready?.promise\n      addRequestMeta(req, 'PagesErrorDebug', this.renderOpts.ErrorDebug)\n      return await super.handleRequest(req, res, parsedUrl)\n    })\n    const memoryUsage = process.memoryUsage()\n    span\n      .traceChild('memory-usage', {\n        url: req.url,\n        'memory.rss': String(memoryUsage.rss),\n        'memory.heapUsed': String(memoryUsage.heapUsed),\n        'memory.heapTotal': String(memoryUsage.heapTotal),\n      })\n      .stop()\n    return result\n  }\n\n  async run(\n    req: NodeNextRequest,\n    res: NodeNextResponse,\n    parsedUrl: UrlWithParsedQuery\n  ): Promise<void> {\n    await this.ready?.promise\n\n    const { basePath } = this.nextConfig\n    let originalPathname: string | null = null\n\n    // TODO: see if we can remove this in the future\n    if (basePath && pathHasPrefix(parsedUrl.pathname || '/', basePath)) {\n      // strip basePath before handling dev bundles\n      // If replace ends up replacing the full url it'll be `undefined`, meaning we have to default it to `/`\n      originalPathname = parsedUrl.pathname\n      parsedUrl.pathname = removePathPrefix(parsedUrl.pathname || '/', basePath)\n    }\n\n    const { pathname } = parsedUrl\n\n    if (pathname!.startsWith('/_next')) {\n      if (fs.existsSync(pathJoin(this.publicDir, '_next'))) {\n        throw new Error(PUBLIC_DIR_MIDDLEWARE_CONFLICT)\n      }\n    }\n\n    if (originalPathname) {\n      // restore the path before continuing so that custom-routes can accurately determine\n      // if they should match against the basePath or not\n      parsedUrl.pathname = originalPathname\n    }\n    try {\n      return await super.run(req, res, parsedUrl)\n    } catch (error) {\n      const err = getProperError(error)\n      formatServerError(err)\n      this.logErrorWithOriginalStack(err)\n      if (!res.sent) {\n        res.statusCode = 500\n        try {\n          return await this.renderError(err, req, res, pathname!, {\n            __NEXT_PAGE: (isError(err) && err.page) || pathname || '',\n          })\n        } catch (internalErr) {\n          console.error(internalErr)\n          res.body('Internal Server Error').send()\n        }\n      }\n    }\n  }\n\n  protected logErrorWithOriginalStack(\n    err?: unknown,\n    type?: 'unhandledRejection' | 'uncaughtException' | 'warning' | 'app-dir'\n  ): void {\n    this.bundlerService.logErrorWithOriginalStack(err, type)\n  }\n\n  protected getPagesManifest(): PagesManifest | undefined {\n    return (\n      NodeManifestLoader.require(\n        pathJoin(this.serverDistDir, PAGES_MANIFEST)\n      ) ?? undefined\n    )\n  }\n\n  protected getAppPathsManifest(): PagesManifest | undefined {\n    if (!this.enabledDirectories.app) return undefined\n\n    return (\n      NodeManifestLoader.require(\n        pathJoin(this.serverDistDir, APP_PATHS_MANIFEST)\n      ) ?? undefined\n    )\n  }\n\n  protected getinterceptionRoutePatterns(): RegExp[] {\n    const rewrites = generateInterceptionRoutesRewrites(\n      Object.keys(this.appPathRoutes ?? {}),\n      this.nextConfig.basePath\n    ).map((route) => new RegExp(buildCustomRoute('rewrite', route).regex))\n\n    if (this.nextConfig.output === 'export' && rewrites.length > 0) {\n      Log.error(\n        'Intercepting routes are not supported with static export.\\nRead more: https://nextjs.org/docs/app/building-your-application/deploying/static-exports#unsupported-features'\n      )\n\n      process.exit(1)\n    }\n\n    return rewrites ?? []\n  }\n\n  protected async getMiddleware() {\n    // We need to populate the match\n    // field as it isn't serializable\n    if (this.middleware?.match === null) {\n      this.middleware.match = getMiddlewareRouteMatcher(\n        this.middleware.matchers || []\n      )\n    }\n    return this.middleware\n  }\n\n  protected getNextFontManifest() {\n    return undefined\n  }\n\n  protected async hasMiddleware(): Promise<boolean> {\n    return this.hasPage(this.actualMiddlewareFile!)\n  }\n\n  protected async ensureMiddleware(url: string) {\n    return this.ensurePage({\n      page: this.actualMiddlewareFile!,\n      clientOnly: false,\n      definition: undefined,\n      url,\n    })\n  }\n\n  protected async loadInstrumentationModule(): Promise<any> {\n    let instrumentationModule: any\n    if (\n      this.actualInstrumentationHookFile &&\n      (await this.ensurePage({\n        page: this.actualInstrumentationHookFile!,\n        clientOnly: false,\n        definition: undefined,\n      })\n        .then(() => true)\n        .catch(() => false))\n    ) {\n      try {\n        instrumentationModule = await getInstrumentationModule(\n          this.dir,\n          this.nextConfig.distDir\n        )\n      } catch (err: any) {\n        err.message = `An error occurred while loading instrumentation hook: ${err.message}`\n        throw err\n      }\n    }\n    return instrumentationModule\n  }\n\n  protected async runInstrumentationHookIfAvailable() {\n    await ensureInstrumentationRegistered(this.dir, this.nextConfig.distDir)\n  }\n\n  protected async ensureEdgeFunction({\n    page,\n    appPaths,\n    url,\n  }: {\n    page: string\n    appPaths: string[] | null\n    url: string\n  }) {\n    return this.ensurePage({\n      page,\n      appPaths,\n      clientOnly: false,\n      definition: undefined,\n      url,\n    })\n  }\n\n  generateRoutes(_dev?: boolean) {\n    // In development we expose all compiled files for react-error-overlay's line show feature\n    // We use unshift so that we're sure the routes is defined before Next's default routes\n    // routes.unshift({\n    //   match: getPathMatch('/_next/development/:path*'),\n    //   type: 'route',\n    //   name: '_next/development catchall',\n    //   fn: async (req, res, params) => {\n    //     const p = pathJoin(this.distDir, ...(params.path || []))\n    //     await this.serveStatic(req, res, p)\n    //     return {\n    //       finished: true,\n    //     }\n    //   },\n    // })\n  }\n\n  protected async getStaticPaths({\n    pathname,\n    urlPathname,\n    requestHeaders,\n    page,\n    isAppPath,\n  }: {\n    pathname: string\n    urlPathname: string\n    requestHeaders: IncrementalCache['requestHeaders']\n    page: string\n    isAppPath: boolean\n  }): Promise<{\n    prerenderedRoutes?: PrerenderedRoute[]\n    staticPaths?: string[]\n    fallbackMode?: FallbackMode\n  }> {\n    // we lazy load the staticPaths to prevent the user\n    // from waiting on them for the page to load in dev mode\n\n    const __getStaticPaths = async () => {\n      const { configFileName, httpAgentOptions } = this.nextConfig\n      const { locales, defaultLocale } = this.nextConfig.i18n || {}\n      const staticPathsWorker = this.getStaticPathsWorker()\n\n      try {\n        const pathsResult = await staticPathsWorker.loadStaticPaths({\n          dir: this.dir,\n          distDir: this.distDir,\n          pathname,\n          config: {\n            pprConfig: this.nextConfig.experimental.ppr,\n            configFileName,\n            cacheComponents: Boolean(this.nextConfig.cacheComponents),\n          },\n          httpAgentOptions,\n          locales,\n          defaultLocale,\n          page,\n          isAppPath,\n          requestHeaders,\n          cacheHandler: this.nextConfig.cacheHandler,\n          cacheHandlers: this.nextConfig.cacheHandlers,\n          cacheLifeProfiles: this.nextConfig.cacheLife,\n          fetchCacheKeyPrefix: this.nextConfig.experimental.fetchCacheKeyPrefix,\n          isrFlushToDisk: this.nextConfig.experimental.isrFlushToDisk,\n          cacheMaxMemorySize: this.nextConfig.cacheMaxMemorySize,\n          nextConfigOutput: this.nextConfig.output,\n          buildId: this.buildId,\n          authInterrupts: Boolean(this.nextConfig.experimental.authInterrupts),\n          sriEnabled: Boolean(this.nextConfig.experimental.sri?.algorithm),\n        })\n        return pathsResult\n      } finally {\n        // we don't re-use workers so destroy the used one\n        staticPathsWorker.end()\n      }\n    }\n    const result = this.staticPathsCache.get(pathname)\n\n    const nextInvoke = withCoalescedInvoke(__getStaticPaths)(\n      `staticPaths-${pathname}`,\n      []\n    )\n      .then(async (res) => {\n        const { prerenderedRoutes, fallbackMode: fallback } = res.value\n\n        if (isAppPath) {\n          if (this.nextConfig.output === 'export') {\n            if (!prerenderedRoutes) {\n              throw new Error(\n                `Page \"${page}\" is missing exported function \"generateStaticParams()\", which is required with \"output: export\" config.`\n              )\n            }\n\n            if (\n              !prerenderedRoutes.some((item) => item.pathname === urlPathname)\n            ) {\n              throw new Error(\n                `Page \"${page}\" is missing param \"${pathname}\" in \"generateStaticParams()\", which is required with \"output: export\" config.`\n              )\n            }\n          }\n\n          // Since generateStaticParams run on the background, when accessing the\n          // devFallbackParams during the render, it is still set to the previous\n          // result from the cache. Therefore when the result has changed, re-render\n          // the Server Component to sync the devFallbackParams with the new result.\n          if (\n            isAppPath &&\n            this.nextConfig.cacheComponents &&\n            // Ensure this is not the first invocation.\n            result &&\n            // Ideally, we would want to compare the whole objects, but that is too expensive.\n            result.prerenderedRoutes?.length !== prerenderedRoutes?.length\n          ) {\n            this.bundlerService.triggerHMR({\n              type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_COMPONENT_CHANGES,\n              hash: `generateStaticParams-${Date.now()}`,\n            })\n          }\n        }\n\n        if (!isAppPath && this.nextConfig.output === 'export') {\n          if (fallback === FallbackMode.BLOCKING_STATIC_RENDER) {\n            throw new Error(\n              'getStaticPaths with \"fallback: blocking\" cannot be used with \"output: export\". See more info here: https://nextjs.org/docs/advanced-features/static-html-export'\n            )\n          } else if (fallback === FallbackMode.PRERENDER) {\n            throw new Error(\n              'getStaticPaths with \"fallback: true\" cannot be used with \"output: export\". See more info here: https://nextjs.org/docs/advanced-features/static-html-export'\n            )\n          }\n        }\n\n        const value: {\n          staticPaths: string[] | undefined\n          prerenderedRoutes: PrerenderedRoute[] | undefined\n          fallbackMode: FallbackMode | undefined\n        } = {\n          staticPaths: prerenderedRoutes?.map((route) => route.pathname),\n          prerenderedRoutes,\n          fallbackMode: fallback,\n        }\n\n        if (\n          res.value?.fallbackMode !== undefined &&\n          // This matches the hasGenerateStaticParams logic we do during build.\n          (!isAppPath || (prerenderedRoutes && prerenderedRoutes.length > 0))\n        ) {\n          // we write the static paths to partial manifest for\n          // fallback handling inside of entry handler's\n          const rawExistingManifest = await fs.promises.readFile(\n            pathJoin(this.distDir, PRERENDER_MANIFEST),\n            'utf8'\n          )\n          const existingManifest: PrerenderManifest =\n            JSON.parse(rawExistingManifest)\n          for (const staticPath of value.staticPaths || []) {\n            existingManifest.routes[staticPath] = {} as any\n          }\n\n          existingManifest.dynamicRoutes[pathname] = {\n            dataRoute: null,\n            dataRouteRegex: null,\n            fallback: fallbackModeToFallbackField(res.value.fallbackMode, page),\n            fallbackRevalidate: false,\n            fallbackExpire: undefined,\n            fallbackHeaders: undefined,\n            fallbackStatus: undefined,\n            fallbackRootParams: undefined,\n            fallbackRouteParams: undefined,\n            fallbackSourceRoute: pathname,\n            prefetchDataRoute: undefined,\n            prefetchDataRouteRegex: undefined,\n            routeRegex: getRouteRegex(pathname).re.source,\n            experimentalPPR: undefined,\n            renderingMode: undefined,\n            allowHeader: [],\n          }\n\n          const updatedManifest = JSON.stringify(existingManifest)\n\n          if (updatedManifest !== rawExistingManifest) {\n            await fs.promises.writeFile(\n              pathJoin(this.distDir, PRERENDER_MANIFEST),\n              updatedManifest\n            )\n          }\n        }\n        this.staticPathsCache.set(pathname, value)\n        return value\n      })\n      .catch((err) => {\n        this.staticPathsCache.remove(pathname)\n        if (!result) throw err\n        Log.error(`Failed to generate static paths for ${pathname}:`)\n        console.error(err)\n      })\n\n    if (result) {\n      return result\n    }\n    return nextInvoke as NonNullable<typeof result>\n  }\n\n  protected async ensurePage(opts: {\n    page: string\n    clientOnly: boolean\n    appPaths?: ReadonlyArray<string> | null\n    definition: RouteDefinition | undefined\n    url?: string\n  }): Promise<void> {\n    await this.bundlerService.ensurePage(opts)\n  }\n\n  protected async findPageComponents({\n    locale,\n    page,\n    query,\n    params,\n    isAppPath,\n    appPaths = null,\n    shouldEnsure,\n    url,\n  }: {\n    locale: string | undefined\n    page: string\n    query: NextParsedUrlQuery\n    params: Params\n    isAppPath: boolean\n    sriEnabled?: boolean\n    appPaths?: ReadonlyArray<string> | null\n    shouldEnsure: boolean\n    url?: string\n  }): Promise<FindComponentsResult | null> {\n    await this.ready?.promise\n\n    const compilationErr = await this.getCompilationError(page)\n    if (compilationErr) {\n      // Wrap build errors so that they don't get logged again\n      throw new WrappedBuildError(compilationErr)\n    }\n    if (shouldEnsure || this.serverOptions.customServer) {\n      await this.ensurePage({\n        page,\n        appPaths,\n        clientOnly: false,\n        definition: undefined,\n        url,\n      })\n    }\n\n    this.nextFontManifest = super.getNextFontManifest()\n\n    return await super.findPageComponents({\n      page,\n      query,\n      params,\n      locale,\n      isAppPath,\n      shouldEnsure,\n      url,\n    })\n  }\n\n  protected async getFallbackErrorComponents(\n    url?: string\n  ): Promise<LoadComponentsReturnType | null> {\n    await this.bundlerService.getFallbackErrorComponents(url)\n    return await loadDefaultErrorComponents(this.distDir)\n  }\n\n  async getCompilationError(page: string): Promise<any> {\n    return await this.bundlerService.getCompilationError(page)\n  }\n\n  protected async instrumentationOnRequestError(\n    ...args: Parameters<ServerOnInstrumentationRequestError>\n  ) {\n    await super.instrumentationOnRequestError(...args)\n\n    const err = args[0]\n    this.logErrorWithOriginalStack(err, 'app-dir')\n  }\n}\n"],"names":["DevServer","PagesDevOverlayBridgeImpl","ReactDevOverlay","props","undefined","require","PagesDevOverlayBridge","React","createElement","Server","getStaticPathsWorker","worker","Worker","resolve","maxRetries","numWorkers","enableWorkerThreads","nextConfig","experimental","workerThreads","forkOptions","env","process","NODE_OPTIONS","getFormattedNodeOptionsWithoutInspect","getStdout","pipe","stdout","getStderr","stderr","constructor","options","Error","stackTraceLimit","dev","ready","DetachedPromise","bundlerService","startServerSpan","trace","renderOpts","ErrorDebug","staticPathsCache","LRUCache","length","value","JSON","stringify","staticPaths","pagesDir","appDir","findPagesDir","dir","serverComponentsHmrCache","cacheMaxMemorySize","getServerComponentsHmrCache","getRouteMatchers","ensurer","ensure","match","pathname","ensurePage","definition","page","clientOnly","url","matchers","DevRouteMatcherManager","extensions","pageExtensions","extensionsExpression","RegExp","join","fileReader","BatchedFileReader","DefaultFileReader","pathnameFilter","test","push","DevPagesRouteMatcherProvider","localeNormalizer","DevPagesAPIRouteMatcherProvider","ignorePartFilter","part","startsWith","isTurbopack","TURBOPACK","DevAppPageRouteMatcherProvider","DevAppRouteRouteMatcherProvider","getBuildId","prepareImpl","setGlobal","distDir","PHASE_DEVELOPMENT_SERVER","existingTelemetry","traceGlobals","get","telemetry","Telemetry","reload","interceptionRoutePatterns","getinterceptionRoutePatterns","on","reason","isPostpone","logErrorWithOriginalStack","err","hasPage","normalizedPath","normalizePagePath","console","error","isMiddlewareFile","findPageFile","then","Boolean","appFile","pagesFile","runMiddleware","params","result","onWarning","warn","waitUntil","catch","DecodeError","MiddlewareNotFoundError","getProperError","decorateServerError","COMPILER_NAMES","edgeServer","request","response","parsedUrl","includes","finished","statusCode","renderError","runEdgeFunction","onError","req","res","getRequestHandler","handler","normalizeReq","normalizeRes","loggingConfig","logging","getRequestMeta","requestStart","hrtime","bigint","addRequestMeta","isMiddlewareRequest","originalResponse","once","routeMatch","requestEnd","logRequests","handleRequest","span","traceAsyncFn","promise","memoryUsage","traceChild","String","rss","heapUsed","heapTotal","stop","run","basePath","originalPathname","pathHasPrefix","removePathPrefix","fs","existsSync","pathJoin","publicDir","PUBLIC_DIR_MIDDLEWARE_CONFLICT","formatServerError","sent","__NEXT_PAGE","isError","internalErr","body","send","type","getPagesManifest","NodeManifestLoader","serverDistDir","PAGES_MANIFEST","getAppPathsManifest","enabledDirectories","app","APP_PATHS_MANIFEST","rewrites","generateInterceptionRoutesRewrites","Object","keys","appPathRoutes","map","route","buildCustomRoute","regex","output","Log","exit","getMiddleware","middleware","getMiddlewareRouteMatcher","getNextFontManifest","hasMiddleware","actualMiddlewareFile","ensureMiddleware","loadInstrumentationModule","instrumentationModule","actualInstrumentationHookFile","getInstrumentationModule","message","runInstrumentationHookIfAvailable","ensureInstrumentationRegistered","ensureEdgeFunction","appPaths","generateRoutes","_dev","getStaticPaths","urlPathname","requestHeaders","isAppPath","__getStaticPaths","configFileName","httpAgentOptions","locales","defaultLocale","i18n","staticPathsWorker","pathsResult","loadStaticPaths","config","pprConfig","ppr","cacheComponents","cacheHandler","cacheHandlers","cacheLifeProfiles","cacheLife","fetchCacheKeyPrefix","isrFlushToDisk","nextConfigOutput","buildId","authInterrupts","sriEnabled","sri","algorithm","end","nextInvoke","withCoalescedInvoke","prerenderedRoutes","fallbackMode","fallback","some","item","triggerHMR","HMR_MESSAGE_SENT_TO_BROWSER","SERVER_COMPONENT_CHANGES","hash","Date","now","FallbackMode","BLOCKING_STATIC_RENDER","PRERENDER","rawExistingManifest","promises","readFile","PRERENDER_MANIFEST","existingManifest","parse","staticPath","routes","dynamicRoutes","dataRoute","dataRouteRegex","fallbackModeToFallbackField","fallbackRevalidate","fallbackExpire","fallbackHeaders","fallbackStatus","fallbackRootParams","fallbackRouteParams","fallbackSourceRoute","prefetchDataRoute","prefetchDataRouteRegex","routeRegex","getRouteRegex","re","source","experimentalPPR","renderingMode","allowHeader","updatedManifest","writeFile","set","remove","opts","findPageComponents","locale","query","shouldEnsure","compilationErr","getCompilationError","WrappedBuildError","serverOptions","customServer","nextFontManifest","getFallbackErrorComponents","loadDefaultErrorComponents","instrumentationOnRequestError","args"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1254, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/get-source-map-from-file.ts"],"sourcesContent":["import fs from 'fs/promises'\nimport path from 'path'\nimport url from 'url'\nimport type { RawSourceMap } from 'next/dist/compiled/source-map08'\nimport dataUriToBuffer from 'next/dist/compiled/data-uri-to-buffer'\n\nfunction getSourceMapUrl(fileContents: string): string | null {\n  const regex = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/gm\n  let match = null\n  for (;;) {\n    let next = regex.exec(fileContents)\n    if (next == null) {\n      break\n    }\n    match = next\n  }\n  if (!(match && match[1])) {\n    return null\n  }\n  return match[1].toString()\n}\n\nexport async function getSourceMapFromFile(\n  filename: string\n): Promise<RawSourceMap | undefined> {\n  filename = filename.startsWith('file://')\n    ? url.fileURLToPath(filename)\n    : filename\n\n  let fileContents: string\n\n  try {\n    fileContents = await fs.readFile(filename, 'utf-8')\n  } catch (error) {\n    throw new Error(`Failed to read file contents of ${filename}.`, {\n      cause: error,\n    })\n  }\n\n  const sourceUrl = getSourceMapUrl(fileContents)\n\n  if (!sourceUrl) {\n    return undefined\n  }\n\n  if (sourceUrl.startsWith('data:')) {\n    let buffer: dataUriToBuffer.MimeBuffer\n\n    try {\n      buffer = dataUriToBuffer(sourceUrl)\n    } catch (error) {\n      throw new Error(`Failed to parse source map URL for ${filename}.`, {\n        cause: error,\n      })\n    }\n\n    if (buffer.type !== 'application/json') {\n      throw new Error(\n        `Unknown source map type for ${filename}: ${buffer.typeFull}.`\n      )\n    }\n\n    try {\n      return JSON.parse(buffer.toString())\n    } catch (error) {\n      throw new Error(`Failed to parse source map for ${filename}.`, {\n        cause: error,\n      })\n    }\n  }\n\n  const sourceMapFilename = path.resolve(\n    path.dirname(filename),\n    decodeURIComponent(sourceUrl)\n  )\n\n  try {\n    const sourceMapContents = await fs.readFile(sourceMapFilename, 'utf-8')\n\n    return JSON.parse(sourceMapContents.toString())\n  } catch (error) {\n    throw new Error(`Failed to parse source map ${sourceMapFilename}.`, {\n      cause: error,\n    })\n  }\n}\n"],"names":["getSourceMapFromFile","getSourceMapUrl","fileContents","regex","match","next","exec","toString","filename","startsWith","url","fileURLToPath","fs","readFile","error","Error","cause","sourceUrl","undefined","buffer","dataUriToBuffer","type","typeFull","JSON","parse","sourceMapFilename","path","resolve","dirname","decodeURIComponent","sourceMapContents"],"mappings":";;;+BAsBsBA,wBAAAA;;;eAAAA;;;iEAtBP;6DACE;4DACD;wEAEY;;;;;;AAE5B,SAASC,gBAAgBC,YAAoB;IAC3C,MAAMC,QAAQ;IACd,IAAIC,QAAQ;IACZ,OAAS;QACP,IAAIC,OAAOF,MAAMG,IAAI,CAACJ;QACtB,IAAIG,QAAQ,MAAM;YAChB;QACF;QACAD,QAAQC;IACV;IACA,IAAI,CAAED,CAAAA,SAASA,KAAK,CAAC,EAAC,GAAI;QACxB,OAAO;IACT;IACA,OAAOA,KAAK,CAAC,EAAE,CAACG,QAAQ;AAC1B;AAEO,eAAeP,qBACpBQ,QAAgB;IAEhBA,WAAWA,SAASC,UAAU,CAAC,aAC3BC,KAAAA,OAAG,CAACC,aAAa,CAACH,YAClBA;IAEJ,IAAIN;IAEJ,IAAI;QACFA,eAAe,MAAMU,UAAAA,OAAE,CAACC,QAAQ,CAACL,UAAU;IAC7C,EAAE,OAAOM,OAAO;QACd,MAAM,OAAA,cAEJ,CAFI,IAAIC,MAAM,CAAC,gCAAgC,EAAEP,SAAS,CAAC,CAAC,EAAE;YAC9DQ,OAAOF;QACT,IAFM,qBAAA;mBAAA;wBAAA;0BAAA;QAEL;IACH;IAEA,MAAMG,YAAYhB,gBAAgBC;IAElC,IAAI,CAACe,WAAW;QACd,OAAOC;IACT;IAEA,IAAID,UAAUR,UAAU,CAAC,UAAU;QACjC,IAAIU;QAEJ,IAAI;YACFA,SAASC,CAAAA,GAAAA,iBAAAA,OAAe,EAACH;QAC3B,EAAE,OAAOH,OAAO;YACd,MAAM,OAAA,cAEJ,CAFI,IAAIC,MAAM,CAAC,mCAAmC,EAAEP,SAAS,CAAC,CAAC,EAAE;gBACjEQ,OAAOF;YACT,IAFM,qBAAA;uBAAA;4BAAA;8BAAA;YAEL;QACH;QAEA,IAAIK,OAAOE,IAAI,KAAK,oBAAoB;YACtC,MAAM,OAAA,cAEL,CAFK,IAAIN,MACR,CAAC,4BAA4B,EAAEP,SAAS,EAAE,EAAEW,OAAOG,QAAQ,CAAC,CAAC,CAAC,GAD1D,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;QAEA,IAAI;YACF,OAAOC,KAAKC,KAAK,CAACL,OAAOZ,QAAQ;QACnC,EAAE,OAAOO,OAAO;YACd,MAAM,OAAA,cAEJ,CAFI,IAAIC,MAAM,CAAC,+BAA+B,EAAEP,SAAS,CAAC,CAAC,EAAE;gBAC7DQ,OAAOF;YACT,IAFM,qBAAA;uBAAA;4BAAA;8BAAA;YAEL;QACH;IACF;IAEA,MAAMW,oBAAoBC,MAAAA,OAAI,CAACC,OAAO,CACpCD,MAAAA,OAAI,CAACE,OAAO,CAACpB,WACbqB,mBAAmBZ;IAGrB,IAAI;QACF,MAAMa,oBAAoB,MAAMlB,UAAAA,OAAE,CAACC,QAAQ,CAACY,mBAAmB;QAE/D,OAAOF,KAAKC,KAAK,CAACM,kBAAkBvB,QAAQ;IAC9C,EAAE,OAAOO,OAAO;QACd,MAAM,OAAA,cAEJ,CAFI,IAAIC,MAAM,CAAC,2BAA2B,EAAEU,kBAAkB,CAAC,CAAC,EAAE;YAClET,OAAOF;QACT,IAFM,qBAAA;mBAAA;wBAAA;0BAAA;QAEL;IACH;AACF","ignoreList":[0]}},
    {"offset": {"line": 1355, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/middleware-webpack.ts"],"sourcesContent":["import { findSourceMap, type SourceMap } from 'module'\nimport path from 'path'\nimport { fileURLToPath, pathToFileURL } from 'url'\nimport { SourceMapConsumer } from 'next/dist/compiled/source-map08'\nimport { getSourceMapFromFile } from './get-source-map-from-file'\nimport {\n  devirtualizeReactServerURL,\n  findApplicableSourceMapPayload,\n  sourceMapIgnoreListsEverything,\n  type BasicSourceMapPayload,\n  type ModernSourceMapPayload,\n} from '../lib/source-maps'\nimport { openFileInEditor } from '../../next-devtools/server/launch-editor'\nimport {\n  getOriginalCodeFrame,\n  ignoreListAnonymousStackFramesIfSandwiched,\n  type StackFrame,\n  type IgnorableStackFrame,\n  type OriginalStackFrameResponse,\n  type OriginalStackFramesRequest,\n  type OriginalStackFramesResponse,\n} from '../../next-devtools/server/shared'\nimport { middlewareResponse } from '../../next-devtools/server/middleware-response'\n\nimport type { IncomingMessage, ServerResponse } from 'http'\nimport type webpack from 'webpack'\nimport type {\n  NullableMappedPosition,\n  RawSourceMap,\n} from 'next/dist/compiled/source-map08'\nimport { formatFrameSourceFile } from '../../next-devtools/shared/webpack-module-path'\nimport type { MappedPosition } from 'source-map'\nimport { inspect } from 'util'\n\nfunction shouldIgnoreSource(sourceURL: string): boolean {\n  return (\n    sourceURL.includes('node_modules') ||\n    // Only relevant for when Next.js is symlinked e.g. in the Next.js monorepo\n    sourceURL.includes('next/dist') ||\n    sourceURL.startsWith('node:')\n  )\n}\n\ntype IgnoredSources = Array<{ url: string; ignored: boolean }>\n\ntype SourceAttributes = {\n  sourcePosition: NullableMappedPosition\n  sourceContent: string | null\n}\n\ntype Source =\n  | {\n      type: 'file'\n      sourceMap: BasicSourceMapPayload\n      ignoredSources: IgnoredSources\n      moduleURL: string\n    }\n  | {\n      type: 'bundle'\n      sourceMap: BasicSourceMapPayload\n      ignoredSources: IgnoredSources\n      compilation: webpack.Compilation\n      moduleId: string\n      moduleURL: string\n    }\n\nfunction getModuleById(\n  id: string | undefined,\n  compilation: webpack.Compilation\n) {\n  const { chunkGraph, modules } = compilation\n\n  return [...modules].find((module) => chunkGraph.getModuleId(module) === id)\n}\n\nfunction findModuleNotFoundFromError(errorMessage: string | undefined) {\n  return errorMessage?.match(/'([^']+)' module/)?.[1]\n}\n\nfunction getSourcePath(source: string) {\n  if (source.startsWith('file://')) {\n    return fileURLToPath(source)\n  }\n  return source.replace(/^(webpack:\\/\\/\\/|webpack:\\/\\/|webpack:\\/\\/_N_E\\/)/, '')\n}\n\n/**\n * @returns 1-based lines and 0-based columns\n */\nasync function findOriginalSourcePositionAndContent(\n  sourceMap: ModernSourceMapPayload,\n  position: { line1: number | null; column1: number | null }\n): Promise<SourceAttributes | null> {\n  let consumer: SourceMapConsumer\n  try {\n    consumer = await new SourceMapConsumer(sourceMap)\n  } catch (cause) {\n    console.error(\n      new Error(\n        `${sourceMap.file}: Invalid source map. Only conformant source maps can be used to find the original code.`,\n        { cause }\n      )\n    )\n    return null\n  }\n\n  try {\n    const sourcePosition = consumer.originalPositionFor({\n      line: position.line1 ?? 1,\n      // 0-based columns out requires 0-based columns in.\n      column: (position.column1 ?? 1) - 1,\n    })\n\n    if (!sourcePosition.source) {\n      return null\n    }\n\n    const sourceContent: string | null =\n      consumer.sourceContentFor(\n        sourcePosition.source,\n        /* returnNullOnMissing */ true\n      ) ?? null\n\n    return {\n      sourcePosition,\n      sourceContent,\n    }\n  } finally {\n    consumer.destroy()\n  }\n}\n\nexport function getIgnoredSources(\n  sourceMap: RawSourceMap & { ignoreList?: number[] }\n): IgnoredSources {\n  const ignoreList = new Set<number>(sourceMap.ignoreList ?? [])\n  const moduleFilenames = sourceMap?.sources ?? []\n\n  for (let index = 0; index < moduleFilenames.length; index++) {\n    // bundlerFilePath case: webpack://./app/page.tsx\n    const webpackSourceURL = moduleFilenames[index]\n    // Format the path to the normal file path\n    const formattedFilePath = formatFrameSourceFile(webpackSourceURL)\n    if (shouldIgnoreSource(formattedFilePath)) {\n      ignoreList.add(index)\n    }\n  }\n\n  const ignoredSources = sourceMap.sources.map((source, index) => {\n    return {\n      url: source,\n      ignored: ignoreList.has(sourceMap.sources.indexOf(source)),\n      content: sourceMap.sourcesContent?.[index] ?? null,\n    }\n  })\n  return ignoredSources\n}\n\nfunction isIgnoredSource(\n  source: Source,\n  sourcePosition: MappedPosition | NullableMappedPosition\n) {\n  if (sourcePosition.source == null) {\n    return true\n  }\n  for (const ignoredSource of source.ignoredSources) {\n    if (ignoredSource.ignored && ignoredSource.url === sourcePosition.source) {\n      return true\n    }\n  }\n\n  return false\n}\n\nfunction findOriginalSourcePositionAndContentFromCompilation(\n  moduleId: string | undefined,\n  importedModule: string,\n  compilation: webpack.Compilation\n): SourceAttributes | null {\n  const module = getModuleById(moduleId, compilation)\n  return module?.buildInfo?.importLocByPath?.get(importedModule) ?? null\n}\n\nexport async function createOriginalStackFrame({\n  ignoredByDefault,\n  source,\n  rootDirectory,\n  frame,\n  errorMessage,\n}: {\n  /** setting this to true will not consult ignoreList */\n  ignoredByDefault: boolean\n  source: Source\n  rootDirectory: string\n  frame: StackFrame\n  errorMessage?: string\n}): Promise<OriginalStackFrameResponse | null> {\n  const moduleNotFound = findModuleNotFoundFromError(errorMessage)\n  const result = await (() => {\n    if (moduleNotFound) {\n      if (source.type === 'file') {\n        return undefined\n      }\n\n      return findOriginalSourcePositionAndContentFromCompilation(\n        source.moduleId,\n        moduleNotFound,\n        source.compilation\n      )\n    }\n    return findOriginalSourcePositionAndContent(source.sourceMap, frame)\n  })()\n\n  if (!result) {\n    return null\n  }\n  const { sourcePosition, sourceContent } = result\n\n  if (!sourcePosition.source) {\n    return null\n  }\n\n  const ignored =\n    ignoredByDefault ||\n    isIgnoredSource(source, sourcePosition) ||\n    // If the source file is externals, should be excluded even it's not ignored source.\n    // e.g. webpack://next/dist/.. needs to be ignored\n    shouldIgnoreSource(source.moduleURL)\n\n  const sourcePath = getSourcePath(\n    // When sourcePosition.source is the loader path the modulePath is generally better.\n    (sourcePosition.source!.includes('|')\n      ? source.moduleURL\n      : sourcePosition.source) || source.moduleURL\n  )\n  const filePath = path.resolve(rootDirectory, sourcePath)\n  const resolvedFilePath = path.relative(rootDirectory, filePath)\n\n  const traced: IgnorableStackFrame = {\n    file: resolvedFilePath,\n    line1: sourcePosition.line,\n    column1: sourcePosition.column === null ? null : sourcePosition.column + 1,\n    methodName:\n      // We ignore the sourcemapped name since it won't be the correct name.\n      // The callsite will point to the column of the variable name instead of the\n      // name of the enclosing function.\n      // TODO(NDX-531): Spy on prepareStackTrace to get the enclosing line number for method name mapping.\n      // default is not a valid identifier in JS so webpack uses a custom variable when it's an unnamed default export\n      // Resolve it back to `default` for the method name if the source position didn't have the method.\n      frame.methodName\n        ?.replace('__WEBPACK_DEFAULT_EXPORT__', 'default')\n        ?.replace('__webpack_exports__.', ''),\n    arguments: [],\n    ignored,\n  }\n\n  return {\n    originalStackFrame: traced,\n    originalCodeFrame: getOriginalCodeFrame(traced, sourceContent),\n  }\n}\n\nasync function getSourceMapFromCompilation(\n  id: string,\n  compilation: webpack.Compilation\n): Promise<RawSourceMap | undefined> {\n  try {\n    const module = getModuleById(id, compilation)\n\n    if (!module) {\n      return undefined\n    }\n\n    // @ts-expect-error The types for `CodeGenerationResults.get` require a\n    // runtime to be passed as second argument, but apparently it also works\n    // without it.\n    const codeGenerationResult = compilation.codeGenerationResults.get(module)\n    const source = codeGenerationResult?.sources.get('javascript')\n\n    return source?.map() ?? undefined\n  } catch (err) {\n    console.error(`Failed to lookup module by ID (\"${id}\"):`, err)\n    return undefined\n  }\n}\n\nasync function getSource(\n  frame: {\n    file: string | null\n    line1: number | null\n    column1: number | null\n  },\n  options: {\n    getCompilations: () => webpack.Compilation[]\n  }\n): Promise<Source | undefined> {\n  let sourceURL = frame.file ?? ''\n  const { getCompilations } = options\n\n  sourceURL = devirtualizeReactServerURL(sourceURL)\n\n  let nativeSourceMap: SourceMap | undefined\n  try {\n    nativeSourceMap = findSourceMap(sourceURL)\n  } catch (cause) {\n    throw new Error(\n      `${sourceURL}: Invalid source map. Only conformant source maps can be used to find the original code.`,\n      { cause }\n    )\n  }\n\n  if (nativeSourceMap !== undefined) {\n    const sourceMapPayload = nativeSourceMap.payload\n    return {\n      type: 'file',\n      sourceMap: findApplicableSourceMapPayload(\n        (frame.line1 ?? 1) - 1,\n        (frame.column1 ?? 1) - 1,\n        sourceMapPayload\n      )!,\n\n      ignoredSources: getIgnoredSources(\n        // @ts-expect-error -- TODO: Support IndexSourceMap\n        sourceMapPayload\n      ),\n      moduleURL: sourceURL,\n    }\n  }\n\n  if (path.isAbsolute(sourceURL)) {\n    sourceURL = pathToFileURL(sourceURL).href\n  }\n\n  if (sourceURL.startsWith('file:')) {\n    const sourceMap = await getSourceMapFromFile(sourceURL)\n    return sourceMap\n      ? {\n          type: 'file',\n          sourceMap,\n          ignoredSources: getIgnoredSources(sourceMap),\n          moduleURL: sourceURL,\n        }\n      : undefined\n  }\n\n  // webpack-internal:///./src/hello.tsx => ./src/hello.tsx\n  // webpack://_N_E/./src/hello.tsx => ./src/hello.tsx\n  const moduleId = sourceURL\n    .replace(/^(webpack-internal:\\/\\/\\/|webpack:\\/\\/(_N_E\\/)?)/, '')\n    .replace(/\\?\\d+$/, '')\n\n  // (rsc)/./src/hello.tsx => ./src/hello.tsx\n  const moduleURL = moduleId.replace(/^(\\(.*\\)\\/?)/, '')\n\n  for (const compilation of getCompilations()) {\n    const sourceMap = await getSourceMapFromCompilation(moduleId, compilation)\n\n    if (sourceMap) {\n      const ignoredSources = getIgnoredSources(sourceMap)\n      return {\n        type: 'bundle',\n        sourceMap,\n        compilation,\n        moduleId,\n        moduleURL,\n        ignoredSources,\n      }\n    }\n  }\n\n  return undefined\n}\n\nexport async function getOriginalStackFrames({\n  isServer,\n  isEdgeServer,\n  isAppDirectory,\n  frames,\n  clientStats,\n  serverStats,\n  edgeServerStats,\n  rootDirectory,\n}: {\n  isServer: boolean\n  isEdgeServer: boolean\n  isAppDirectory: boolean\n  frames: readonly StackFrame[]\n  clientStats: () => webpack.Stats | null\n  serverStats: () => webpack.Stats | null\n  edgeServerStats: () => webpack.Stats | null\n  rootDirectory: string\n}): Promise<OriginalStackFramesResponse> {\n  const frameResponses = await Promise.all(\n    frames.map(\n      (frame): Promise<OriginalStackFramesResponse[number]> =>\n        getOriginalStackFrame({\n          isServer,\n          isEdgeServer,\n          isAppDirectory,\n          frame,\n          clientStats,\n          serverStats,\n          edgeServerStats,\n          rootDirectory,\n        }).then(\n          (value) => {\n            return {\n              status: 'fulfilled',\n              value,\n            }\n          },\n          (reason) => {\n            return {\n              status: 'rejected',\n              reason: inspect(reason, { colors: false }),\n            }\n          }\n        )\n    )\n  )\n\n  ignoreListAnonymousStackFramesIfSandwiched(frameResponses)\n\n  return frameResponses\n}\n\nasync function getOriginalStackFrame({\n  isServer,\n  isEdgeServer,\n  isAppDirectory,\n  frame,\n  clientStats,\n  serverStats,\n  edgeServerStats,\n  rootDirectory,\n}: {\n  isServer: boolean\n  isEdgeServer: boolean\n  isAppDirectory: boolean\n  frame: StackFrame\n  clientStats: () => webpack.Stats | null\n  serverStats: () => webpack.Stats | null\n  edgeServerStats: () => webpack.Stats | null\n  rootDirectory: string\n}): Promise<OriginalStackFrameResponse> {\n  const filename = frame.file ?? ''\n  const source = await getSource(frame, {\n    getCompilations: () => {\n      const compilations: webpack.Compilation[] = []\n\n      // Try Client Compilation first. In `pages` we leverage\n      // `isClientError` to check. In `app` it depends on if it's a server\n      // / client component and when the code throws. E.g. during HTML\n      // rendering it's the server/edge compilation.\n      if ((!isEdgeServer && !isServer) || isAppDirectory) {\n        const compilation = clientStats()?.compilation\n\n        if (compilation) {\n          compilations.push(compilation)\n        }\n      }\n\n      // Try Server Compilation. In `pages` this could be something\n      // imported in getServerSideProps/getStaticProps as the code for\n      // those is tree-shaken. In `app` this finds server components and\n      // code that was imported from a server component. It also covers\n      // when client component code throws during HTML rendering.\n      if (isServer || isAppDirectory) {\n        const compilation = serverStats()?.compilation\n\n        if (compilation) {\n          compilations.push(compilation)\n        }\n      }\n\n      // Try Edge Server Compilation. Both cases are the same as Server\n      // Compilation, main difference is that it covers `runtime: 'edge'`\n      // pages/app routes.\n      if (isEdgeServer || isAppDirectory) {\n        const compilation = edgeServerStats()?.compilation\n\n        if (compilation) {\n          compilations.push(compilation)\n        }\n      }\n\n      return compilations\n    },\n  })\n\n  let defaultNormalizedStackFrameLocation = frame.file\n  if (\n    defaultNormalizedStackFrameLocation !== null &&\n    defaultNormalizedStackFrameLocation.startsWith('file://')\n  ) {\n    defaultNormalizedStackFrameLocation = path.relative(\n      rootDirectory,\n      fileURLToPath(defaultNormalizedStackFrameLocation)\n    )\n  }\n  // This stack frame is used for the one that couldn't locate the source or source mapped frame\n  const defaultStackFrame: IgnorableStackFrame = {\n    file: defaultNormalizedStackFrameLocation,\n    line1: frame.line1,\n    column1: frame.column1,\n    methodName: frame.methodName,\n    ignored: shouldIgnoreSource(filename),\n    arguments: [],\n  }\n  if (!source) {\n    // return original stack frame with no source map\n    return {\n      originalStackFrame: defaultStackFrame,\n      originalCodeFrame: null,\n    }\n  }\n  defaultStackFrame.ignored ||= sourceMapIgnoreListsEverything(source.sourceMap)\n\n  const originalStackFrameResponse = await createOriginalStackFrame({\n    ignoredByDefault: defaultStackFrame.ignored,\n    frame,\n    source,\n    rootDirectory,\n  })\n\n  if (!originalStackFrameResponse) {\n    return {\n      originalStackFrame: defaultStackFrame,\n      originalCodeFrame: null,\n    }\n  }\n\n  return originalStackFrameResponse\n}\n\nexport function getOverlayMiddleware(options: {\n  rootDirectory: string\n  isSrcDir: boolean\n  clientStats: () => webpack.Stats | null\n  serverStats: () => webpack.Stats | null\n  edgeServerStats: () => webpack.Stats | null\n}) {\n  const { rootDirectory, isSrcDir, clientStats, serverStats, edgeServerStats } =\n    options\n\n  return async function (\n    req: IncomingMessage,\n    res: ServerResponse,\n    next: () => void\n  ): Promise<void> {\n    const { pathname, searchParams } = new URL(`http://n${req.url}`)\n\n    if (pathname === '/__nextjs_original-stack-frames') {\n      if (req.method !== 'POST') {\n        return middlewareResponse.badRequest(res)\n      }\n\n      const body = await new Promise<string>((resolve, reject) => {\n        let data = ''\n        req.on('data', (chunk) => {\n          data += chunk\n        })\n        req.on('end', () => resolve(data))\n        req.on('error', reject)\n      })\n\n      try {\n        const { frames, isServer, isEdgeServer, isAppDirectory } = JSON.parse(\n          body\n        ) as OriginalStackFramesRequest\n\n        return middlewareResponse.json(\n          res,\n          await getOriginalStackFrames({\n            isServer,\n            isEdgeServer,\n            isAppDirectory,\n            frames,\n            clientStats,\n            serverStats,\n            edgeServerStats,\n            rootDirectory,\n          })\n        )\n      } catch (err) {\n        return middlewareResponse.badRequest(res)\n      }\n    } else if (pathname === '/__nextjs_launch-editor') {\n      const frame = {\n        file: searchParams.get('file') as string,\n        methodName: searchParams.get('methodName') as string,\n        line1: parseInt(searchParams.get('line1') ?? '1', 10) || 1,\n        column1: parseInt(searchParams.get('column1') ?? '1', 10) || 1,\n        arguments: searchParams.getAll('arguments').filter(Boolean),\n      } satisfies StackFrame\n\n      if (!frame.file) return middlewareResponse.badRequest(res)\n\n      let openEditorResult\n      const isAppRelativePath = searchParams.get('isAppRelativePath') === '1'\n      if (isAppRelativePath) {\n        const relativeFilePath = searchParams.get('file') || ''\n        const appPath = path.join(\n          'app',\n          isSrcDir ? 'src' : '',\n          relativeFilePath\n        )\n        openEditorResult = await openFileInEditor(appPath, 1, 1, rootDirectory)\n      } else {\n        // TODO: How do we differentiate layers and actual file paths with round brackets?\n        // frame files may start with their webpack layer, like (middleware)/middleware.js\n        const filePath = frame.file.replace(/^\\([^)]+\\)\\//, '')\n        openEditorResult = await openFileInEditor(\n          filePath,\n          frame.line1,\n          frame.column1 ?? 1,\n          rootDirectory\n        )\n      }\n      if (openEditorResult.error) {\n        console.error('Failed to launch editor:', openEditorResult.error)\n        return middlewareResponse.internalServerError(\n          res,\n          openEditorResult.error\n        )\n      }\n      if (!openEditorResult.found) {\n        return middlewareResponse.notFound(res)\n      }\n      return middlewareResponse.noContent(res)\n    }\n\n    return next()\n  }\n}\n\nexport function getSourceMapMiddleware(options: {\n  clientStats: () => webpack.Stats | null\n  serverStats: () => webpack.Stats | null\n  edgeServerStats: () => webpack.Stats | null\n}) {\n  const { clientStats, serverStats, edgeServerStats } = options\n\n  return async function (\n    req: IncomingMessage,\n    res: ServerResponse,\n    next: () => void\n  ): Promise<void> {\n    const { pathname, searchParams } = new URL(`http://n${req.url}`)\n\n    if (pathname !== '/__nextjs_source-map') {\n      return next()\n    }\n\n    const filename = searchParams.get('filename')\n\n    if (!filename) {\n      return middlewareResponse.badRequest(res)\n    }\n\n    let source: Source | undefined\n\n    try {\n      source = await getSource(\n        {\n          file: filename,\n          // Webpack doesn't use Index Source Maps\n          line1: null,\n          column1: null,\n        },\n        {\n          getCompilations: () => {\n            const compilations: webpack.Compilation[] = []\n\n            for (const stats of [\n              clientStats(),\n              serverStats(),\n              edgeServerStats(),\n            ]) {\n              if (stats?.compilation) {\n                compilations.push(stats.compilation)\n              }\n            }\n\n            return compilations\n          },\n        }\n      )\n    } catch (error) {\n      return middlewareResponse.internalServerError(res, error)\n    }\n\n    if (!source) {\n      return middlewareResponse.noContent(res)\n    }\n\n    return middlewareResponse.json(res, source.sourceMap)\n  }\n}\n"],"names":["createOriginalStackFrame","getIgnoredSources","getOriginalStackFrames","getOverlayMiddleware","getSourceMapMiddleware","shouldIgnoreSource","sourceURL","includes","startsWith","getModuleById","id","compilation","chunkGraph","modules","find","module","getModuleId","findModuleNotFoundFromError","errorMessage","match","getSourcePath","source","fileURLToPath","replace","findOriginalSourcePositionAndContent","sourceMap","position","consumer","SourceMapConsumer","cause","console","error","Error","file","sourcePosition","originalPositionFor","line","line1","column","column1","sourceContent","sourceContentFor","destroy","ignoreList","Set","moduleFilenames","sources","index","length","webpackSourceURL","formattedFilePath","formatFrameSourceFile","add","ignoredSources","map","url","ignored","has","indexOf","content","sourcesContent","isIgnoredSource","ignoredSource","findOriginalSourcePositionAndContentFromCompilation","moduleId","importedModule","buildInfo","importLocByPath","get","ignoredByDefault","rootDirectory","frame","moduleNotFound","result","type","undefined","moduleURL","sourcePath","filePath","path","resolve","resolvedFilePath","relative","traced","methodName","arguments","originalStackFrame","originalCodeFrame","getOriginalCodeFrame","getSourceMapFromCompilation","codeGenerationResult","codeGenerationResults","err","getSource","options","getCompilations","devirtualizeReactServerURL","nativeSourceMap","findSourceMap","sourceMapPayload","payload","findApplicableSourceMapPayload","isAbsolute","pathToFileURL","href","getSourceMapFromFile","isServer","isEdgeServer","isAppDirectory","frames","clientStats","serverStats","edgeServerStats","frameResponses","Promise","all","getOriginalStackFrame","then","value","status","reason","inspect","colors","ignoreListAnonymousStackFramesIfSandwiched","filename","compilations","push","defaultNormalizedStackFrameLocation","defaultStackFrame","sourceMapIgnoreListsEverything","originalStackFrameResponse","isSrcDir","req","res","next","pathname","searchParams","URL","method","middlewareResponse","badRequest","body","reject","data","on","chunk","JSON","parse","json","parseInt","getAll","filter","Boolean","openEditorResult","isAppRelativePath","relativeFilePath","appPath","join","openFileInEditor","internalServerError","found","notFound","noContent","stats"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1826, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/dev-indicator-server-state.ts"],"sourcesContent":["export type DevIndicatorServerState = typeof devIndicatorServerState\n\nexport const devIndicatorServerState = {\n  disabledUntil: 0,\n}\n"],"names":["devIndicatorServerState","disabledUntil"],"mappings":";;;+BAEaA,2BAAAA;;;eAAAA;;;AAAN,MAAMA,0BAA0B;IACrCC,eAAe;AACjB","ignoreList":[0]}},
    {"offset": {"line": 1842, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/messages.ts"],"sourcesContent":["import { InvariantError } from '../../shared/lib/invariant-error'\nimport {\n  HMR_MESSAGE_SENT_TO_BROWSER,\n  type BinaryHmrMessageSentToBrowser,\n} from './hot-reloader-types'\n\nexport const FAST_REFRESH_RUNTIME_RELOAD =\n  'Fast Refresh had to perform a full reload due to a runtime error.'\n\nconst textEncoder = new TextEncoder()\n\nexport function createBinaryHmrMessageData(\n  message: BinaryHmrMessageSentToBrowser\n): Uint8Array {\n  switch (message.type) {\n    case HMR_MESSAGE_SENT_TO_BROWSER.REACT_DEBUG_CHUNK: {\n      const { requestId, chunk } = message\n      const requestIdBytes = textEncoder.encode(requestId)\n      const requestIdLength = requestIdBytes.length\n\n      if (requestIdLength > 255) {\n        throw new InvariantError(\n          'Request ID is too long for the binary HMR message.'\n        )\n      }\n\n      const chunkLength = chunk ? chunk.length : 0\n      const totalLength = 2 + requestIdLength + chunkLength\n      const data = new Uint8Array(totalLength)\n      const view = new DataView(data.buffer)\n\n      view.setUint8(0, HMR_MESSAGE_SENT_TO_BROWSER.REACT_DEBUG_CHUNK)\n      view.setUint8(1, requestIdLength)\n      textEncoder.encodeInto(requestId, data.subarray(2, 2 + requestIdLength))\n\n      if (chunk) {\n        data.set(chunk, 2 + requestIdLength)\n      }\n\n      return data\n    }\n    default: {\n      throw new InvariantError(\n        `Invalid binary HMR message of type ${message.type}`\n      )\n    }\n  }\n}\n"],"names":["FAST_REFRESH_RUNTIME_RELOAD","createBinaryHmrMessageData","textEncoder","TextEncoder","message","type","HMR_MESSAGE_SENT_TO_BROWSER","REACT_DEBUG_CHUNK","requestId","chunk","requestIdBytes","encode","requestIdLength","length","InvariantError","chunkLength","totalLength","data","Uint8Array","view","DataView","buffer","setUint8","encodeInto","subarray","set"],"mappings":";;;;;;;;;;;;;;IAMaA,2BAA2B,EAAA;eAA3BA;;IAKGC,0BAA0B,EAAA;eAA1BA;;;gCAXe;kCAIxB;AAEA,MAAMD,8BACX;AAEF,MAAME,cAAc,IAAIC;AAEjB,SAASF,2BACdG,OAAsC;IAEtC,OAAQA,QAAQC,IAAI;QAClB,KAAKC,kBAAAA,2BAA2B,CAACC,iBAAiB;YAAE;gBAClD,MAAM,EAAEC,SAAS,EAAEC,KAAK,EAAE,GAAGL;gBAC7B,MAAMM,iBAAiBR,YAAYS,MAAM,CAACH;gBAC1C,MAAMI,kBAAkBF,eAAeG,MAAM;gBAE7C,IAAID,kBAAkB,KAAK;oBACzB,MAAM,OAAA,cAEL,CAFK,IAAIE,gBAAAA,cAAc,CACtB,uDADI,qBAAA;+BAAA;oCAAA;sCAAA;oBAEN;gBACF;gBAEA,MAAMC,cAAcN,QAAQA,MAAMI,MAAM,GAAG;gBAC3C,MAAMG,cAAc,IAAIJ,kBAAkBG;gBAC1C,MAAME,OAAO,IAAIC,WAAWF;gBAC5B,MAAMG,OAAO,IAAIC,SAASH,KAAKI,MAAM;gBAErCF,KAAKG,QAAQ,CAAC,GAAGhB,kBAAAA,2BAA2B,CAACC,iBAAiB;gBAC9DY,KAAKG,QAAQ,CAAC,GAAGV;gBACjBV,YAAYqB,UAAU,CAACf,WAAWS,KAAKO,QAAQ,CAAC,GAAG,IAAIZ;gBAEvD,IAAIH,OAAO;oBACTQ,KAAKQ,GAAG,CAAChB,OAAO,IAAIG;gBACtB;gBAEA,OAAOK;YACT;QACA;YAAS;gBACP,MAAM,OAAA,cAEL,CAFK,IAAIH,gBAAAA,cAAc,CACtB,CAAC,mCAAmC,EAAEV,QAAQC,IAAI,EAAE,GADhD,qBAAA;2BAAA;gCAAA;kCAAA;gBAEN;YACF;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 1907, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/hot-middleware.ts"],"sourcesContent":["// Based on https://github.com/webpack-contrib/webpack-hot-middleware/blob/9708d781ae0e46179cf8ea1a94719de4679aaf53/middleware.js\n// Included License below\n\n// Copyright JS Foundation and other contributors\n\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// 'Software'), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n// IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n// CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n// TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport type { webpack } from 'next/dist/compiled/webpack/webpack'\nimport type ws from 'next/dist/compiled/ws'\nimport type { DevToolsConfig } from '../../next-devtools/dev-overlay/shared'\nimport { isMiddlewareFilename } from '../../build/utils'\nimport type { VersionInfo } from './parse-version-info'\nimport type { HmrMessageSentToBrowser } from './hot-reloader-types'\nimport { HMR_MESSAGE_SENT_TO_BROWSER } from './hot-reloader-types'\nimport { devIndicatorServerState } from './dev-indicator-server-state'\nimport { createBinaryHmrMessageData } from './messages'\nimport type { NextConfigComplete } from '../config-shared'\n\nfunction isMiddlewareStats(stats: webpack.Stats) {\n  for (const key of stats.compilation.entrypoints.keys()) {\n    if (isMiddlewareFilename(key)) {\n      return true\n    }\n  }\n\n  return false\n}\n\nfunction statsToJson(stats?: webpack.Stats | null) {\n  if (!stats) return {}\n  return stats.toJson({\n    all: false,\n    errors: true,\n    hash: true,\n    warnings: true,\n  })\n}\n\nfunction getStatsForSyncEvent(\n  clientStats: { ts: number; stats: webpack.Stats } | null,\n  serverStats: { ts: number; stats: webpack.Stats } | null\n) {\n  if (!clientStats) return serverStats?.stats\n  if (!serverStats) return clientStats?.stats\n\n  // Prefer the server compiler stats if it has errors.\n  // Otherwise we may end up in a state where the client compilation is the latest but without errors.\n  // This causes the error overlay to not display the build error.\n  if (serverStats.stats.hasErrors()) {\n    return serverStats.stats\n  }\n\n  // Return the latest stats\n  return serverStats.ts > clientStats.ts ? serverStats.stats : clientStats.stats\n}\n\nexport class WebpackHotMiddleware {\n  private clientsWithoutHtmlRequestId = new Set<ws>()\n  private clientsByHtmlRequestId: Map<string, ws> = new Map()\n  private closed = false\n  private clientLatestStats: { ts: number; stats: webpack.Stats } | null = null\n  private middlewareLatestStats: { ts: number; stats: webpack.Stats } | null =\n    null\n  private serverLatestStats: { ts: number; stats: webpack.Stats } | null = null\n\n  constructor(\n    compilers: webpack.Compiler[],\n    private versionInfo: VersionInfo,\n    private devtoolsFrontendUrl: string | undefined,\n    private config: NextConfigComplete,\n    private devToolsConfig: DevToolsConfig\n  ) {\n    compilers[0].hooks.invalid.tap(\n      'webpack-hot-middleware',\n      this.onClientInvalid\n    )\n    compilers[0].hooks.done.tap('webpack-hot-middleware', this.onClientDone)\n    compilers[1].hooks.invalid.tap(\n      'webpack-hot-middleware',\n      this.onServerInvalid\n    )\n    compilers[1].hooks.done.tap('webpack-hot-middleware', this.onServerDone)\n    compilers[2].hooks.done.tap('webpack-hot-middleware', this.onEdgeServerDone)\n    compilers[2].hooks.invalid.tap(\n      'webpack-hot-middleware',\n      this.onEdgeServerInvalid\n    )\n  }\n\n  onClientInvalid = () => {\n    if (this.closed || this.serverLatestStats?.stats.hasErrors()) return\n    this.publish({\n      type: HMR_MESSAGE_SENT_TO_BROWSER.BUILDING,\n    })\n  }\n\n  onClientDone = (statsResult: webpack.Stats) => {\n    this.clientLatestStats = { ts: Date.now(), stats: statsResult }\n    if (this.closed || this.serverLatestStats?.stats.hasErrors()) return\n    this.publishStats(statsResult)\n  }\n\n  onServerInvalid = () => {\n    if (!this.serverLatestStats?.stats.hasErrors()) return\n    this.serverLatestStats = null\n    if (this.clientLatestStats?.stats) {\n      this.publishStats(this.clientLatestStats.stats)\n    }\n  }\n\n  onServerDone = (statsResult: webpack.Stats) => {\n    if (this.closed) return\n    if (statsResult.hasErrors()) {\n      this.serverLatestStats = { ts: Date.now(), stats: statsResult }\n      this.publishStats(statsResult)\n    }\n  }\n\n  onEdgeServerInvalid = () => {\n    if (!this.middlewareLatestStats?.stats.hasErrors()) return\n    this.middlewareLatestStats = null\n    if (this.clientLatestStats?.stats) {\n      this.publishStats(this.clientLatestStats.stats)\n    }\n  }\n\n  onEdgeServerDone = (statsResult: webpack.Stats) => {\n    if (this.closed) return\n    if (!isMiddlewareStats(statsResult)) {\n      this.onServerInvalid()\n      this.onServerDone(statsResult)\n    }\n\n    if (statsResult.hasErrors()) {\n      this.middlewareLatestStats = { ts: Date.now(), stats: statsResult }\n      this.publishStats(statsResult)\n    }\n  }\n\n  public updateDevToolsConfig(newConfig: DevToolsConfig): void {\n    this.devToolsConfig = newConfig\n  }\n\n  /**\n   * To sync we use the most recent stats but also we append middleware\n   * errors. This is because it is possible that middleware fails to compile\n   * and we still want to show the client overlay with the error while\n   * the error page should be rendered just fine.\n   */\n  onHMR = (client: ws, htmlRequestId: string | null) => {\n    if (this.closed) return\n\n    if (htmlRequestId) {\n      this.clientsByHtmlRequestId.set(htmlRequestId, client)\n    } else {\n      this.clientsWithoutHtmlRequestId.add(client)\n    }\n\n    client.addEventListener('close', () => {\n      if (htmlRequestId) {\n        this.clientsByHtmlRequestId.delete(htmlRequestId)\n      } else {\n        this.clientsWithoutHtmlRequestId.delete(client)\n      }\n    })\n\n    const syncStats = getStatsForSyncEvent(\n      this.clientLatestStats,\n      this.serverLatestStats\n    )\n\n    if (syncStats) {\n      const stats = statsToJson(syncStats)\n      const middlewareStats = statsToJson(this.middlewareLatestStats?.stats)\n\n      if (devIndicatorServerState.disabledUntil < Date.now()) {\n        devIndicatorServerState.disabledUntil = 0\n      }\n\n      this.publish({\n        type: HMR_MESSAGE_SENT_TO_BROWSER.SYNC,\n        hash: stats.hash!,\n        errors: [...(stats.errors || []), ...(middlewareStats.errors || [])],\n        warnings: [\n          ...(stats.warnings || []),\n          ...(middlewareStats.warnings || []),\n        ],\n        versionInfo: this.versionInfo,\n        debug: {\n          devtoolsFrontendUrl: this.devtoolsFrontendUrl,\n        },\n        devIndicator: devIndicatorServerState,\n        devToolsConfig: this.devToolsConfig,\n      })\n    }\n  }\n\n  publishStats = (statsResult: webpack.Stats) => {\n    const stats = statsResult.toJson({\n      all: false,\n      hash: true,\n      warnings: true,\n      errors: true,\n      moduleTrace: true,\n    })\n\n    this.publish({\n      type: HMR_MESSAGE_SENT_TO_BROWSER.BUILT,\n      hash: stats.hash!,\n      warnings: stats.warnings || [],\n      errors: stats.errors || [],\n    })\n  }\n\n  getClient = (htmlRequestId: string): ws | undefined => {\n    return this.clientsByHtmlRequestId.get(htmlRequestId)\n  }\n\n  publishToClient = (client: ws, message: HmrMessageSentToBrowser) => {\n    if (this.closed) {\n      return\n    }\n\n    const data =\n      typeof message.type === 'number'\n        ? createBinaryHmrMessageData(message)\n        : JSON.stringify(message)\n\n    client.send(data)\n  }\n\n  publish = (message: HmrMessageSentToBrowser) => {\n    if (this.closed) {\n      return\n    }\n\n    for (const wsClient of [\n      ...this.clientsWithoutHtmlRequestId,\n      ...this.clientsByHtmlRequestId.values(),\n    ]) {\n      this.publishToClient(wsClient, message)\n    }\n  }\n\n  publishToLegacyClients = (message: HmrMessageSentToBrowser) => {\n    if (this.closed) {\n      return\n    }\n\n    // Clients with a request ID are inferred App Router clients. If Cache\n    // Components is not enabled, we consider those legacy clients. Pages\n    // Router clients are also considered legacy clients. TODO: Maybe mark\n    // clients as App Router / Pages Router clients explicitly, instead of\n    // inferring it from the presence of a request ID.\n\n    if (!this.config.cacheComponents) {\n      for (const wsClient of this.clientsByHtmlRequestId.values()) {\n        this.publishToClient(wsClient, message)\n      }\n    }\n\n    for (const wsClient of this.clientsWithoutHtmlRequestId) {\n      this.publishToClient(wsClient, message)\n    }\n  }\n\n  close = () => {\n    if (this.closed) {\n      return\n    }\n\n    // Can't remove compiler plugins, so we just set a flag and noop if closed\n    // https://github.com/webpack/tapable/issues/32#issuecomment-350644466\n    this.closed = true\n\n    for (const wsClient of [\n      ...this.clientsWithoutHtmlRequestId,\n      ...this.clientsByHtmlRequestId.values(),\n    ]) {\n      // it's okay to not cleanly close these websocket connections, this is dev\n      wsClient.terminate()\n    }\n\n    this.clientsWithoutHtmlRequestId.clear()\n    this.clientsByHtmlRequestId.clear()\n  }\n\n  deleteClient = (client: ws, htmlRequestId: string | null) => {\n    if (htmlRequestId) {\n      this.clientsByHtmlRequestId.delete(htmlRequestId)\n    } else {\n      this.clientsWithoutHtmlRequestId.delete(client)\n    }\n  }\n\n  hasClients = () => {\n    return (\n      this.clientsWithoutHtmlRequestId.size + this.clientsByHtmlRequestId.size >\n      0\n    )\n  }\n\n  getClientCount = () => {\n    return (\n      this.clientsWithoutHtmlRequestId.size + this.clientsByHtmlRequestId.size\n    )\n  }\n}\n"],"names":["WebpackHotMiddleware","isMiddlewareStats","stats","key","compilation","entrypoints","keys","isMiddlewareFilename","statsToJson","toJson","all","errors","hash","warnings","getStatsForSyncEvent","clientStats","serverStats","hasErrors","ts","constructor","compilers","versionInfo","devtoolsFrontendUrl","config","devToolsConfig","clientsWithoutHtmlRequestId","Set","clientsByHtmlRequestId","Map","closed","clientLatestStats","middlewareLatestStats","serverLatestStats","onClientInvalid","publish","type","HMR_MESSAGE_SENT_TO_BROWSER","BUILDING","onClientDone","statsResult","Date","now","publishStats","onServerInvalid","onServerDone","onEdgeServerInvalid","onEdgeServerDone","onHMR","client","htmlRequestId","set","add","addEventListener","delete","syncStats","middlewareStats","devIndicatorServerState","disabledUntil","SYNC","debug","devIndicator","moduleTrace","BUILT","getClient","get","publishToClient","message","data","createBinaryHmrMessageData","JSON","stringify","send","wsClient","values","publishToLegacyClients","cacheComponents","close","terminate","clear","deleteClient","hasClients","size","getClientCount","hooks","invalid","tap","done","updateDevToolsConfig","newConfig"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2182, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/on-demand-entry-handler.ts"],"sourcesContent":["import type ws from 'next/dist/compiled/ws'\nimport type { webpack } from 'next/dist/compiled/webpack/webpack'\nimport type { NextConfigComplete } from '../config-shared'\nimport type {\n  DynamicParamTypesShort,\n  FlightRouterState,\n  FlightSegmentPath,\n} from '../../shared/lib/app-router-types'\nimport type { CompilerNameValues } from '../../shared/lib/constants'\nimport type { RouteDefinition } from '../route-definitions/route-definition'\nimport type HotReloaderWebpack from './hot-reloader-webpack'\n\nimport createDebug from 'next/dist/compiled/debug'\nimport { EventEmitter } from 'events'\nimport { findPageFile } from '../lib/find-page-file'\nimport { runDependingOnPageType } from '../../build/entries'\nimport { getStaticInfoIncludingLayouts } from '../../build/get-static-info-including-layouts'\nimport { join, posix } from 'path'\nimport { normalizePathSep } from '../../shared/lib/page-path/normalize-path-sep'\nimport { normalizePagePath } from '../../shared/lib/page-path/normalize-page-path'\nimport { ensureLeadingSlash } from '../../shared/lib/page-path/ensure-leading-slash'\nimport { removePagePathTail } from '../../shared/lib/page-path/remove-page-path-tail'\nimport { reportTrigger } from '../../build/output'\nimport getRouteFromEntrypoint from '../get-route-from-entrypoint'\nimport {\n  isInstrumentationHookFile,\n  isInstrumentationHookFilename,\n  isMiddlewareFile,\n  isMiddlewareFilename,\n} from '../../build/utils'\nimport { PageNotFoundError, stringifyError } from '../../shared/lib/utils'\nimport {\n  COMPILER_INDEXES,\n  COMPILER_NAMES,\n  RSC_MODULE_TYPES,\n  UNDERSCORE_NOT_FOUND_ROUTE_ENTRY,\n} from '../../shared/lib/constants'\nimport { PAGE_SEGMENT_KEY } from '../../shared/lib/segment'\nimport {\n  HMR_MESSAGE_SENT_TO_BROWSER,\n  HMR_MESSAGE_SENT_TO_SERVER,\n} from './hot-reloader-types'\nimport { isAppPageRouteDefinition } from '../route-definitions/app-page-route-definition'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { Batcher } from '../../lib/batcher'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\nimport { PAGE_TYPES } from '../../lib/page-types'\nimport { getNextFlightSegmentPath } from '../../client/flight-data-helpers'\nimport { handleErrorStateResponse } from '../mcp/tools/get-errors'\nimport { handlePageMetadataResponse } from '../mcp/tools/get-page-metadata'\n\nconst debug = createDebug('next:on-demand-entry-handler')\n\n/**\n * Returns object keys with type inferred from the object key\n */\nconst keys = Object.keys as <T>(o: T) => Extract<keyof T, string>[]\n\nconst COMPILER_KEYS = keys(COMPILER_INDEXES)\n\nfunction treePathToEntrypoint(\n  segmentPath: FlightSegmentPath,\n  parentPath?: string\n): string {\n  const [parallelRouteKey, segment] = segmentPath\n\n  // TODO-APP: modify this path to cover parallelRouteKey convention\n  const path =\n    (parentPath ? parentPath + '/' : '') +\n    (parallelRouteKey !== 'children' && !segment.startsWith('@')\n      ? `@${parallelRouteKey}/`\n      : '') +\n    (segment === '' ? 'page' : segment)\n\n  // Last segment\n  if (segmentPath.length === 2) {\n    return path\n  }\n\n  const childSegmentPath = getNextFlightSegmentPath(segmentPath)\n  return treePathToEntrypoint(childSegmentPath, path)\n}\n\nfunction convertDynamicParamTypeToSyntax(\n  dynamicParamTypeShort: DynamicParamTypesShort,\n  param: string\n) {\n  switch (dynamicParamTypeShort) {\n    case 'c':\n    case 'ci(..)(..)':\n    case 'ci(.)':\n    case 'ci(..)':\n    case 'ci(...)':\n      return `[...${param}]`\n    case 'oc':\n      return `[[...${param}]]`\n    case 'd':\n    case 'di(..)(..)':\n    case 'di(.)':\n    case 'di(..)':\n    case 'di(...)':\n      return `[${param}]`\n    default:\n      throw new Error('Unknown dynamic param type')\n  }\n}\n\n/**\n * format: {compiler type}@{page type}@{page path}\n * e.g. client@pages@/index\n * e.g. server@app@app/page\n *\n * This guarantees the uniqueness for each page, to avoid conflicts between app/ and pages/\n */\n\nexport function getEntryKey(\n  compilerType: CompilerNameValues,\n  pageBundleType: PAGE_TYPES,\n  page: string\n) {\n  // TODO: handle the /children slot better\n  // this is a quick hack to handle when children is provided as children/page instead of /page\n  const pageKey = page.replace(/(@[^/]+)\\/children/g, '$1')\n  return `${compilerType}@${pageBundleType}@${pageKey}`\n}\n\nfunction getPageBundleType(pageBundlePath: string): PAGE_TYPES {\n  // Handle special case for /_error\n  if (pageBundlePath === '/_error') return PAGE_TYPES.PAGES\n  if (isMiddlewareFilename(pageBundlePath)) return PAGE_TYPES.ROOT\n  return pageBundlePath.startsWith('pages/')\n    ? PAGE_TYPES.PAGES\n    : pageBundlePath.startsWith('app/')\n      ? PAGE_TYPES.APP\n      : PAGE_TYPES.ROOT\n}\n\nfunction getEntrypointsFromTree(\n  tree: FlightRouterState,\n  isFirst: boolean,\n  parentPath: string[] = []\n) {\n  const [segment, parallelRoutes] = tree\n\n  const currentSegment = Array.isArray(segment)\n    ? convertDynamicParamTypeToSyntax(segment[2], segment[0])\n    : segment\n\n  const isPageSegment = currentSegment.startsWith(PAGE_SEGMENT_KEY)\n\n  const currentPath = [...parentPath, isPageSegment ? '' : currentSegment]\n\n  if (!isFirst && isPageSegment) {\n    // TODO get rid of '' at the start of tree\n    return [treePathToEntrypoint(currentPath.slice(1))]\n  }\n\n  return Object.keys(parallelRoutes).reduce(\n    (paths: string[], key: string): string[] => {\n      const childTree = parallelRoutes[key]\n      const childPages = getEntrypointsFromTree(childTree, false, [\n        ...currentPath,\n        key,\n      ])\n      return [...paths, ...childPages]\n    },\n    []\n  )\n}\n\nexport const ADDED = Symbol('added')\nexport const BUILDING = Symbol('building')\nexport const BUILT = Symbol('built')\n\ninterface EntryType {\n  /**\n   * Tells if a page is scheduled to be disposed.\n   */\n  dispose?: boolean\n  /**\n   * Timestamp with the last time the page was active.\n   */\n  lastActiveTime?: number\n  /**\n   * Page build status.\n   */\n  status?: typeof ADDED | typeof BUILDING | typeof BUILT\n\n  /**\n   * Path to the page file relative to the dist folder with no extension.\n   * For example: `pages/about/index`\n   */\n  bundlePath: string\n\n  /**\n   * Webpack request to create a dependency for.\n   */\n  request: string\n}\n\n// Shadowing check in ESLint does not account for enum\nexport const enum EntryTypes {\n  ENTRY,\n  CHILD_ENTRY,\n}\ninterface Entry extends EntryType {\n  type: EntryTypes.ENTRY\n  /**\n   * The absolute page to the page file. Used for detecting if the file was removed. For example:\n   * `/Users/Rick/project/pages/about/index.js`\n   */\n  absolutePagePath: string\n  /**\n   * All parallel pages that match the same entry, for example:\n   * ['/parallel/@bar/nested/@a/page', '/parallel/@bar/nested/@b/page', '/parallel/@foo/nested/@a/page', '/parallel/@foo/nested/@b/page']\n   */\n  appPaths: ReadonlyArray<string> | null\n}\n\ninterface ChildEntry extends EntryType {\n  type: EntryTypes.CHILD_ENTRY\n  /**\n   * Which parent entries use this childEntry.\n   */\n  parentEntries: Set<string>\n  /**\n   * The absolute page to the entry file. Used for detecting if the file was removed. For example:\n   * `/Users/Rick/project/app/about/layout.js`\n   */\n  absoluteEntryFilePath?: string\n}\n\nconst entriesMap: Map<\n  string,\n  {\n    /**\n     * The key composed of the compiler name and the page. For example:\n     * `edge-server/about`\n     */\n    [entryName: string]: Entry | ChildEntry\n  }\n> = new Map()\n\n// remove /server from end of output for server compiler\nconst normalizeOutputPath = (dir: string) => dir.replace(/[/\\\\]server$/, '')\n\nexport const getEntries = (\n  dir: string\n): NonNullable<ReturnType<(typeof entriesMap)['get']>> => {\n  dir = normalizeOutputPath(dir)\n  const entries = entriesMap.get(dir) || {}\n  entriesMap.set(dir, entries)\n  return entries\n}\n\nconst invalidators: Map<string, Invalidator> = new Map()\n\nexport const getInvalidator = (dir: string) => {\n  dir = normalizeOutputPath(dir)\n  return invalidators.get(dir)\n}\n\nconst doneCallbacks: EventEmitter = new EventEmitter()\nconst lastClientAccessPages = ['']\nconst lastServerAccessPagesForAppDir = ['']\n\ntype BuildingTracker = Set<CompilerNameValues>\ntype RebuildTracker = Set<CompilerNameValues>\n\n// Make sure only one invalidation happens at a time\n// Otherwise, webpack hash gets changed and it'll force the client to reload.\nclass Invalidator {\n  private multiCompiler: webpack.MultiCompiler\n\n  private building: BuildingTracker = new Set()\n  private rebuildAgain: RebuildTracker = new Set()\n\n  constructor(multiCompiler: webpack.MultiCompiler) {\n    this.multiCompiler = multiCompiler\n  }\n\n  public shouldRebuildAll() {\n    return this.rebuildAgain.size > 0\n  }\n\n  invalidate(compilerKeys: typeof COMPILER_KEYS = COMPILER_KEYS): void {\n    for (const key of compilerKeys) {\n      // If there's a current build is processing, we won't abort it by invalidating.\n      // (If aborted, it'll cause a client side hard reload)\n      // But let it to invalidate just after the completion.\n      // So, it can re-build the queued pages at once.\n\n      if (this.building.has(key)) {\n        this.rebuildAgain.add(key)\n        continue\n      }\n\n      this.building.add(key)\n      this.multiCompiler.compilers[COMPILER_INDEXES[key]].watching?.invalidate()\n    }\n  }\n\n  public startBuilding(compilerKey: keyof typeof COMPILER_INDEXES) {\n    this.building.add(compilerKey)\n  }\n\n  public doneBuilding(compilerKeys: typeof COMPILER_KEYS = []) {\n    const rebuild: typeof COMPILER_KEYS = []\n    for (const key of compilerKeys) {\n      this.building.delete(key)\n\n      if (this.rebuildAgain.has(key)) {\n        rebuild.push(key)\n        this.rebuildAgain.delete(key)\n      }\n    }\n\n    if (rebuild.length > 0) {\n      this.invalidate(rebuild)\n    }\n  }\n\n  public willRebuild(compilerKey: keyof typeof COMPILER_INDEXES) {\n    return this.rebuildAgain.has(compilerKey)\n  }\n}\n\nfunction disposeInactiveEntries(\n  entries: NonNullable<ReturnType<(typeof entriesMap)['get']>>,\n  maxInactiveAge: number\n) {\n  Object.keys(entries).forEach((entryKey) => {\n    const entryData = entries[entryKey]\n    const { lastActiveTime, status, dispose, bundlePath } = entryData\n\n    // TODO-APP: implement disposing of CHILD_ENTRY\n    if (entryData.type === EntryTypes.CHILD_ENTRY) {\n      return\n    }\n\n    // For the root middleware and the instrumentation hook files,\n    // we don't dispose them periodically as it's needed for every request.\n    if (\n      isMiddlewareFilename(bundlePath) ||\n      isInstrumentationHookFilename(bundlePath)\n    ) {\n      return\n    }\n\n    if (dispose)\n      // Skip pages already scheduled for disposing\n      return\n\n    // This means this entry is currently building or just added\n    // We don't need to dispose those entries.\n    if (status !== BUILT) return\n\n    // We should not build the last accessed page even we didn't get any pings\n    // Sometimes, it's possible our XHR ping to wait before completing other requests.\n    // In that case, we should not dispose the current viewing page\n    if (\n      lastClientAccessPages.includes(entryKey) ||\n      lastServerAccessPagesForAppDir.includes(entryKey)\n    )\n      return\n\n    if (lastActiveTime && Date.now() - lastActiveTime > maxInactiveAge) {\n      entries[entryKey].dispose = true\n    }\n  })\n}\n\n// Normalize both app paths and page paths\nfunction tryToNormalizePagePath(page: string) {\n  try {\n    return normalizePagePath(page)\n  } catch (err) {\n    console.error(err)\n    throw new PageNotFoundError(page)\n  }\n}\n\ninterface PagePathData {\n  filename: string\n  bundlePath: string\n  page: string\n}\n\n/**\n * Attempts to find a page file path from the given pages absolute directory,\n * a page and allowed extensions. If the page can't be found it will throw an\n * error. It defaults the `/_error` page to Next.js internal error page.\n *\n * @param rootDir Absolute path to the project root.\n * @param page The page normalized (it will be denormalized).\n * @param extensions Array of page extensions.\n * @param pagesDir Absolute path to the pages folder with trailing `/pages`.\n * @param appDir Absolute path to the app folder with trailing `/app`.\n */\nexport async function findPagePathData(\n  rootDir: string,\n  page: string,\n  extensions: string[],\n  pagesDir: string | undefined,\n  appDir: string | undefined,\n  isGlobalNotFoundEnabled: boolean\n): Promise<PagePathData> {\n  const normalizedPagePath = tryToNormalizePagePath(page)\n  let pagePath: string | null = null\n\n  const isInstrumentation = isInstrumentationHookFile(normalizedPagePath)\n  if (isMiddlewareFile(normalizedPagePath) || isInstrumentation) {\n    pagePath = await findPageFile(\n      rootDir,\n      normalizedPagePath,\n      extensions,\n      false\n    )\n\n    if (!pagePath) {\n      throw new PageNotFoundError(normalizedPagePath)\n    }\n\n    const pageUrl = ensureLeadingSlash(\n      removePagePathTail(normalizePathSep(pagePath), {\n        extensions,\n      })\n    )\n\n    let bundlePath = normalizedPagePath\n    let pageKey = posix.normalize(pageUrl)\n\n    if (isInstrumentation || isMiddlewareFile(normalizedPagePath)) {\n      bundlePath = bundlePath.replace('/src', '')\n      pageKey = page.replace('/src', '')\n    }\n\n    return {\n      filename: join(rootDir, pagePath),\n      bundlePath: bundlePath.slice(1),\n      page: pageKey,\n    }\n  }\n\n  // Check appDir first falling back to pagesDir\n  if (appDir) {\n    if (page === UNDERSCORE_NOT_FOUND_ROUTE_ENTRY) {\n      // Load `global-not-found` when global-not-found is enabled.\n      // Prefer to load it when both `global-not-found` and root `not-found` present.\n      if (isGlobalNotFoundEnabled) {\n        const globalNotFoundPath = await findPageFile(\n          appDir,\n          'global-not-found',\n          extensions,\n          true\n        )\n        if (globalNotFoundPath) {\n          return {\n            filename: join(appDir, globalNotFoundPath),\n            bundlePath: `app${UNDERSCORE_NOT_FOUND_ROUTE_ENTRY}`,\n            page: UNDERSCORE_NOT_FOUND_ROUTE_ENTRY,\n          }\n        }\n      } else {\n        // Then if global-not-found.js doesn't exist then load not-found.js\n        const notFoundPath = await findPageFile(\n          appDir,\n          'not-found',\n          extensions,\n          true\n        )\n        if (notFoundPath) {\n          return {\n            filename: join(appDir, notFoundPath),\n            bundlePath: `app${UNDERSCORE_NOT_FOUND_ROUTE_ENTRY}`,\n            page: UNDERSCORE_NOT_FOUND_ROUTE_ENTRY,\n          }\n        }\n      }\n\n      // If they're not presented, then fallback to global-not-found\n      return {\n        filename: require.resolve(\n          'next/dist/client/components/builtin/global-not-found'\n        ),\n        bundlePath: `app${UNDERSCORE_NOT_FOUND_ROUTE_ENTRY}`,\n        page: UNDERSCORE_NOT_FOUND_ROUTE_ENTRY,\n      }\n    }\n    pagePath = await findPageFile(appDir, normalizedPagePath, extensions, true)\n    if (pagePath) {\n      const pageUrl = ensureLeadingSlash(\n        removePagePathTail(normalizePathSep(pagePath), {\n          keepIndex: true,\n          extensions,\n        })\n      )\n\n      return {\n        filename: join(appDir, pagePath),\n        bundlePath: posix.join('app', pageUrl),\n        page: posix.normalize(pageUrl),\n      }\n    }\n  }\n\n  if (!pagePath && pagesDir) {\n    pagePath = await findPageFile(\n      pagesDir,\n      normalizedPagePath,\n      extensions,\n      false\n    )\n  }\n\n  if (pagePath !== null && pagesDir) {\n    const pageUrl = ensureLeadingSlash(\n      removePagePathTail(normalizePathSep(pagePath), {\n        extensions,\n      })\n    )\n\n    return {\n      filename: join(pagesDir, pagePath),\n      bundlePath: posix.join('pages', normalizePagePath(pageUrl)),\n      page: posix.normalize(pageUrl),\n    }\n  }\n\n  if (page === '/_error') {\n    return {\n      filename: require.resolve('next/dist/pages/_error'),\n      bundlePath: page,\n      page: normalizePathSep(page),\n    }\n  } else {\n    throw new PageNotFoundError(normalizedPagePath)\n  }\n}\n\nexport function onDemandEntryHandler({\n  hotReloader,\n  maxInactiveAge,\n  multiCompiler,\n  nextConfig,\n  pagesBufferLength,\n  pagesDir,\n  rootDir,\n  appDir,\n}: {\n  hotReloader: HotReloaderWebpack\n  maxInactiveAge: number\n  multiCompiler: webpack.MultiCompiler\n  nextConfig: NextConfigComplete\n  pagesBufferLength: number\n  pagesDir?: string\n  rootDir: string\n  appDir?: string\n}) {\n  const hasAppDir = !!appDir\n  let curInvalidator: Invalidator = getInvalidator(\n    multiCompiler.outputPath\n  ) as any\n  const curEntries = getEntries(multiCompiler.outputPath) as any\n\n  if (!curInvalidator) {\n    curInvalidator = new Invalidator(multiCompiler)\n    invalidators.set(multiCompiler.outputPath, curInvalidator)\n  }\n\n  const startBuilding = (compilation: webpack.Compilation) => {\n    const compilationName = compilation.name as any as CompilerNameValues\n    curInvalidator.startBuilding(compilationName)\n  }\n  for (const compiler of multiCompiler.compilers) {\n    compiler.hooks.make.tap('NextJsOnDemandEntries', startBuilding)\n  }\n\n  function getPagePathsFromEntrypoints(\n    type: CompilerNameValues,\n    entrypoints: Map<string, { name?: string | null }>\n  ) {\n    const pagePaths: string[] = []\n    for (const entrypoint of entrypoints.values()) {\n      const page = getRouteFromEntrypoint(entrypoint.name!, hasAppDir)\n\n      if (page) {\n        const pageBundleType = entrypoint.name?.startsWith('app/')\n          ? PAGE_TYPES.APP\n          : PAGE_TYPES.PAGES\n        pagePaths.push(getEntryKey(type, pageBundleType, page))\n      } else if (\n        isMiddlewareFilename(entrypoint.name) ||\n        isInstrumentationHookFilename(entrypoint.name)\n      ) {\n        pagePaths.push(\n          getEntryKey(type, PAGE_TYPES.ROOT, `/${entrypoint.name}`)\n        )\n      }\n    }\n    return pagePaths\n  }\n\n  for (const compiler of multiCompiler.compilers) {\n    compiler.hooks.done.tap('NextJsOnDemandEntries', () =>\n      getInvalidator(compiler.outputPath)?.doneBuilding([\n        compiler.name as keyof typeof COMPILER_INDEXES,\n      ])\n    )\n  }\n\n  multiCompiler.hooks.done.tap('NextJsOnDemandEntries', (multiStats) => {\n    const [clientStats, serverStats, edgeServerStats] = multiStats.stats\n    const entryNames = [\n      ...getPagePathsFromEntrypoints(\n        COMPILER_NAMES.client,\n        clientStats.compilation.entrypoints\n      ),\n      ...getPagePathsFromEntrypoints(\n        COMPILER_NAMES.server,\n        serverStats.compilation.entrypoints\n      ),\n      ...(edgeServerStats\n        ? getPagePathsFromEntrypoints(\n            COMPILER_NAMES.edgeServer,\n            edgeServerStats.compilation.entrypoints\n          )\n        : []),\n    ]\n\n    for (const name of entryNames) {\n      const entry = curEntries[name]\n      if (!entry) {\n        continue\n      }\n\n      if (entry.status !== BUILDING) {\n        continue\n      }\n\n      entry.status = BUILT\n      doneCallbacks.emit(name)\n    }\n\n    getInvalidator(multiCompiler.outputPath)?.doneBuilding([...COMPILER_KEYS])\n  })\n\n  const pingIntervalTime = Math.max(1000, Math.min(5000, maxInactiveAge))\n\n  setInterval(function () {\n    disposeInactiveEntries(curEntries, maxInactiveAge)\n  }, pingIntervalTime + 1000).unref()\n\n  function handleAppDirPing(tree: FlightRouterState): void {\n    const pages = getEntrypointsFromTree(tree, true)\n\n    for (const page of pages) {\n      for (const compilerType of [\n        COMPILER_NAMES.client,\n        COMPILER_NAMES.server,\n        COMPILER_NAMES.edgeServer,\n      ]) {\n        const entryKey = getEntryKey(compilerType, PAGE_TYPES.APP, `/${page}`)\n        const entryInfo = curEntries[entryKey]\n\n        // If there's no entry, it may have been invalidated and needs to be re-built.\n        if (!entryInfo) {\n          // if (page !== lastEntry) client pings, but there's no entry for page\n          continue\n        }\n\n        // We don't need to maintain active state of anything other than BUILT entries\n        if (entryInfo.status !== BUILT) continue\n\n        // If there's an entryInfo\n        if (!lastServerAccessPagesForAppDir.includes(entryKey)) {\n          lastServerAccessPagesForAppDir.unshift(entryKey)\n\n          // Maintain the buffer max length\n          // TODO: verify that the current pageKey is not at the end of the array as multiple entrypoints can exist\n          if (lastServerAccessPagesForAppDir.length > pagesBufferLength) {\n            lastServerAccessPagesForAppDir.pop()\n          }\n        }\n        entryInfo.lastActiveTime = Date.now()\n        entryInfo.dispose = false\n      }\n    }\n  }\n\n  function handlePing(pg: string): void {\n    const page = normalizePathSep(pg)\n    for (const compilerType of [\n      COMPILER_NAMES.client,\n      COMPILER_NAMES.server,\n      COMPILER_NAMES.edgeServer,\n    ]) {\n      const entryKey = getEntryKey(compilerType, PAGE_TYPES.PAGES, page)\n      const entryInfo = curEntries[entryKey]\n\n      // If there's no entry, it may have been invalidated and needs to be re-built.\n      if (!entryInfo) {\n        // if (page !== lastEntry) client pings, but there's no entry for page\n        if (compilerType === COMPILER_NAMES.client) {\n          return\n        }\n        continue\n      }\n\n      // We don't need to maintain active state of anything other than BUILT entries\n      if (entryInfo.status !== BUILT) continue\n\n      // If there's an entryInfo\n      if (!lastClientAccessPages.includes(entryKey)) {\n        lastClientAccessPages.unshift(entryKey)\n\n        // Maintain the buffer max length\n        if (lastClientAccessPages.length > pagesBufferLength) {\n          lastClientAccessPages.pop()\n        }\n      }\n      entryInfo.lastActiveTime = Date.now()\n      entryInfo.dispose = false\n    }\n    return\n  }\n\n  async function ensurePageImpl({\n    page,\n    appPaths,\n    definition,\n    isApp,\n    url,\n  }: {\n    page: string\n    appPaths: ReadonlyArray<string> | null\n    definition: RouteDefinition | undefined\n    isApp: boolean | undefined\n    url?: string\n  }): Promise<void> {\n    const stalledTime = 60\n    const stalledEnsureTimeout = setTimeout(() => {\n      debug(\n        `Ensuring ${page} has taken longer than ${stalledTime}s, if this continues to stall this may be a bug`\n      )\n    }, stalledTime * 1000)\n\n    try {\n      let route: Pick<RouteDefinition, 'filename' | 'bundlePath' | 'page'>\n      if (definition) {\n        route = definition\n      } else {\n        route = await findPagePathData(\n          rootDir,\n          page,\n          nextConfig.pageExtensions,\n          pagesDir,\n          appDir,\n          !!nextConfig.experimental.globalNotFound\n        )\n      }\n\n      const isInsideAppDir = !!appDir && route.filename.startsWith(appDir)\n\n      if (typeof isApp === 'boolean' && isApp !== isInsideAppDir) {\n        Error.stackTraceLimit = 15\n        throw new Error(\n          `Ensure bailed, found path \"${\n            route.page\n          }\" does not match ensure type (${isApp ? 'app' : 'pages'})`\n        )\n      }\n\n      const pageBundleType = getPageBundleType(route.bundlePath)\n      const addEntry = (\n        compilerType: CompilerNameValues\n      ): {\n        entryKey: string\n        newEntry: boolean\n        shouldInvalidate: boolean\n      } => {\n        const entryKey = getEntryKey(compilerType, pageBundleType, route.page)\n        if (\n          curEntries[entryKey] &&\n          // there can be an overlap in the entryKey for the instrumentation hook file and a page named the same\n          // this is a quick fix to support this scenario by overwriting the instrumentation hook entry, since we only use it one time\n          // any changes to the instrumentation hook file will require a restart of the dev server anyway\n          !isInstrumentationHookFilename(curEntries[entryKey].bundlePath)\n        ) {\n          curEntries[entryKey].dispose = false\n          curEntries[entryKey].lastActiveTime = Date.now()\n          if (curEntries[entryKey].status === BUILT) {\n            return {\n              entryKey,\n              newEntry: false,\n              shouldInvalidate: false,\n            }\n          }\n\n          return {\n            entryKey,\n            newEntry: false,\n            shouldInvalidate: true,\n          }\n        }\n\n        curEntries[entryKey] = {\n          type: EntryTypes.ENTRY,\n          appPaths,\n          absolutePagePath: route.filename,\n          request: route.filename,\n          bundlePath: route.bundlePath,\n          dispose: false,\n          lastActiveTime: Date.now(),\n          status: ADDED,\n        }\n        return {\n          entryKey: entryKey,\n          newEntry: true,\n          shouldInvalidate: true,\n        }\n      }\n\n      const staticInfo = await getStaticInfoIncludingLayouts({\n        page,\n        pageFilePath: route.filename,\n        isInsideAppDir,\n        pageExtensions: nextConfig.pageExtensions,\n        isDev: true,\n        config: nextConfig,\n        appDir,\n      })\n\n      const added = new Map<CompilerNameValues, ReturnType<typeof addEntry>>()\n      const isServerComponent =\n        isInsideAppDir && staticInfo.rsc !== RSC_MODULE_TYPES.client\n\n      let pageRuntime = staticInfo.runtime\n\n      runDependingOnPageType({\n        page: route.page,\n        pageRuntime,\n        pageType: pageBundleType,\n        onClient: () => {\n          // Skip adding the client entry for app / Server Components.\n          if (isServerComponent || isInsideAppDir) {\n            return\n          }\n          added.set(COMPILER_NAMES.client, addEntry(COMPILER_NAMES.client))\n        },\n        onServer: () => {\n          added.set(COMPILER_NAMES.server, addEntry(COMPILER_NAMES.server))\n          const edgeServerEntry = getEntryKey(\n            COMPILER_NAMES.edgeServer,\n            pageBundleType,\n            route.page\n          )\n          if (\n            curEntries[edgeServerEntry] &&\n            !isInstrumentationHookFile(route.page)\n          ) {\n            // Runtime switched from edge to server\n            delete curEntries[edgeServerEntry]\n          }\n        },\n        onEdgeServer: () => {\n          added.set(\n            COMPILER_NAMES.edgeServer,\n            addEntry(COMPILER_NAMES.edgeServer)\n          )\n          const serverEntry = getEntryKey(\n            COMPILER_NAMES.server,\n            pageBundleType,\n            route.page\n          )\n          if (\n            curEntries[serverEntry] &&\n            !isInstrumentationHookFile(route.page)\n          ) {\n            // Runtime switched from server to edge\n            delete curEntries[serverEntry]\n          }\n        },\n      })\n\n      const addedValues = [...added.values()]\n      const entriesThatShouldBeInvalidated = [...added.entries()].filter(\n        ([, entry]) => entry.shouldInvalidate\n      )\n      const hasNewEntry = addedValues.some((entry) => entry.newEntry)\n\n      if (hasNewEntry) {\n        const routePage = isApp ? route.page : normalizeAppPath(route.page)\n        // If proxy file, remove the leading slash from \"/proxy\" to \"proxy\".\n        reportTrigger(\n          isMiddlewareFile(routePage) ? routePage.slice(1) : routePage,\n          url\n        )\n      }\n\n      if (entriesThatShouldBeInvalidated.length > 0) {\n        const invalidatePromise = Promise.all(\n          entriesThatShouldBeInvalidated.map(([compilerKey, { entryKey }]) => {\n            return new Promise<void>((resolve, reject) => {\n              doneCallbacks.once(entryKey, (err: Error) => {\n                if (err) {\n                  return reject(err)\n                }\n\n                // If the invalidation also triggers a rebuild, we need to\n                // wait for that additional build to prevent race conditions.\n                const needsRebuild = curInvalidator.willRebuild(compilerKey)\n                if (needsRebuild) {\n                  doneCallbacks.once(entryKey, (rebuildErr: Error) => {\n                    if (rebuildErr) {\n                      return reject(rebuildErr)\n                    }\n                    resolve()\n                  })\n                } else {\n                  resolve()\n                }\n              })\n            })\n          })\n        )\n\n        curInvalidator.invalidate([...added.keys()])\n        await invalidatePromise\n      }\n    } finally {\n      clearTimeout(stalledEnsureTimeout)\n    }\n  }\n\n  type EnsurePageOptions = {\n    page: string\n    appPaths?: ReadonlyArray<string> | null\n    definition?: RouteDefinition\n    isApp?: boolean\n    url?: string\n  }\n\n  // Make sure that we won't have multiple invalidations ongoing concurrently.\n  const batcher = Batcher.create<EnsurePageOptions, void, string>({\n    // The cache key here is composed of the elements that affect the\n    // compilation, namely, the page, whether it's client only, and whether\n    // it's an app page. This ensures that we don't have multiple compilations\n    // for the same page happening concurrently.\n    //\n    // We don't include the whole match because it contains match specific\n    // parameters (like route params) that would just bust this cache. Any\n    // details that would possibly bust the cache should be listed here.\n    cacheKeyFn: (options) => JSON.stringify(options),\n    // Schedule the invocation of the ensurePageImpl function on the next tick.\n    schedulerFn: scheduleOnNextTick,\n  })\n\n  return {\n    async ensurePage({\n      page,\n      appPaths = null,\n      definition,\n      isApp,\n      url,\n    }: EnsurePageOptions) {\n      // If the route is actually an app page route, then we should have access\n      // to the app route definition, and therefore, the appPaths from it.\n      if (!appPaths && definition && isAppPageRouteDefinition(definition)) {\n        appPaths = definition.appPaths\n      }\n\n      // Wrap the invocation of the ensurePageImpl function in the pending\n      // wrapper, which will ensure that we don't have multiple compilations\n      // for the same page happening concurrently.\n      return batcher.batch({ page, appPaths, definition, isApp }, async () => {\n        await ensurePageImpl({\n          page,\n          appPaths,\n          definition,\n          isApp,\n          url,\n        })\n      })\n    },\n    onHMR(client: ws, getHmrServerError: () => Error | null) {\n      let bufferedHmrServerError: Error | null = null\n\n      client.addEventListener('close', () => {\n        bufferedHmrServerError = null\n      })\n      client.addEventListener('message', ({ data }) => {\n        try {\n          const error = getHmrServerError()\n\n          // New error occurred: buffered error is flushed and new error occurred\n          if (!bufferedHmrServerError && error) {\n            hotReloader.send({\n              type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_ERROR,\n              errorJSON: stringifyError(error),\n            })\n            bufferedHmrServerError = null\n          }\n\n          const parsedData = JSON.parse(\n            typeof data !== 'string' ? data.toString() : data\n          )\n\n          if (parsedData.event === HMR_MESSAGE_SENT_TO_SERVER.PING) {\n            if (parsedData.appDirRoute) {\n              handleAppDirPing(parsedData.tree)\n            } else {\n              handlePing(parsedData.page)\n            }\n          } else if (\n            parsedData.event ===\n            HMR_MESSAGE_SENT_TO_SERVER.MCP_ERROR_STATE_RESPONSE\n          ) {\n            handleErrorStateResponse(\n              parsedData.requestId,\n              parsedData.errorState,\n              parsedData.url\n            )\n          } else if (\n            parsedData.event ===\n            HMR_MESSAGE_SENT_TO_SERVER.MCP_PAGE_METADATA_RESPONSE\n          ) {\n            handlePageMetadataResponse(\n              parsedData.requestId,\n              parsedData.segmentTrieData,\n              parsedData.url\n            )\n          }\n        } catch {}\n      })\n    },\n  }\n}\n"],"names":["ADDED","BUILDING","BUILT","EntryTypes","findPagePathData","getEntries","getEntryKey","getInvalidator","onDemandEntryHandler","debug","createDebug","keys","Object","COMPILER_KEYS","COMPILER_INDEXES","treePathToEntrypoint","segmentPath","parentPath","parallelRouteKey","segment","path","startsWith","length","childSegmentPath","getNextFlightSegmentPath","convertDynamicParamTypeToSyntax","dynamicParamTypeShort","param","Error","compilerType","pageBundleType","page","pageKey","replace","getPageBundleType","pageBundlePath","PAGE_TYPES","PAGES","isMiddlewareFilename","ROOT","APP","getEntrypointsFromTree","tree","isFirst","parallelRoutes","currentSegment","Array","isArray","isPageSegment","PAGE_SEGMENT_KEY","currentPath","slice","reduce","paths","key","childTree","childPages","Symbol","entriesMap","Map","normalizeOutputPath","dir","entries","get","set","invalidators","doneCallbacks","EventEmitter","lastClientAccessPages","lastServerAccessPagesForAppDir","Invalidator","constructor","multiCompiler","building","Set","rebuildAgain","shouldRebuildAll","size","invalidate","compilerKeys","has","add","compilers","watching","startBuilding","compilerKey","doneBuilding","rebuild","delete","push","willRebuild","disposeInactiveEntries","maxInactiveAge","forEach","entryKey","entryData","lastActiveTime","status","dispose","bundlePath","type","isInstrumentationHookFilename","includes","Date","now","tryToNormalizePagePath","normalizePagePath","err","console","error","PageNotFoundError","rootDir","extensions","pagesDir","appDir","isGlobalNotFoundEnabled","normalizedPagePath","pagePath","isInstrumentation","isInstrumentationHookFile","isMiddlewareFile","findPageFile","pageUrl","ensureLeadingSlash","removePagePathTail","normalizePathSep","posix","normalize","filename","join","UNDERSCORE_NOT_FOUND_ROUTE_ENTRY","globalNotFoundPath","notFoundPath","require","resolve","keepIndex","hotReloader","nextConfig","pagesBufferLength","hasAppDir","curInvalidator","outputPath","curEntries","compilation","compilationName","name","compiler","hooks","make","tap","getPagePathsFromEntrypoints","entrypoints","pagePaths","entrypoint","values","getRouteFromEntrypoint","done","multiStats","clientStats","serverStats","edgeServerStats","stats","entryNames","COMPILER_NAMES","client","server","edgeServer","entry","emit","pingIntervalTime","Math","max","min","setInterval","unref","handleAppDirPing","pages","entryInfo","unshift","pop","handlePing","pg","ensurePageImpl","appPaths","definition","isApp","url","stalledTime","stalledEnsureTimeout","setTimeout","route","pageExtensions","experimental","globalNotFound","isInsideAppDir","stackTraceLimit","addEntry","newEntry","shouldInvalidate","absolutePagePath","request","staticInfo","getStaticInfoIncludingLayouts","pageFilePath","isDev","config","added","isServerComponent","rsc","RSC_MODULE_TYPES","pageRuntime","runtime","runDependingOnPageType","pageType","onClient","onServer","edgeServerEntry","onEdgeServer","serverEntry","addedValues","entriesThatShouldBeInvalidated","filter","hasNewEntry","some","routePage","normalizeAppPath","reportTrigger","invalidatePromise","Promise","all","map","reject","once","needsRebuild","rebuildErr","clearTimeout","batcher","Batcher","create","cacheKeyFn","options","JSON","stringify","schedulerFn","scheduleOnNextTick","ensurePage","isAppPageRouteDefinition","batch","onHMR","getHmrServerError","bufferedHmrServerError","addEventListener","data","send","HMR_MESSAGE_SENT_TO_BROWSER","SERVER_ERROR","errorJSON","stringifyError","parsedData","parse","toString","event","HMR_MESSAGE_SENT_TO_SERVER","PING","appDirRoute","MCP_ERROR_STATE_RESPONSE","handleErrorStateResponse","requestId","errorState","MCP_PAGE_METADATA_RESPONSE","handlePageMetadataResponse","segmentTrieData"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2886, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/require-cache.ts"],"sourcesContent":["import isError from '../../lib/is-error'\nimport { realpathSync } from '../../lib/realpath'\nimport { clearManifestCache } from '../load-manifest.external'\n\nfunction deleteFromRequireCache(filePath: string) {\n  try {\n    filePath = realpathSync(filePath)\n  } catch (e) {\n    if (isError(e) && e.code !== 'ENOENT') throw e\n  }\n  const mod = require.cache[filePath]\n  if (mod) {\n    // remove the child reference from all parent modules\n    for (const parent of Object.values(require.cache)) {\n      if (parent?.children) {\n        const idx = parent.children.indexOf(mod)\n        if (idx >= 0) parent.children.splice(idx, 1)\n      }\n    }\n    // remove parent references from external modules\n    for (const child of mod.children) {\n      child.parent = null\n    }\n    delete require.cache[filePath]\n    return true\n  }\n  return false\n}\n\nexport function deleteCache(filePath: string) {\n  // try to clear it from the fs cache\n  clearManifestCache(filePath)\n\n  deleteFromRequireCache(filePath)\n}\n"],"names":["deleteCache","deleteFromRequireCache","filePath","realpathSync","e","isError","code","mod","require","cache","parent","Object","values","children","idx","indexOf","splice","child","clearManifestCache"],"mappings":";;;+BA6BgBA,eAAAA;;;eAAAA;;;gEA7BI;0BACS;sCACM;;;;;;AAEnC,SAASC,uBAAuBC,QAAgB;IAC9C,IAAI;QACFA,WAAWC,CAAAA,GAAAA,UAAAA,YAAY,EAACD;IAC1B,EAAE,OAAOE,GAAG;QACV,IAAIC,CAAAA,GAAAA,SAAAA,OAAO,EAACD,MAAMA,EAAEE,IAAI,KAAK,UAAU,MAAMF;IAC/C;IACA,MAAMG,MAAMC,QAAQC,eAAK,CAACP,SAAS;IACnC,IAAIK,KAAK;QACP,qDAAqD;QACrD,KAAK,MAAMG,UAAUC,OAAOC,MAAM,CAACJ,QAAQC,KAAK,YAAG;YACjD,IAAIC,UAAAA,OAAAA,KAAAA,IAAAA,OAAQG,QAAQ,EAAE;gBACpB,MAAMC,MAAMJ,OAAOG,QAAQ,CAACE,OAAO,CAACR;gBACpC,IAAIO,OAAO,GAAGJ,OAAOG,QAAQ,CAACG,MAAM,CAACF,KAAK;YAC5C;QACF;QACA,iDAAiD;QACjD,KAAK,MAAMG,SAASV,IAAIM,QAAQ,CAAE;YAChCI,MAAMP,MAAM,GAAG;QACjB;QACA,OAAOF,QAAQC,eAAK,CAACP,SAAS;QAC9B,OAAO;IACT;IACA,OAAO;AACT;AAEO,SAASF,YAAYE,QAAgB;IAC1C,oCAAoC;IACpCgB,CAAAA,GAAAA,sBAAAA,kBAAkB,EAAChB;IAEnBD,uBAAuBC;AACzB","ignoreList":[0]}},
    {"offset": {"line": 2936, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/middleware-turbopack.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'http'\nimport {\n  getOriginalCodeFrame,\n  ignoreListAnonymousStackFramesIfSandwiched,\n  type IgnorableStackFrame,\n  type OriginalStackFrameResponse,\n  type OriginalStackFramesRequest,\n  type OriginalStackFramesResponse,\n  type StackFrame,\n} from '../../next-devtools/server/shared'\nimport { middlewareResponse } from '../../next-devtools/server/middleware-response'\nimport path from 'path'\nimport { openFileInEditor } from '../../next-devtools/server/launch-editor'\nimport {\n  SourceMapConsumer,\n  type NullableMappedPosition,\n} from 'next/dist/compiled/source-map08'\nimport type { Project, TurbopackStackFrame } from '../../build/swc/types'\nimport {\n  type ModernSourceMapPayload,\n  devirtualizeReactServerURL,\n  findApplicableSourceMapPayload,\n} from '../lib/source-maps'\nimport { findSourceMap, type SourceMap } from 'node:module'\nimport { fileURLToPath, pathToFileURL } from 'node:url'\nimport { inspect } from 'node:util'\n\nfunction shouldIgnorePath(modulePath: string): boolean {\n  return (\n    modulePath.includes('node_modules') ||\n    // Only relevant for when Next.js is symlinked e.g. in the Next.js monorepo\n    modulePath.includes('next/dist') ||\n    modulePath.startsWith('node:')\n  )\n}\n\nconst currentSourcesByFile: Map<string, Promise<string | null>> = new Map()\n/**\n * @returns 1-based lines and 1-based columns\n */\nasync function batchedTraceSource(\n  project: Project,\n  frame: TurbopackStackFrame\n): Promise<{ frame: IgnorableStackFrame; source: string | null } | undefined> {\n  const file = frame.file\n    ? // TODO(veil): Why are the frames sent encoded?\n      decodeURIComponent(frame.file)\n    : undefined\n\n  if (!file) return\n\n  // For node internals they cannot traced the actual source code with project.traceSource,\n  // we need an early return to indicate it's ignored to avoid the unknown scheme error from `project.traceSource`.\n  if (file.startsWith('node:')) {\n    return {\n      frame: {\n        file,\n        line1: frame.line ?? null,\n        column1: frame.column ?? null,\n        methodName: frame.methodName ?? '<unknown>',\n        ignored: true,\n        arguments: [],\n      },\n      source: null,\n    }\n  }\n\n  const currentDirectoryFileUrl = pathToFileURL(process.cwd()).href\n\n  const sourceFrame = await project.traceSource(frame, currentDirectoryFileUrl)\n  if (!sourceFrame) {\n    return {\n      frame: {\n        file,\n        line1: frame.line ?? null,\n        column1: frame.column ?? null,\n        methodName: frame.methodName ?? '<unknown>',\n        ignored: shouldIgnorePath(file),\n        arguments: [],\n      },\n      source: null,\n    }\n  }\n\n  let source = null\n  const originalFile = sourceFrame.originalFile\n\n  // Don't look up source for node_modules or internals. These can often be large bundled files.\n  const ignored =\n    shouldIgnorePath(originalFile ?? sourceFrame.file) ||\n    // isInternal means resource starts with turbopack:///[turbopack]\n    !!sourceFrame.isInternal\n  if (originalFile && !ignored) {\n    let sourcePromise = currentSourcesByFile.get(originalFile)\n    if (!sourcePromise) {\n      sourcePromise = project.getSourceForAsset(originalFile)\n      currentSourcesByFile.set(originalFile, sourcePromise)\n      setTimeout(() => {\n        // Cache file reads for 100ms, as frames will often reference the same\n        // files and can be large.\n        currentSourcesByFile.delete(originalFile!)\n      }, 100)\n    }\n    source = await sourcePromise\n  }\n\n  // TODO: get ignoredList from turbopack source map\n  const ignorableFrame: IgnorableStackFrame = {\n    file: sourceFrame.file,\n    line1: sourceFrame.line ?? null,\n    column1: sourceFrame.column ?? null,\n    methodName:\n      // We ignore the sourcemapped name since it won't be the correct name.\n      // The callsite will point to the column of the variable name instead of the\n      // name of the enclosing function.\n      // TODO(NDX-531): Spy on prepareStackTrace to get the enclosing line number for method name mapping.\n      frame.methodName ?? '<unknown>',\n    ignored,\n    arguments: [],\n  }\n\n  return {\n    frame: ignorableFrame,\n    source,\n  }\n}\n\nfunction parseFile(fileParam: string | null): string | undefined {\n  if (!fileParam) {\n    return undefined\n  }\n\n  return devirtualizeReactServerURL(fileParam)\n}\n\nfunction createStackFrames(\n  body: OriginalStackFramesRequest\n): TurbopackStackFrame[] {\n  const { frames, isServer } = body\n\n  return frames\n    .map((frame): TurbopackStackFrame | undefined => {\n      const file = parseFile(frame.file)\n\n      if (!file) {\n        return undefined\n      }\n\n      return {\n        file,\n        methodName: frame.methodName ?? '<unknown>',\n        line: frame.line1 ?? undefined,\n        column: frame.column1 ?? undefined,\n        isServer,\n      }\n    })\n    .filter((f): f is TurbopackStackFrame => f !== undefined)\n}\n\nfunction createStackFrame(\n  searchParams: URLSearchParams\n): TurbopackStackFrame | undefined {\n  const file = parseFile(searchParams.get('file'))\n\n  if (!file) {\n    return undefined\n  }\n\n  return {\n    file,\n    methodName: searchParams.get('methodName') ?? '<unknown>',\n    line: parseInt(searchParams.get('line1') ?? '0', 10) || undefined,\n    column: parseInt(searchParams.get('column1') ?? '0', 10) || undefined,\n    isServer: searchParams.get('isServer') === 'true',\n  }\n}\n\n/**\n * @returns 1-based lines and 1-based columns\n */\nasync function nativeTraceSource(\n  frame: TurbopackStackFrame\n): Promise<{ frame: IgnorableStackFrame; source: string | null } | undefined> {\n  const sourceURL = frame.file\n  let sourceMapPayload: ModernSourceMapPayload | undefined\n  try {\n    sourceMapPayload = findSourceMap(sourceURL)?.payload\n  } catch (cause) {\n    throw new Error(\n      `${sourceURL}: Invalid source map. Only conformant source maps can be used to find the original code.`,\n      { cause }\n    )\n  }\n\n  if (sourceMapPayload !== undefined) {\n    let consumer: SourceMapConsumer\n    try {\n      consumer = await new SourceMapConsumer(sourceMapPayload)\n    } catch (cause) {\n      throw new Error(\n        `${sourceURL}: Invalid source map. Only conformant source maps can be used to find the original code.`,\n        { cause }\n      )\n    }\n    let traced: {\n      originalPosition: NullableMappedPosition\n      sourceContent: string | null\n    } | null\n    try {\n      const originalPosition = consumer.originalPositionFor({\n        line: frame.line ?? 1,\n        // 0-based columns out requires 0-based columns in.\n        column: (frame.column ?? 1) - 1,\n      })\n\n      if (originalPosition.source === null) {\n        traced = null\n      } else {\n        const sourceContent: string | null =\n          consumer.sourceContentFor(\n            originalPosition.source,\n            /* returnNullOnMissing */ true\n          ) ?? null\n\n        traced = { originalPosition, sourceContent }\n      }\n    } finally {\n      consumer.destroy()\n    }\n\n    if (traced !== null) {\n      const { originalPosition, sourceContent } = traced\n      const applicableSourceMap = findApplicableSourceMapPayload(\n        (frame.line ?? 1) - 1,\n        (frame.column ?? 1) - 1,\n        sourceMapPayload\n      )\n\n      // TODO(veil): Upstream a method to sourcemap consumer that immediately says if a frame is ignored or not.\n      let ignored = false\n      if (applicableSourceMap === undefined) {\n        console.error(\n          'No applicable source map found in sections for frame',\n          frame\n        )\n      } else {\n        // TODO: O(n^2). Consider moving `ignoreList` into a Set\n        const sourceIndex = applicableSourceMap.sources.indexOf(\n          originalPosition.source!\n        )\n        ignored =\n          applicableSourceMap.ignoreList?.includes(sourceIndex) ??\n          // When sourcemap is not available, fallback to checking `frame.file`.\n          // e.g. In pages router, nextjs server code is not bundled into the page.\n          shouldIgnorePath(frame.file)\n      }\n\n      const originalStackFrame: IgnorableStackFrame = {\n        methodName:\n          // We ignore the sourcemapped name since it won't be the correct name.\n          // The callsite will point to the column of the variable name instead of the\n          // name of the enclosing function.\n          // TODO(NDX-531): Spy on prepareStackTrace to get the enclosing line number for method name mapping.\n          frame.methodName\n            ?.replace('__WEBPACK_DEFAULT_EXPORT__', 'default')\n            ?.replace('__webpack_exports__.', '') || '<unknown>',\n        file: originalPosition.source,\n        line1: originalPosition.line,\n        column1:\n          originalPosition.column === null ? null : originalPosition.column + 1,\n        // TODO: c&p from async createOriginalStackFrame but why not frame.arguments?\n        arguments: [],\n        ignored,\n      }\n\n      return {\n        frame: originalStackFrame,\n        source: sourceContent,\n      }\n    }\n  }\n\n  return undefined\n}\n\nasync function createOriginalStackFrame(\n  project: Project,\n  projectPath: string,\n  frame: TurbopackStackFrame\n): Promise<OriginalStackFrameResponse | null> {\n  const traced =\n    (await nativeTraceSource(frame)) ??\n    // TODO(veil): When would the bundler know more than native?\n    // If it's faster, try the bundler first and fall back to native later.\n    (await batchedTraceSource(project, frame))\n  if (!traced) {\n    return null\n  }\n\n  let normalizedStackFrameLocation = traced.frame.file\n  if (\n    normalizedStackFrameLocation !== null &&\n    normalizedStackFrameLocation.startsWith('file://')\n  ) {\n    normalizedStackFrameLocation = path.relative(\n      projectPath,\n      fileURLToPath(normalizedStackFrameLocation)\n    )\n  }\n\n  return {\n    originalStackFrame: {\n      arguments: traced.frame.arguments,\n      file: normalizedStackFrameLocation,\n      line1: traced.frame.line1,\n      column1: traced.frame.column1,\n      ignored: traced.frame.ignored,\n      methodName: traced.frame.methodName,\n    },\n    originalCodeFrame: getOriginalCodeFrame(traced.frame, traced.source),\n  }\n}\n\nexport function getOverlayMiddleware({\n  project,\n  projectPath,\n  isSrcDir,\n}: {\n  project: Project\n  projectPath: string\n  isSrcDir: boolean\n}) {\n  return async function (\n    req: IncomingMessage,\n    res: ServerResponse,\n    next: () => void\n  ): Promise<void> {\n    const { pathname, searchParams } = new URL(req.url!, 'http://n')\n\n    if (pathname === '/__nextjs_original-stack-frames') {\n      if (req.method !== 'POST') {\n        return middlewareResponse.badRequest(res)\n      }\n\n      const body = await new Promise<string>((resolve, reject) => {\n        let data = ''\n        req.on('data', (chunk) => {\n          data += chunk\n        })\n        req.on('end', () => resolve(data))\n        req.on('error', reject)\n      })\n\n      const request = JSON.parse(body) as OriginalStackFramesRequest\n      const result = await getOriginalStackFrames({\n        project,\n        projectPath,\n        frames: request.frames,\n        isServer: request.isServer,\n        isEdgeServer: request.isEdgeServer,\n        isAppDirectory: request.isAppDirectory,\n      })\n\n      ignoreListAnonymousStackFramesIfSandwiched(result)\n\n      return middlewareResponse.json(res, result)\n    } else if (pathname === '/__nextjs_launch-editor') {\n      const isAppRelativePath = searchParams.get('isAppRelativePath') === '1'\n\n      let openEditorResult\n      if (isAppRelativePath) {\n        const relativeFilePath = searchParams.get('file') || ''\n        const appPath = path.join(\n          'app',\n          isSrcDir ? 'src' : '',\n          relativeFilePath\n        )\n        openEditorResult = await openFileInEditor(appPath, 1, 1, projectPath)\n      } else {\n        const frame = createStackFrame(searchParams)\n        if (!frame) return middlewareResponse.badRequest(res)\n        openEditorResult = await openFileInEditor(\n          frame.file,\n          frame.line ?? 1,\n          frame.column ?? 1,\n          projectPath\n        )\n      }\n\n      if (openEditorResult.error) {\n        return middlewareResponse.internalServerError(\n          res,\n          openEditorResult.error\n        )\n      }\n      if (!openEditorResult.found) {\n        return middlewareResponse.notFound(res)\n      }\n      return middlewareResponse.noContent(res)\n    }\n\n    return next()\n  }\n}\n\nexport function getSourceMapMiddleware(project: Project) {\n  return async function (\n    req: IncomingMessage,\n    res: ServerResponse,\n    next: () => void\n  ): Promise<void> {\n    const { pathname, searchParams } = new URL(req.url!, 'http://n')\n\n    if (pathname !== '/__nextjs_source-map') {\n      return next()\n    }\n\n    let filename = searchParams.get('filename')\n\n    if (!filename) {\n      return middlewareResponse.badRequest(res)\n    }\n\n    let nativeSourceMap: SourceMap | undefined\n    try {\n      nativeSourceMap = findSourceMap(filename)\n    } catch (cause) {\n      return middlewareResponse.internalServerError(\n        res,\n        new Error(\n          `${filename}: Invalid source map. Only conformant source maps can be used to find the original code.`,\n          { cause }\n        )\n      )\n    }\n\n    if (nativeSourceMap !== undefined) {\n      const sourceMapPayload = nativeSourceMap.payload\n      return middlewareResponse.json(res, sourceMapPayload)\n    }\n\n    try {\n      // Turbopack chunk filenames might be URL-encoded.\n      filename = decodeURI(filename)\n    } catch {\n      return middlewareResponse.badRequest(res)\n    }\n\n    if (path.isAbsolute(filename)) {\n      filename = pathToFileURL(filename).href\n    }\n\n    try {\n      const sourceMapString = await project.getSourceMap(filename)\n\n      if (sourceMapString) {\n        return middlewareResponse.jsonString(res, sourceMapString)\n      }\n    } catch (cause) {\n      return middlewareResponse.internalServerError(\n        res,\n        new Error(\n          `Failed to get source map for '${filename}'. This is a bug in Next.js`,\n          {\n            cause,\n          }\n        )\n      )\n    }\n\n    middlewareResponse.noContent(res)\n  }\n}\n\nexport async function getOriginalStackFrames({\n  project,\n  projectPath,\n  frames,\n  isServer,\n  isEdgeServer,\n  isAppDirectory,\n}: {\n  project: Project\n  projectPath: string\n  frames: readonly StackFrame[]\n  isServer: boolean\n  isEdgeServer: boolean\n  isAppDirectory: boolean\n}): Promise<OriginalStackFramesResponse> {\n  const stackFrames = createStackFrames({\n    frames,\n    isServer,\n    isEdgeServer,\n    isAppDirectory,\n  })\n\n  return Promise.all(\n    stackFrames.map(async (frame) => {\n      try {\n        const stackFrame = await createOriginalStackFrame(\n          project,\n          projectPath,\n          frame\n        )\n        if (stackFrame === null) {\n          return {\n            status: 'rejected',\n            reason: 'Failed to create original stack frame',\n          }\n        }\n        return { status: 'fulfilled', value: stackFrame }\n      } catch (error) {\n        return {\n          status: 'rejected',\n          reason: inspect(error, { colors: false }),\n        }\n      }\n    })\n  )\n}\n"],"names":["getOriginalStackFrames","getOverlayMiddleware","getSourceMapMiddleware","shouldIgnorePath","modulePath","includes","startsWith","currentSourcesByFile","Map","batchedTraceSource","project","frame","file","decodeURIComponent","undefined","line1","line","column1","column","methodName","ignored","arguments","source","currentDirectoryFileUrl","pathToFileURL","process","cwd","href","sourceFrame","traceSource","originalFile","isInternal","sourcePromise","get","getSourceForAsset","set","setTimeout","delete","ignorableFrame","parseFile","fileParam","devirtualizeReactServerURL","createStackFrames","body","frames","isServer","map","filter","f","createStackFrame","searchParams","parseInt","nativeTraceSource","sourceURL","sourceMapPayload","findSourceMap","payload","cause","Error","consumer","SourceMapConsumer","traced","originalPosition","originalPositionFor","sourceContent","sourceContentFor","destroy","applicableSourceMap","findApplicableSourceMapPayload","console","error","sourceIndex","sources","indexOf","ignoreList","originalStackFrame","replace","createOriginalStackFrame","projectPath","normalizedStackFrameLocation","path","relative","fileURLToPath","originalCodeFrame","getOriginalCodeFrame","isSrcDir","req","res","next","pathname","URL","url","method","middlewareResponse","badRequest","Promise","resolve","reject","data","on","chunk","request","JSON","parse","result","isEdgeServer","isAppDirectory","ignoreListAnonymousStackFramesIfSandwiched","json","isAppRelativePath","openEditorResult","relativeFilePath","appPath","join","openFileInEditor","internalServerError","found","notFound","noContent","filename","nativeSourceMap","decodeURI","isAbsolute","sourceMapString","getSourceMap","jsonString","stackFrames","all","stackFrame","status","reason","value","inspect","colors"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3328, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/browser-logs/source-map.ts"],"sourcesContent":["import { getOriginalStackFrames as getOriginalStackFramesWebpack } from '../middleware-webpack'\nimport { getOriginalStackFrames as getOriginalStackFramesTurbopack } from '../middleware-turbopack'\nimport type { Project } from '../../../build/swc/types'\nimport { dim } from '../../../lib/picocolors'\nimport { parseStack, type StackFrame } from '../../lib/parse-stack'\nimport path from 'path'\nimport { LRUCache } from '../../lib/lru-cache'\n\ntype WebpackMappingContext = {\n  bundler: 'webpack'\n  isServer: boolean\n  isEdgeServer: boolean\n  isAppDirectory: boolean\n  clientStats: () => any\n  serverStats: () => any\n  edgeServerStats: () => any\n  rootDirectory: string\n}\n\ntype TurbopackMappingContext = {\n  bundler: 'turbopack'\n  isServer: boolean\n  isEdgeServer: boolean\n  isAppDirectory: boolean\n  project: Project\n  projectPath: string\n}\n\nexport type MappingContext = WebpackMappingContext | TurbopackMappingContext\n\n// TODO: handle server vs browser error source mapping correctly\nexport async function mapFramesUsingBundler(\n  frames: StackFrame[],\n  ctx: MappingContext\n) {\n  switch (ctx.bundler) {\n    case 'webpack': {\n      const {\n        isServer,\n        isEdgeServer,\n        isAppDirectory,\n        clientStats,\n        serverStats,\n        edgeServerStats,\n        rootDirectory,\n      } = ctx\n      const res = await getOriginalStackFramesWebpack({\n        isServer,\n        isEdgeServer,\n        isAppDirectory,\n        frames,\n        clientStats,\n        serverStats,\n        edgeServerStats,\n        rootDirectory,\n      })\n      return res\n    }\n    case 'turbopack': {\n      const { project, projectPath, isServer, isEdgeServer, isAppDirectory } =\n        ctx\n      const res = await getOriginalStackFramesTurbopack({\n        project,\n        projectPath,\n        frames,\n        isServer,\n        isEdgeServer,\n        isAppDirectory,\n      })\n\n      return res\n    }\n    default: {\n      return null!\n    }\n  }\n}\n\n// converts _next/static/chunks/... to file:///.next/static/chunks/... for parseStack\n// todo: where does next dev overlay handle this case and re-use that logic\nfunction preprocessStackTrace(stackTrace: string, distDir?: string): string {\n  return stackTrace\n    .split('\\n')\n    .map((line) => {\n      const match = line.match(/^(\\s*at\\s+.*?)\\s+\\(([^)]+)\\)$/)\n      if (match) {\n        const [, prefix, location] = match\n\n        if (location.startsWith('_next/static/') && distDir) {\n          const normalizedDistDir = distDir\n            .replace(/\\\\/g, '/')\n            .replace(/\\/$/, '')\n\n          const absolutePath =\n            normalizedDistDir + '/' + location.slice('_next/'.length)\n          const fileUrl = `file://${path.resolve(absolutePath)}`\n\n          return `${prefix} (${fileUrl})`\n        }\n      }\n\n      return line\n    })\n    .join('\\n')\n}\n\nconst cache = new LRUCache<\n  Awaited<ReturnType<typeof getSourceMappedStackFramesInternal>>\n>(25)\nasync function getSourceMappedStackFramesInternal(\n  stackTrace: string,\n  ctx: MappingContext,\n  distDir: string,\n  ignore = true\n) {\n  try {\n    const normalizedStack = preprocessStackTrace(stackTrace, distDir)\n    const frames = parseStack(normalizedStack, distDir)\n\n    if (frames.length === 0) {\n      return {\n        kind: 'stack' as const,\n        stack: stackTrace,\n      }\n    }\n\n    const mappingResults = await mapFramesUsingBundler(frames, ctx)\n\n    const processedFrames = mappingResults\n      .map((result, index) => ({\n        result,\n        originalFrame: frames[index],\n      }))\n      .map(({ result, originalFrame }) => {\n        if (result.status === 'rejected') {\n          return {\n            kind: 'rejected' as const,\n            frameText: formatStackFrame(originalFrame),\n            codeFrame: null,\n          }\n        }\n\n        const { originalStackFrame, originalCodeFrame } = result.value\n        if (originalStackFrame?.ignored && ignore) {\n          return {\n            kind: 'ignored' as const,\n          }\n        }\n\n        // should we apply this generally to dev overlay (dev overlay does not ignore chrome-extension://)\n        if (originalStackFrame?.file?.startsWith('chrome-extension://')) {\n          return {\n            kind: 'ignored' as const,\n          }\n        }\n\n        return {\n          kind: 'success' as const,\n          // invariant: if result is not rejected and not ignored, then original stack frame exists\n          // verifiable by tracing `getOriginalStackFrame`. The invariant exists because of bad types\n          frameText: formatStackFrame(originalStackFrame!),\n          codeFrame: originalCodeFrame,\n        }\n      })\n\n    const allIgnored = processedFrames.every(\n      (frame) => frame.kind === 'ignored'\n    )\n\n    // we want to handle **all** ignored vs all/some rejected differently\n    // if all are ignored we should show no frames\n    // if all are rejected, we want to fallback to showing original stack frames\n    if (allIgnored) {\n      return {\n        kind: 'all-ignored' as const,\n      }\n    }\n\n    const filteredFrames = processedFrames.filter(\n      (frame) => frame.kind !== 'ignored'\n    )\n\n    if (filteredFrames.length === 0) {\n      return {\n        kind: 'stack' as const,\n        stack: stackTrace,\n      }\n    }\n\n    const stackOutput = filteredFrames\n      .map((frame) => frame.frameText)\n      .join('\\n')\n    const firstFrameCode = filteredFrames.find(\n      (frame) => frame.codeFrame\n    )?.codeFrame\n\n    if (firstFrameCode) {\n      return {\n        kind: 'with-frame-code' as const,\n        frameCode: firstFrameCode,\n        stack: stackOutput,\n        frames: filteredFrames,\n      }\n    }\n    // i don't think this a real case, but good for exhaustion\n    return {\n      kind: 'mapped-stack' as const,\n      stack: stackOutput,\n      frames: filteredFrames,\n    }\n  } catch (error) {\n    return {\n      kind: 'stack' as const,\n      stack: stackTrace,\n    }\n  }\n}\n\n// todo: cache the actual async call, not the wrapper with post processing\nexport async function getSourceMappedStackFrames(\n  stackTrace: string,\n  ctx: MappingContext,\n  distDir: string,\n  ignore = true\n) {\n  const cacheKey = `sm_${stackTrace}-${ctx.bundler}-${ctx.isAppDirectory}-${ctx.isEdgeServer}-${ctx.isServer}-${distDir}-${ignore}`\n\n  const cacheItem = cache.get(cacheKey)\n  if (cacheItem) {\n    return cacheItem\n  }\n\n  const result = await getSourceMappedStackFramesInternal(\n    stackTrace,\n    ctx,\n    distDir,\n    ignore\n  )\n  cache.set(cacheKey, result)\n  return result\n}\n\nfunction formatStackFrame(frame: StackFrame): string {\n  const functionName = frame.methodName || '<anonymous>'\n  const location =\n    frame.file && frame.line1\n      ? `${frame.file}:${frame.line1}${frame.column1 ? `:${frame.column1}` : ''}`\n      : frame.file || '<unknown>'\n\n  return `    at ${functionName} (${location})`\n}\n\n// appends the source mapped location of the console method\nexport const withLocation = async (\n  {\n    original,\n    stack,\n  }: {\n    original: Array<any>\n    stack: string | null\n  },\n  ctx: MappingContext,\n  distDir: string,\n  config: boolean | { logDepth?: number; showSourceLocation?: boolean }\n) => {\n  if (typeof config === 'object' && config.showSourceLocation === false) {\n    return original\n  }\n  if (!stack) {\n    return original\n  }\n\n  const res = await getSourceMappedStackFrames(stack, ctx, distDir)\n  const location = getConsoleLocation(res)\n\n  if (!location) {\n    return original\n  }\n\n  return [...original, dim(`(${location})`)]\n}\n\nexport const getConsoleLocation = (\n  mapped: Awaited<ReturnType<typeof getSourceMappedStackFrames>>\n) => {\n  if (mapped.kind !== 'mapped-stack' && mapped.kind !== 'with-frame-code') {\n    return null\n  }\n\n  const first = mapped.frames.at(0)\n\n  if (!first) {\n    return null\n  }\n\n  // we don't want to show the name of parent function (at <fn> thing in stack), just source location for minimal noise\n  const match = first.frameText.match(/\\(([^)]+)\\)/)\n  const locationText = match ? match[1] : first.frameText\n  return locationText\n}\n"],"names":["getConsoleLocation","getSourceMappedStackFrames","mapFramesUsingBundler","withLocation","frames","ctx","bundler","isServer","isEdgeServer","isAppDirectory","clientStats","serverStats","edgeServerStats","rootDirectory","res","getOriginalStackFramesWebpack","project","projectPath","getOriginalStackFramesTurbopack","preprocessStackTrace","stackTrace","distDir","split","map","line","match","prefix","location","startsWith","normalizedDistDir","replace","absolutePath","slice","length","fileUrl","path","resolve","join","cache","LRUCache","getSourceMappedStackFramesInternal","ignore","filteredFrames","normalizedStack","parseStack","kind","stack","mappingResults","processedFrames","result","index","originalFrame","originalStackFrame","status","frameText","formatStackFrame","codeFrame","originalCodeFrame","value","ignored","file","allIgnored","every","frame","filter","stackOutput","firstFrameCode","find","frameCode","error","cacheKey","cacheItem","get","set","functionName","methodName","line1","column1","original","config","showSourceLocation","dim","mapped","first","at","locationText"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3554, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/browser-logs/receive-logs.ts"],"sourcesContent":["import { cyan, dim, red, yellow } from '../../../lib/picocolors'\nimport type { Project } from '../../../build/swc/types'\nimport util from 'util'\nimport {\n  getConsoleLocation,\n  getSourceMappedStackFrames,\n  withLocation,\n  type MappingContext,\n} from './source-map'\nimport {\n  type ServerLogEntry,\n  type LogMethod,\n  type ConsoleEntry,\n  UNDEFINED_MARKER,\n} from '../../../next-devtools/shared/forward-logs-shared'\nimport { formatConsoleArgs } from '../../../client/lib/console'\nimport { getFileLogger } from './file-logger'\n\nexport function restoreUndefined(x: any): any {\n  if (x === UNDEFINED_MARKER) return undefined\n  if (Array.isArray(x)) return x.map(restoreUndefined)\n  if (x && typeof x === 'object') {\n    for (let k in x) {\n      x[k] = restoreUndefined(x[k])\n    }\n  }\n  return x\n}\n\nfunction cleanConsoleArgsForFileLogging(args: any[]): string {\n  /**\n   * Use formatConsoleArgs to strip out background and color format specifiers\n   * and keep only the original string content for file logging\n   */\n  try {\n    return formatConsoleArgs(args)\n  } catch {\n    // Fallback to simple string conversion if formatting fails\n    return args\n      .map((arg) =>\n        typeof arg === 'string' ? arg : util.inspect(arg, { depth: 2 })\n      )\n      .join(' ')\n  }\n}\n\nconst methods: Array<LogMethod> = [\n  'log',\n  'info',\n  'warn',\n  'debug',\n  'table',\n  'error',\n  'assert',\n  'dir',\n  'dirxml',\n  'group',\n  'groupCollapsed',\n  'groupEnd',\n]\n\nconst methodsToSkipInspect = new Set([\n  'table',\n  'dir',\n  'dirxml',\n  'group',\n  'groupCollapsed',\n  'groupEnd',\n])\n\n// we aren't overriding console, we're just making a (slightly convoluted) helper for replaying user console methods\nconst forwardConsole: typeof console = {\n  ...console,\n  ...Object.fromEntries(\n    methods.map((method) => [\n      method,\n      (...args: Array<any>) =>\n        (console[method] as any)(\n          ...args.map((arg) =>\n            methodsToSkipInspect.has(method) ||\n            typeof arg !== 'object' ||\n            arg === null\n              ? arg\n              : // we hardcode depth:Infinity to allow the true depth to be configured by the serialization done in the browser (which is controlled by user)\n                util.inspect(arg, { depth: Infinity, colors: true })\n          )\n        ),\n    ])\n  ),\n}\n\nasync function deserializeArgData(arg: any) {\n  try {\n    // we want undefined to be represented as it would be in the browser from the user's perspective (otherwise it would be stripped away/shown as null)\n    if (arg === UNDEFINED_MARKER) {\n      return restoreUndefined(arg)\n    }\n\n    return restoreUndefined(JSON.parse(arg))\n  } catch {\n    return arg\n  }\n}\n\nconst colorError = (\n  mapped: Awaited<ReturnType<typeof getSourceMappedStackFrames>>,\n  config?: {\n    prefix?: string\n    applyColor?: boolean\n  }\n) => {\n  const colorFn =\n    config?.applyColor === undefined || config.applyColor ? red : <T>(x: T) => x\n  switch (mapped.kind) {\n    case 'mapped-stack':\n    case 'stack': {\n      return (\n        (config?.prefix ? colorFn(config?.prefix) : '') +\n        `\\n${colorFn(mapped.stack)}`\n      )\n    }\n    case 'with-frame-code': {\n      return (\n        (config?.prefix ? colorFn(config?.prefix) : '') +\n        `\\n${colorFn(mapped.stack)}\\n${mapped.frameCode}`\n      )\n    }\n    // a more sophisticated version of this allows the user to config if they want ignored frames (but we need to be sure to source map them)\n    case 'all-ignored': {\n      return config?.prefix ? colorFn(config?.prefix) : ''\n    }\n    default: {\n    }\n  }\n  mapped satisfies never\n}\n\nfunction processConsoleFormatStrings(args: any[]): any[] {\n  /**\n   * this handles the case formatting is applied to the console log\n   * otherwise we will see the format specifier directly in the terminal output\n   */\n  if (args.length > 0 && typeof args[0] === 'string') {\n    const formatString = args[0]\n    if (\n      formatString.includes('%s') ||\n      formatString.includes('%d') ||\n      formatString.includes('%i') ||\n      formatString.includes('%f') ||\n      formatString.includes('%o') ||\n      formatString.includes('%O') ||\n      formatString.includes('%c')\n    ) {\n      try {\n        const formatted = util.format(...args)\n        return [formatted]\n      } catch {\n        return args\n      }\n    }\n  }\n  return args\n}\n\n// in the case of logging errors, we want to strip formatting\n// modifiers since we apply our own custom coloring to error\n// stacks and code blocks, and otherwise it would conflict\n// and cause awful output\nexport function stripFormatSpecifiers(args: any[]): any[] {\n  if (args.length === 0 || typeof args[0] !== 'string') return args\n\n  const fmtIn = String(args[0])\n  const rest = args.slice(1)\n\n  if (!fmtIn.includes('%')) return args\n\n  let fmtOut = ''\n  let argPtr = 0\n\n  for (let i = 0; i < fmtIn.length; i++) {\n    if (fmtIn[i] !== '%') {\n      fmtOut += fmtIn[i]\n      continue\n    }\n\n    if (fmtIn[i + 1] === '%') {\n      fmtOut += '%'\n      i++\n      continue\n    }\n\n    const token = fmtIn[++i]\n\n    if (!token) {\n      fmtOut += '%'\n      continue\n    }\n\n    if ('csdifoOj'.includes(token) || token === 'O') {\n      if (argPtr < rest.length) {\n        if (token === 'c') {\n          argPtr++\n        } else if (token === 'o' || token === 'O' || token === 'j') {\n          const obj = rest[argPtr++]\n          fmtOut += util.inspect(obj, { depth: 2, colors: false })\n        } else {\n          // string(...) is safe for remaining specifiers\n          fmtOut += String(rest[argPtr++])\n        }\n      }\n      continue\n    }\n\n    fmtOut += '%' + token\n  }\n\n  const result = [fmtOut]\n  if (argPtr < rest.length) {\n    result.push(...rest.slice(argPtr))\n  }\n\n  return result\n}\n\nasync function prepareFormattedErrorArgs(\n  entry: Extract<ServerLogEntry, { kind: 'formatted-error' }>,\n  ctx: MappingContext,\n  distDir: string\n) {\n  const mapped = await getSourceMappedStackFrames(entry.stack, ctx, distDir)\n  return [colorError(mapped, { prefix: entry.prefix })]\n}\n\nasync function prepareConsoleArgs(\n  entry: Extract<ServerLogEntry, { kind: 'console' }>,\n  ctx: MappingContext,\n  distDir: string\n) {\n  const deserialized = await Promise.all(\n    entry.args.map(async (arg) => {\n      if (arg.kind === 'arg') {\n        const data = await deserializeArgData(arg.data)\n        if (entry.method === 'warn' && typeof data === 'string') {\n          return yellow(data)\n        }\n        return data\n      }\n      if (!arg.stack) return red(arg.prefix)\n      const mapped = await getSourceMappedStackFrames(arg.stack, ctx, distDir)\n      return colorError(mapped, { prefix: arg.prefix, applyColor: false })\n    })\n  )\n\n  return processConsoleFormatStrings(deserialized)\n}\n\nasync function prepareConsoleErrorArgs(\n  entry: Extract<ServerLogEntry, { kind: 'any-logged-error' }>,\n  ctx: MappingContext,\n  distDir: string\n) {\n  const deserialized = await Promise.all(\n    entry.args.map(async (arg) => {\n      if (arg.kind === 'arg') {\n        if (arg.isRejectionMessage) return red(arg.data)\n        return deserializeArgData(arg.data)\n      }\n      if (!arg.stack) return red(arg.prefix)\n      const mapped = await getSourceMappedStackFrames(arg.stack, ctx, distDir)\n      return colorError(mapped, { prefix: arg.prefix })\n    })\n  )\n\n  const mappedStack = await getSourceMappedStackFrames(\n    entry.consoleErrorStack,\n    ctx,\n    distDir\n  )\n\n  /**\n   * don't show the stack + codeblock when there are errors present, since:\n   * - it will look overwhelming to see 2 stacks and 2 code blocks\n   * - the user already knows where the console.error is at because we append the location\n   */\n  const location = getConsoleLocation(mappedStack)\n  if (entry.args.some((a) => a.kind === 'formatted-error-arg')) {\n    const result = stripFormatSpecifiers(deserialized)\n    if (location) {\n      result.push(dim(`(${location})`))\n    }\n    return result\n  }\n  const result = [\n    ...processConsoleFormatStrings(deserialized),\n    colorError(mappedStack),\n  ]\n  if (location) {\n    result.push(dim(`(${location})`))\n  }\n  return result\n}\n\nasync function handleTable(\n  entry: ConsoleEntry<string>,\n  browserPrefix: string,\n  ctx: MappingContext,\n  distDir: string\n) {\n  const deserializedArgs = await Promise.all(\n    entry.args.map(async (arg: any) => {\n      if (arg.kind === 'formatted-error-arg') {\n        return { stack: arg.stack }\n      }\n      return deserializeArgData(arg.data)\n    })\n  )\n\n  const location = await (async () => {\n    if (!entry.consoleMethodStack) {\n      return\n    }\n    const frames = await getSourceMappedStackFrames(\n      entry.consoleMethodStack,\n      ctx,\n      distDir\n    )\n    return getConsoleLocation(frames)\n  })()\n\n  // we can't inline pass browser prefix, but it looks better multiline for table anyways\n  forwardConsole.log(browserPrefix)\n  forwardConsole.table(...deserializedArgs)\n  if (location) {\n    forwardConsole.log(dim(`(${location})`))\n  }\n}\n\nasync function handleTrace(\n  entry: ConsoleEntry<string>,\n  browserPrefix: string,\n  ctx: MappingContext,\n  distDir: string\n) {\n  const deserializedArgs = await Promise.all(\n    entry.args.map(async (arg: any) => {\n      if (arg.kind === 'formatted-error-arg') {\n        if (!arg.stack) return red(arg.prefix)\n        const mapped = await getSourceMappedStackFrames(arg.stack, ctx, distDir)\n        return colorError(mapped, { prefix: arg.prefix })\n      }\n      return deserializeArgData(arg.data)\n    })\n  )\n\n  if (!entry.consoleMethodStack) {\n    forwardConsole.log(\n      browserPrefix,\n      ...deserializedArgs,\n      '[Trace unavailable]'\n    )\n    return\n  }\n\n  // TODO(rob): refactor so we can re-use result and not re-run the entire source map to avoid trivial post processing\n  const [mapped, mappedIgnored] = await Promise.all([\n    getSourceMappedStackFrames(entry.consoleMethodStack, ctx, distDir, false),\n    getSourceMappedStackFrames(entry.consoleMethodStack, ctx, distDir),\n  ])\n\n  const location = getConsoleLocation(mappedIgnored)\n  forwardConsole.log(\n    browserPrefix,\n    ...deserializedArgs,\n    `\\n${mapped.stack}`,\n    ...(location ? [`\\n${dim(`(${location})`)}`] : [])\n  )\n}\n\nasync function handleDir(\n  entry: ConsoleEntry<string>,\n  browserPrefix: string,\n  ctx: MappingContext,\n  distDir: string\n) {\n  const loggableEntry = await prepareConsoleArgs(entry, ctx, distDir)\n  const consoleMethod =\n    (forwardConsole as any)[entry.method] || forwardConsole.log\n\n  if (entry.consoleMethodStack) {\n    const mapped = await getSourceMappedStackFrames(\n      entry.consoleMethodStack,\n      ctx,\n      distDir\n    )\n    const location = dim(`(${getConsoleLocation(mapped)})`)\n    const originalWrite = process.stdout.write.bind(process.stdout)\n    let captured = ''\n    process.stdout.write = (chunk) => {\n      captured += chunk\n      return true\n    }\n    try {\n      consoleMethod(...loggableEntry)\n    } finally {\n      process.stdout.write = originalWrite\n    }\n    const preserved = captured.replace(/\\r?\\n$/, '')\n    originalWrite(`${browserPrefix}${preserved} ${location}\\n`)\n    return\n  }\n  consoleMethod(browserPrefix, ...loggableEntry)\n}\n\nasync function handleDefaultConsole(\n  entry: ConsoleEntry<string>,\n  browserPrefix: string,\n  ctx: MappingContext,\n  distDir: string,\n  config: boolean | { logDepth?: number; showSourceLocation?: boolean },\n  isServerLog: boolean\n) {\n  const consoleArgs = await prepareConsoleArgs(entry, ctx, distDir)\n  const withStackEntry = await withLocation(\n    {\n      original: consoleArgs,\n      stack: (entry as any).consoleMethodStack || null,\n    },\n    ctx,\n    distDir,\n    config\n  )\n  const consoleMethod = forwardConsole[entry.method] || forwardConsole.log\n  ;(consoleMethod as (...args: any[]) => void)(browserPrefix, ...withStackEntry)\n\n  // Process enqueued logs and write to file\n  // Log to file with correct source based on context\n  const fileLogger = getFileLogger()\n\n  // Use cleaned console args to strip out background and color format specifiers\n  const message = cleanConsoleArgsForFileLogging(consoleArgs)\n  if (isServerLog) {\n    fileLogger.logServer(entry.method.toUpperCase(), message)\n  } else {\n    fileLogger.logBrowser(entry.method.toUpperCase(), message)\n  }\n}\n\nexport async function handleLog(\n  entries: ServerLogEntry[],\n  ctx: MappingContext,\n  distDir: string,\n  config: boolean | { logDepth?: number; showSourceLocation?: boolean }\n): Promise<void> {\n  // Determine the source based on the context\n  const isServerLog = ctx.isServer || ctx.isEdgeServer\n  const browserPrefix = isServerLog ? cyan('[server]') : cyan('[browser]')\n  const fileLogger = getFileLogger()\n\n  for (const entry of entries) {\n    try {\n      switch (entry.kind) {\n        case 'console': {\n          switch (entry.method) {\n            case 'table': {\n              // timeout based abort on source mapping result\n              await handleTable(entry, browserPrefix, ctx, distDir)\n              break\n            }\n            // ignore frames\n            case 'trace': {\n              await handleTrace(entry, browserPrefix, ctx, distDir)\n              break\n            }\n            case 'dir': {\n              await handleDir(entry, browserPrefix, ctx, distDir)\n              break\n            }\n            case 'dirxml': {\n              // xml log thing maybe needs an impl\n              // fallthrough\n            }\n            case 'group':\n            case 'groupCollapsed':\n            case 'groupEnd': {\n              // [browser] undefined (app/page.tsx:8:11) console.group\n              // fallthrough\n            }\n            case 'assert': {\n              // check console assert\n              // fallthrough\n            }\n            case 'log':\n            case 'info':\n            case 'debug':\n            case 'error':\n            case 'warn': {\n              await handleDefaultConsole(\n                entry,\n                browserPrefix,\n                ctx,\n                distDir,\n                config,\n                isServerLog\n              )\n              break\n            }\n            default: {\n              entry satisfies never\n            }\n          }\n          break\n        }\n        // any logged errors are anything that are logged as \"red\" in the browser but aren't only an Error (console.error, Promise.reject(100))\n        case 'any-logged-error': {\n          const consoleArgs = await prepareConsoleErrorArgs(entry, ctx, distDir)\n          forwardConsole.error(browserPrefix, ...consoleArgs)\n\n          // Process enqueued logs and write to file\n          fileLogger.logBrowser(\n            'ERROR',\n            cleanConsoleArgsForFileLogging(consoleArgs)\n          )\n          break\n        }\n        // formatted error is an explicit error event (rejections, uncaught errors)\n        case 'formatted-error': {\n          const formattedArgs = await prepareFormattedErrorArgs(\n            entry,\n            ctx,\n            distDir\n          )\n          forwardConsole.error(browserPrefix, ...formattedArgs)\n\n          // Process enqueued logs and write to file\n          fileLogger.logBrowser(\n            'ERROR',\n            cleanConsoleArgsForFileLogging(formattedArgs)\n          )\n          break\n        }\n        default: {\n        }\n      }\n    } catch {\n      switch (entry.kind) {\n        case 'any-logged-error': {\n          const consoleArgs = await prepareConsoleErrorArgs(entry, ctx, distDir)\n          forwardConsole.error(browserPrefix, ...consoleArgs)\n          // Process enqueued logs and write to file\n          fileLogger.logBrowser(\n            'ERROR',\n            cleanConsoleArgsForFileLogging(consoleArgs)\n          )\n          break\n        }\n        case 'console': {\n          const consoleMethod =\n            forwardConsole[entry.method] || forwardConsole.log\n          const consoleArgs = await prepareConsoleArgs(entry, ctx, distDir)\n          ;(consoleMethod as (...args: any[]) => void)(\n            browserPrefix,\n            ...consoleArgs\n          )\n\n          // Process enqueued logs and write to file\n          fileLogger.logBrowser(\n            'ERROR',\n            cleanConsoleArgsForFileLogging(consoleArgs)\n          )\n          break\n        }\n        case 'formatted-error': {\n          forwardConsole.error(browserPrefix, `${entry.prefix}\\n`, entry.stack)\n\n          // Process enqueued logs and write to file\n          fileLogger.logBrowser(\n            'ERROR',\n            cleanConsoleArgsForFileLogging([`${entry.prefix}\\n${entry.stack}`])\n          )\n          break\n        }\n        default: {\n        }\n      }\n    }\n  }\n}\n\n// the data is used later when we need to get sourcemaps for error stacks\nexport async function receiveBrowserLogsWebpack(opts: {\n  entries: ServerLogEntry[]\n  router: 'app' | 'pages'\n  sourceType?: 'server' | 'edge-server'\n  clientStats: () => any\n  serverStats: () => any\n  edgeServerStats: () => any\n  rootDirectory: string\n  distDir: string\n  config: boolean | { logDepth?: number; showSourceLocation?: boolean }\n}): Promise<void> {\n  const {\n    entries,\n    router,\n    sourceType,\n    clientStats,\n    serverStats,\n    edgeServerStats,\n    rootDirectory,\n    distDir,\n  } = opts\n\n  const isAppDirectory = router === 'app'\n  const isServer = sourceType === 'server'\n  const isEdgeServer = sourceType === 'edge-server'\n\n  const ctx: MappingContext = {\n    bundler: 'webpack',\n    isServer,\n    isEdgeServer,\n    isAppDirectory,\n    clientStats,\n    serverStats,\n    edgeServerStats,\n    rootDirectory,\n  }\n\n  await handleLog(entries, ctx, distDir, opts.config)\n}\n\nexport async function receiveBrowserLogsTurbopack(opts: {\n  entries: ServerLogEntry[]\n  router: 'app' | 'pages'\n  sourceType?: 'server' | 'edge-server'\n  project: Project\n  projectPath: string\n  distDir: string\n  config: boolean | { logDepth?: number; showSourceLocation?: boolean }\n}): Promise<void> {\n  const { entries, router, sourceType, project, projectPath, distDir } = opts\n\n  const isAppDirectory = router === 'app'\n  const isServer = sourceType === 'server'\n  const isEdgeServer = sourceType === 'edge-server'\n\n  const ctx: MappingContext = {\n    bundler: 'turbopack',\n    project,\n    projectPath,\n    isServer,\n    isEdgeServer,\n    isAppDirectory,\n  }\n\n  await handleLog(entries, ctx, distDir, opts.config)\n}\n\n// Handle client file logs (always logged regardless of terminal flag)\nexport async function handleClientFileLogs(\n  logs: Array<{ timestamp: string; level: string; message: string }>\n): Promise<void> {\n  const fileLogger = getFileLogger()\n\n  for (const log of logs) {\n    fileLogger.logBrowser(log.level, log.message)\n  }\n}\n"],"names":["handleClientFileLogs","handleLog","receiveBrowserLogsTurbopack","receiveBrowserLogsWebpack","restoreUndefined","stripFormatSpecifiers","x","UNDEFINED_MARKER","undefined","Array","isArray","map","k","cleanConsoleArgsForFileLogging","args","formatConsoleArgs","arg","util","inspect","depth","join","methods","methodsToSkipInspect","Set","forwardConsole","console","Object","fromEntries","method","has","Infinity","colors","deserializeArgData","JSON","parse","colorError","mapped","config","colorFn","applyColor","red","kind","prefix","stack","frameCode","processConsoleFormatStrings","length","formatString","includes","formatted","format","fmtIn","String","rest","slice","fmtOut","argPtr","i","token","obj","result","push","prepareFormattedErrorArgs","entry","ctx","distDir","getSourceMappedStackFrames","prepareConsoleArgs","deserialized","Promise","all","data","yellow","prepareConsoleErrorArgs","isRejectionMessage","mappedStack","consoleErrorStack","location","getConsoleLocation","some","a","dim","handleTable","browserPrefix","deserializedArgs","consoleMethodStack","frames","log","table","handleTrace","mappedIgnored","handleDir","loggableEntry","consoleMethod","originalWrite","process","stdout","write","bind","captured","chunk","preserved","replace","handleDefaultConsole","isServerLog","consoleArgs","withStackEntry","withLocation","original","fileLogger","getFileLogger","message","logServer","toUpperCase","logBrowser","entries","isServer","isEdgeServer","cyan","error","formattedArgs","opts","router","sourceType","clientStats","serverStats","edgeServerStats","rootDirectory","isAppDirectory","bundler","project","projectPath","logs","level"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4067, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/debug-channel.ts"],"sourcesContent":["import { createBufferedTransformStream } from '../stream-utils/node-web-streams-helper'\nimport {\n  HMR_MESSAGE_SENT_TO_BROWSER,\n  type HmrMessageSentToBrowser,\n} from './hot-reloader-types'\n\nexport interface ReactDebugChannelForBrowser {\n  readonly readable: ReadableStream<Uint8Array>\n  // Might also get a writable stream as return channel in the future.\n}\n\nconst reactDebugChannelsByHtmlRequestId = new Map<\n  string,\n  ReactDebugChannelForBrowser\n>()\n\nexport function connectReactDebugChannel(\n  requestId: string,\n  debugChannel: ReactDebugChannelForBrowser,\n  sendToClient: (message: HmrMessageSentToBrowser) => void\n) {\n  const reader = debugChannel.readable\n    .pipeThrough(\n      // We're sending the chunks in batches to reduce overhead in the browser.\n      createBufferedTransformStream({ maxBufferByteLength: 128 * 1024 })\n    )\n    .getReader()\n\n  const stop = () => {\n    sendToClient({\n      type: HMR_MESSAGE_SENT_TO_BROWSER.REACT_DEBUG_CHUNK,\n      requestId,\n      chunk: null,\n    })\n  }\n\n  const onError = (err: unknown) => {\n    console.error(new Error('React debug channel stream error', { cause: err }))\n    stop()\n  }\n\n  const progress = (entry: ReadableStreamReadResult<Uint8Array>) => {\n    if (entry.done) {\n      stop()\n    } else {\n      sendToClient({\n        type: HMR_MESSAGE_SENT_TO_BROWSER.REACT_DEBUG_CHUNK,\n        requestId,\n        chunk: entry.value,\n      })\n\n      reader.read().then(progress, onError)\n    }\n  }\n\n  reader.read().then(progress, onError)\n}\n\nexport function connectReactDebugChannelForHtmlRequest(\n  htmlRequestId: string,\n  sendToClient: (message: HmrMessageSentToBrowser) => void\n) {\n  const debugChannel = reactDebugChannelsByHtmlRequestId.get(htmlRequestId)\n\n  if (!debugChannel) {\n    return\n  }\n\n  reactDebugChannelsByHtmlRequestId.delete(htmlRequestId)\n\n  connectReactDebugChannel(htmlRequestId, debugChannel, sendToClient)\n}\n\nexport function setReactDebugChannelForHtmlRequest(\n  htmlRequestId: string,\n  debugChannel: ReactDebugChannelForBrowser\n) {\n  // TODO: Clean up after a timeout, in case the client never connects, e.g.\n  // when CURL'ing the page, or loading the page with JavaScript disabled etc.\n  reactDebugChannelsByHtmlRequestId.set(htmlRequestId, debugChannel)\n}\n\nexport function deleteReactDebugChannelForHtmlRequest(htmlRequestId: string) {\n  reactDebugChannelsByHtmlRequestId.delete(htmlRequestId)\n}\n"],"names":["connectReactDebugChannel","connectReactDebugChannelForHtmlRequest","deleteReactDebugChannelForHtmlRequest","setReactDebugChannelForHtmlRequest","reactDebugChannelsByHtmlRequestId","Map","requestId","debugChannel","sendToClient","reader","readable","pipeThrough","createBufferedTransformStream","maxBufferByteLength","getReader","stop","type","HMR_MESSAGE_SENT_TO_BROWSER","REACT_DEBUG_CHUNK","chunk","onError","err","console","error","Error","cause","progress","entry","done","value","read","then","htmlRequestId","get","delete","set"],"mappings":";;;;;;;;;;;;;;;;IAgBgBA,wBAAwB,EAAA;eAAxBA;;IA0CAC,sCAAsC,EAAA;eAAtCA;;IAwBAC,qCAAqC,EAAA;eAArCA;;IATAC,kCAAkC,EAAA;eAAlCA;;;sCAzE8B;kCAIvC;AAOP,MAAMC,oCAAoC,IAAIC;AAKvC,SAASL,yBACdM,SAAiB,EACjBC,YAAyC,EACzCC,YAAwD;IAExD,MAAMC,SAASF,aAAaG,QAAQ,CACjCC,WAAW,CACV,AACAC,CAAAA,GAAAA,sBAAAA,6BAA6B,EAAC,gBAD2C;QACzCC,qBAAqB,MAAM;IAAK,IAEjEC,SAAS;IAEZ,MAAMC,OAAO;QACXP,aAAa;YACXQ,MAAMC,kBAAAA,2BAA2B,CAACC,iBAAiB;YACnDZ;YACAa,OAAO;QACT;IACF;IAEA,MAAMC,UAAU,CAACC;QACfC,QAAQC,KAAK,CAAC,OAAA,cAA6D,CAA7D,IAAIC,MAAM,oCAAoC;YAAEC,OAAOJ;QAAI,IAA3D,qBAAA;mBAAA;wBAAA;0BAAA;QAA4D;QAC1EN;IACF;IAEA,MAAMW,WAAW,CAACC;QAChB,IAAIA,MAAMC,IAAI,EAAE;YACdb;QACF,OAAO;YACLP,aAAa;gBACXQ,MAAMC,kBAAAA,2BAA2B,CAACC,iBAAiB;gBACnDZ;gBACAa,OAAOQ,MAAME,KAAK;YACpB;YAEApB,OAAOqB,IAAI,GAAGC,IAAI,CAACL,UAAUN;QAC/B;IACF;IAEAX,OAAOqB,IAAI,GAAGC,IAAI,CAACL,UAAUN;AAC/B;AAEO,SAASnB,uCACd+B,aAAqB,EACrBxB,YAAwD;IAExD,MAAMD,eAAeH,kCAAkC6B,GAAG,CAACD;IAE3D,IAAI,CAACzB,cAAc;QACjB;IACF;IAEAH,kCAAkC8B,MAAM,CAACF;IAEzChC,yBAAyBgC,eAAezB,cAAcC;AACxD;AAEO,SAASL,mCACd6B,aAAqB,EACrBzB,YAAyC;IAEzC,0EAA0E;IAC1E,4EAA4E;IAC5EH,kCAAkC+B,GAAG,CAACH,eAAezB;AACvD;AAEO,SAASL,sCAAsC8B,aAAqB;IACzE5B,kCAAkC8B,MAAM,CAACF;AAC3C","ignoreList":[0]}},
    {"offset": {"line": 4154, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/parse-version-info.ts"],"sourcesContent":["import * as semver from 'next/dist/compiled/semver'\n\nexport interface VersionInfo {\n  installed: string\n  staleness:\n    | 'fresh'\n    | 'stale-patch'\n    | 'stale-minor'\n    | 'stale-major'\n    | 'stale-prerelease'\n    | 'newer-than-npm'\n    | 'unknown'\n  expected?: string\n}\n\nexport function parseVersionInfo(o: {\n  installed: string\n  latest: string\n  canary: string\n}): VersionInfo {\n  const latest = semver.parse(o.latest)\n  const canary = semver.parse(o.canary)\n  const installedParsed = semver.parse(o.installed)\n  const installed = o.installed\n  if (installedParsed && latest && canary) {\n    if (installedParsed.major < latest.major) {\n      // Old major version\n      return { staleness: 'stale-major', expected: latest.raw, installed }\n    } else if (\n      installedParsed.prerelease[0] === 'canary' &&\n      semver.lt(installedParsed, canary)\n    ) {\n      // Matching major, but old canary\n      return {\n        staleness: 'stale-prerelease',\n        expected: canary.raw,\n        installed,\n      }\n    } else if (\n      !installedParsed.prerelease.length &&\n      semver.lt(installedParsed, latest)\n    ) {\n      // Stable, but not the latest\n      if (installedParsed.minor === latest.minor) {\n        // Same major and minor, but not the latest patch\n        return {\n          staleness: 'stale-patch',\n          expected: latest.raw,\n          installed,\n        }\n      }\n      return { staleness: 'stale-minor', expected: latest.raw, installed }\n    } else if (\n      semver.gt(installedParsed, latest) &&\n      installedParsed.version !== canary.version\n    ) {\n      // Newer major version\n      return { staleness: 'newer-than-npm', installed }\n    } else {\n      // Latest and greatest\n      return { staleness: 'fresh', installed }\n    }\n  }\n\n  return {\n    installed: installedParsed?.raw ?? '0.0.0',\n    staleness: 'unknown',\n  }\n}\n"],"names":["parseVersionInfo","o","latest","semver","parse","canary","installedParsed","installed","major","staleness","expected","raw","prerelease","lt","length","minor","gt","version"],"mappings":";;;+BAegBA,oBAAAA;;;eAAAA;;;gEAfQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAejB,SAASA,iBAAiBC,CAIhC;IACC,MAAMC,SAASC,QAAOC,KAAK,CAACH,EAAEC,MAAM;IACpC,MAAMG,SAASF,QAAOC,KAAK,CAACH,EAAEI,MAAM;IACpC,MAAMC,kBAAkBH,QAAOC,KAAK,CAACH,EAAEM,SAAS;IAChD,MAAMA,YAAYN,EAAEM,SAAS;IAC7B,IAAID,mBAAmBJ,UAAUG,QAAQ;QACvC,IAAIC,gBAAgBE,KAAK,GAAGN,OAAOM,KAAK,EAAE;YACxC,oBAAoB;YACpB,OAAO;gBAAEC,WAAW;gBAAeC,UAAUR,OAAOS,GAAG;gBAAEJ;YAAU;QACrE,OAAO,IACLD,gBAAgBM,UAAU,CAAC,EAAE,KAAK,YAClCT,QAAOU,EAAE,CAACP,iBAAiBD,SAC3B;YACA,iCAAiC;YACjC,OAAO;gBACLI,WAAW;gBACXC,UAAUL,OAAOM,GAAG;gBACpBJ;YACF;QACF,OAAO,IACL,CAACD,gBAAgBM,UAAU,CAACE,MAAM,IAClCX,QAAOU,EAAE,CAACP,iBAAiBJ,SAC3B;YACA,6BAA6B;YAC7B,IAAII,gBAAgBS,KAAK,KAAKb,OAAOa,KAAK,EAAE;gBAC1C,iDAAiD;gBACjD,OAAO;oBACLN,WAAW;oBACXC,UAAUR,OAAOS,GAAG;oBACpBJ;gBACF;YACF;YACA,OAAO;gBAAEE,WAAW;gBAAeC,UAAUR,OAAOS,GAAG;gBAAEJ;YAAU;QACrE,OAAO,IACLJ,QAAOa,EAAE,CAACV,iBAAiBJ,WAC3BI,gBAAgBW,OAAO,KAAKZ,OAAOY,OAAO,EAC1C;YACA,sBAAsB;YACtB,OAAO;gBAAER,WAAW;gBAAkBF;YAAU;QAClD,OAAO;YACL,sBAAsB;YACtB,OAAO;gBAAEE,WAAW;gBAASF;YAAU;QACzC;IACF;IAEA,OAAO;QACLA,WAAWD,CAAAA,mBAAAA,OAAAA,KAAAA,IAAAA,gBAAiBK,GAAG,KAAI;QACnCF,WAAW;IACb;AACF","ignoreList":[0]}},
    {"offset": {"line": 4263, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/hot-reloader-shared-utils.ts"],"sourcesContent":["import { getPathMatch } from '../../shared/lib/router/utils/path-match'\nimport { parseVersionInfo, type VersionInfo } from './parse-version-info'\n\nexport const matchNextPageBundleRequest = getPathMatch(\n  '/_next/static/chunks/pages/:path*.js(\\\\.map|)'\n)\nexport async function getVersionInfo(): Promise<VersionInfo> {\n  let installed = '0.0.0'\n\n  try {\n    installed = require('next/package.json').version\n\n    let res\n\n    try {\n      // use NPM registry regardless user using Yarn\n      res = await fetch('https://registry.npmjs.org/-/package/next/dist-tags')\n    } catch {\n      // ignore fetch errors\n    }\n\n    if (!res || !res.ok) return { installed, staleness: 'unknown' }\n\n    const { latest, canary } = await res.json()\n\n    return parseVersionInfo({ installed, latest, canary })\n  } catch (e: any) {\n    console.error(e)\n    return { installed, staleness: 'unknown' }\n  }\n}\n"],"names":["getVersionInfo","matchNextPageBundleRequest","getPathMatch","installed","require","version","res","fetch","ok","staleness","latest","canary","json","parseVersionInfo","e","console","error"],"mappings":";;;;;;;;;;;;;;IAMsBA,cAAc,EAAA;eAAdA;;IAHTC,0BAA0B,EAAA;eAA1BA;;;2BAHgB;kCACsB;AAE5C,MAAMA,6BAA6BC,CAAAA,GAAAA,WAAAA,YAAY,EACpD;AAEK,eAAeF;IACpB,IAAIG,YAAY;IAEhB,IAAI;QACFA,YAAYC,QAAQ,sFAAqBC,OAAO;QAEhD,IAAIC;QAEJ,IAAI;YACF,8CAA8C;YAC9CA,MAAM,MAAMC,MAAM;QACpB,EAAE,OAAM;QACN,sBAAsB;QACxB;QAEA,IAAI,CAACD,OAAO,CAACA,IAAIE,EAAE,EAAE,OAAO;YAAEL;YAAWM,WAAW;QAAU;QAE9D,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAE,GAAG,MAAML,IAAIM,IAAI;QAEzC,OAAOC,CAAAA,GAAAA,kBAAAA,gBAAgB,EAAC;YAAEV;YAAWO;YAAQC;QAAO;IACtD,EAAE,OAAOG,GAAQ;QACfC,QAAQC,KAAK,CAACF;QACd,OAAO;YAAEX;YAAWM,WAAW;QAAU;IAC3C;AACF","ignoreList":[0]}},
    {"offset": {"line": 4320, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/hot-reloader-webpack.ts"],"sourcesContent":["import type { NextConfigComplete } from '../config-shared'\nimport type { CustomRoutes } from '../../lib/load-custom-routes'\nimport type { Duplex } from 'stream'\nimport type { Telemetry } from '../../telemetry/storage'\nimport type { IncomingMessage, ServerResponse } from 'http'\nimport type { UrlObject } from 'url'\nimport type { RouteDefinition } from '../route-definitions/route-definition'\n\nimport { type webpack, StringXor } from 'next/dist/compiled/webpack/webpack'\nimport {\n  getOverlayMiddleware,\n  getSourceMapMiddleware,\n  getOriginalStackFrames,\n} from './middleware-webpack'\nimport { WebpackHotMiddleware } from './hot-middleware'\nimport { join, relative, isAbsolute, posix, dirname } from 'path'\nimport {\n  createEntrypoints,\n  createPagesMapping,\n  finalizeEntrypoint,\n  getClientEntry,\n  getEdgeServerEntry,\n  getAppEntry,\n  runDependingOnPageType,\n  getInstrumentationEntry,\n} from '../../build/entries'\nimport { getStaticInfoIncludingLayouts } from '../../build/get-static-info-including-layouts'\nimport { watchCompilers } from '../../build/output'\nimport * as Log from '../../build/output/log'\nimport getBaseWebpackConfig, {\n  getCacheDirectories,\n  loadProjectInfo,\n} from '../../build/webpack-config'\nimport { APP_DIR_ALIAS, WEBPACK_LAYERS } from '../../lib/constants'\nimport { recursiveDeleteSyncWithAsyncRetries } from '../../lib/recursive-delete'\nimport {\n  BLOCKED_PAGES,\n  CLIENT_STATIC_FILES_RUNTIME_MAIN,\n  CLIENT_STATIC_FILES_RUNTIME_MAIN_APP,\n  CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH,\n  COMPILER_NAMES,\n  RSC_MODULE_TYPES,\n} from '../../shared/lib/constants'\nimport type { __ApiPreviewProps } from '../api-utils'\nimport { findPageFile } from '../lib/find-page-file'\nimport {\n  BUILDING,\n  getEntries,\n  EntryTypes,\n  getInvalidator,\n  onDemandEntryHandler,\n} from './on-demand-entry-handler'\nimport { denormalizePagePath } from '../../shared/lib/page-path/denormalize-page-path'\nimport { normalizePathSep } from '../../shared/lib/page-path/normalize-path-sep'\nimport getRouteFromEntrypoint from '../get-route-from-entrypoint'\nimport {\n  difference,\n  isInstrumentationHookFile,\n  isMiddlewareFile,\n  isMiddlewareFilename,\n} from '../../build/utils'\nimport { DecodeError } from '../../shared/lib/utils'\nimport { type Span, trace } from '../../trace'\nimport { getProperError } from '../../lib/is-error'\nimport ws from 'next/dist/compiled/ws'\nimport { existsSync, promises as fs } from 'fs'\nimport type { UnwrapPromise } from '../../lib/coalesced-function'\nimport type { VersionInfo } from './parse-version-info'\nimport { isAPIRoute } from '../../lib/is-api-route'\nimport { getRouteLoaderEntry } from '../../build/webpack/loaders/next-route-loader'\nimport {\n  isInternalComponent,\n  isNonRoutePagesPage,\n} from '../../lib/is-internal-component'\nimport { RouteKind } from '../route-kind'\nimport {\n  HMR_MESSAGE_SENT_TO_BROWSER,\n  type NextJsHotReloaderInterface,\n} from './hot-reloader-types'\nimport type { HmrMessageSentToBrowser } from './hot-reloader-types'\nimport type { WebpackError } from 'webpack'\nimport { PAGE_TYPES } from '../../lib/page-types'\nimport { FAST_REFRESH_RUNTIME_RELOAD } from './messages'\nimport { getNodeDebugType, getParsedNodeOptions } from '../lib/utils'\nimport { getNextErrorFeedbackMiddleware } from '../../next-devtools/server/get-next-error-feedback-middleware'\nimport { getDevOverlayFontMiddleware } from '../../next-devtools/server/font/get-dev-overlay-font-middleware'\nimport { getDisableDevIndicatorMiddleware } from '../../next-devtools/server/dev-indicator-middleware'\nimport getWebpackBundler from '../../shared/lib/get-webpack-bundler'\nimport { getRestartDevServerMiddleware } from '../../next-devtools/server/restart-dev-server-middleware'\nimport { checkFileSystemCacheInvalidationAndCleanup } from '../../build/webpack/cache-invalidation'\nimport {\n  receiveBrowserLogsWebpack,\n  handleClientFileLogs,\n} from './browser-logs/receive-logs'\nimport {\n  devToolsConfigMiddleware,\n  getDevToolsConfig,\n} from '../../next-devtools/server/devtools-config-middleware'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport {\n  connectReactDebugChannel,\n  connectReactDebugChannelForHtmlRequest,\n  deleteReactDebugChannelForHtmlRequest,\n  setReactDebugChannelForHtmlRequest,\n  type ReactDebugChannelForBrowser,\n} from './debug-channel'\nimport {\n  getVersionInfo,\n  matchNextPageBundleRequest,\n} from './hot-reloader-shared-utils'\nimport { getMcpMiddleware } from '../mcp/get-mcp-middleware'\nimport { setStackFrameResolver } from '../mcp/tools/utils/format-errors'\nimport { recordMcpTelemetry } from '../mcp/mcp-telemetry-tracker'\nimport { getFileLogger } from './browser-logs/file-logger'\nimport type { ServerCacheStatus } from '../../next-devtools/dev-overlay/cache-indicator'\nimport type { Lockfile } from '../../build/lockfile'\n\nconst MILLISECONDS_IN_NANOSECOND = BigInt(1_000_000)\n\nfunction diff(a: Set<any>, b: Set<any>) {\n  return new Set([...a].filter((v) => !b.has(v)))\n}\n\nconst wsServer = new ws.Server({ noServer: true })\n\nexport async function renderScriptError(\n  res: ServerResponse,\n  error: Error,\n  { verbose = true } = {}\n): Promise<{ finished: true | undefined }> {\n  // Asks CDNs and others to not to cache the errored page\n  res.setHeader(\n    'Cache-Control',\n    'no-cache, no-store, max-age=0, must-revalidate'\n  )\n\n  if ((error as any).code === 'ENOENT') {\n    return { finished: undefined }\n  }\n\n  if (verbose) {\n    console.error(error.stack)\n  }\n  res.statusCode = 500\n  res.end('500 - Internal Error')\n  return { finished: true }\n}\n\nfunction addCorsSupport(req: IncomingMessage, res: ServerResponse) {\n  // Only rewrite CORS handling when URL matches a hot-reloader middleware\n  if (!req.url!.startsWith('/__next')) {\n    return { preflight: false }\n  }\n\n  if (!req.headers.origin) {\n    return { preflight: false }\n  }\n\n  res.setHeader('Access-Control-Allow-Origin', req.headers.origin)\n  res.setHeader('Access-Control-Allow-Methods', 'OPTIONS, GET')\n  // Based on https://github.com/primus/access-control/blob/4cf1bc0e54b086c91e6aa44fb14966fa5ef7549c/index.js#L158\n  if (req.headers['access-control-request-headers']) {\n    res.setHeader(\n      'Access-Control-Allow-Headers',\n      req.headers['access-control-request-headers'] as string\n    )\n  }\n\n  if (req.method === 'OPTIONS') {\n    res.writeHead(200)\n    res.end()\n    return { preflight: true }\n  }\n\n  return { preflight: false }\n}\n\n// Iteratively look up the issuer till it ends up at the root\nfunction findEntryModule(\n  module: webpack.Module,\n  compilation: webpack.Compilation\n): any {\n  for (;;) {\n    const issuer = compilation.moduleGraph.getIssuer(module)\n    if (!issuer) return module\n    module = issuer\n  }\n}\n\nfunction erroredPages(compilation: webpack.Compilation) {\n  const failedPages: { [page: string]: WebpackError[] } = {}\n  for (const error of compilation.errors) {\n    if (!error.module) {\n      continue\n    }\n\n    const entryModule = findEntryModule(error.module, compilation)\n    const { name } = entryModule\n    if (!name) {\n      continue\n    }\n\n    // Only pages have to be reloaded\n    const enhancedName = getRouteFromEntrypoint(name)\n\n    if (!enhancedName) {\n      continue\n    }\n\n    if (!failedPages[enhancedName]) {\n      failedPages[enhancedName] = []\n    }\n\n    failedPages[enhancedName].push(error)\n  }\n\n  return failedPages\n}\n\nexport default class HotReloaderWebpack implements NextJsHotReloaderInterface {\n  private hasAppRouterEntrypoints: boolean\n  private hasPagesRouterEntrypoints: boolean\n  private dir: string\n  private buildId: string\n  private encryptionKey: string\n  private middlewares: ((\n    req: IncomingMessage,\n    res: ServerResponse,\n    next: () => void\n  ) => Promise<void>)[]\n  private pagesDir?: string\n  private distDir: string\n  private webpackHotMiddleware?: WebpackHotMiddleware\n  private config: NextConfigComplete\n  private clientStats: webpack.Stats | null\n  private clientError: Error | null = null\n  private serverError: Error | null = null\n  private hmrServerError: Error | null = null\n  private serverPrevDocumentHash: string | null\n  private serverChunkNames?: Set<string>\n  private prevChunkNames?: Set<any>\n  private onDemandEntries?: ReturnType<typeof onDemandEntryHandler>\n  private previewProps: __ApiPreviewProps\n  private watcher: any\n  private rewrites: CustomRoutes['rewrites']\n  private fallbackWatcher: any\n  private hotReloaderSpan: Span\n  private pagesMapping: { [key: string]: string } = {}\n  private appDir?: string\n  private telemetry: Telemetry\n  private resetFetch: () => void\n  private lockfile: Lockfile | undefined\n  private versionInfo: VersionInfo = {\n    staleness: 'unknown',\n    installed: '0.0.0',\n  }\n  private devtoolsFrontendUrl: string | undefined\n  private reloadAfterInvalidation: boolean = false\n  private isSrcDir: boolean\n  private cacheStatusesByRequestId = new Map<string, ServerCacheStatus>()\n\n  public serverStats: webpack.Stats | null\n  public edgeServerStats: webpack.Stats | null\n  public multiCompiler?: webpack.MultiCompiler\n  public activeWebpackConfigs?: Array<\n    UnwrapPromise<ReturnType<typeof getBaseWebpackConfig>>\n  >\n\n  constructor(\n    dir: string,\n    {\n      config,\n      isSrcDir,\n      pagesDir,\n      distDir,\n      buildId,\n      encryptionKey,\n      previewProps,\n      rewrites,\n      appDir,\n      telemetry,\n      resetFetch,\n      lockfile,\n      onDevServerCleanup,\n    }: {\n      config: NextConfigComplete\n      isSrcDir: boolean\n      pagesDir?: string\n      distDir: string\n      buildId: string\n      encryptionKey: string\n      previewProps: __ApiPreviewProps\n      rewrites: CustomRoutes['rewrites']\n      appDir?: string\n      telemetry: Telemetry\n      resetFetch: () => void\n      lockfile: Lockfile | undefined\n      onDevServerCleanup: ((listener: () => Promise<void>) => void) | undefined\n    }\n  ) {\n    this.hasAppRouterEntrypoints = false\n    this.hasPagesRouterEntrypoints = false\n    this.buildId = buildId\n    this.encryptionKey = encryptionKey\n    this.dir = dir\n    this.isSrcDir = isSrcDir\n    this.middlewares = []\n    this.pagesDir = pagesDir\n    this.appDir = appDir\n    this.distDir = distDir\n    this.clientStats = null\n    this.serverStats = null\n    this.edgeServerStats = null\n    this.serverPrevDocumentHash = null\n    this.telemetry = telemetry\n    this.resetFetch = resetFetch\n    this.lockfile = lockfile\n\n    this.config = config\n    this.previewProps = previewProps\n    this.rewrites = rewrites\n    this.hotReloaderSpan = trace('hot-reloader', undefined, {\n      version: process.env.__NEXT_VERSION as string,\n    })\n    // Ensure the hotReloaderSpan is flushed immediately as it's the parentSpan for all processing\n    // of the current `next dev` invocation.\n    this.hotReloaderSpan.stop()\n\n    // Initialize log monitor for file logging\n    // Enable logging by default in development mode\n    const mcpServerEnabled = !!config.experimental.mcpServer\n    const fileLogger = getFileLogger()\n    fileLogger.initialize(this.distDir, mcpServerEnabled)\n\n    onDevServerCleanup?.(async () => {\n      await lockfile?.unlock()\n    })\n  }\n\n  public async run(\n    req: IncomingMessage,\n    res: ServerResponse,\n    parsedUrl: UrlObject\n  ): Promise<{ finished?: true }> {\n    // Usually CORS support is not needed for the hot-reloader (this is dev only feature)\n    // With when the app runs for multi-zones support behind a proxy,\n    // the current page is trying to access this URL via assetPrefix.\n    // That's when the CORS support is needed.\n    const { preflight } = addCorsSupport(req, res)\n    if (preflight) {\n      return {}\n    }\n\n    // When a request comes in that is a page bundle, e.g. /_next/static/<buildid>/pages/index.js\n    // we have to compile the page using on-demand-entries, this middleware will handle doing that\n    // by adding the page to on-demand-entries, waiting till it's done\n    // and then the bundle will be served like usual by the actual route in server/index.js\n    const handlePageBundleRequest = async (\n      pageBundleRes: ServerResponse,\n      parsedPageBundleUrl: UrlObject\n    ): Promise<{ finished?: true }> => {\n      const { pathname } = parsedPageBundleUrl\n      if (!pathname) return {}\n\n      const params = matchNextPageBundleRequest(pathname)\n      if (!params) return {}\n\n      let decodedPagePath: string\n\n      try {\n        decodedPagePath = `/${params.path\n          .map((param: string) => decodeURIComponent(param))\n          .join('/')}`\n      } catch (_) {\n        throw new DecodeError('failed to decode param')\n      }\n\n      const page = denormalizePagePath(decodedPagePath)\n\n      if (page === '/_error' || BLOCKED_PAGES.indexOf(page) === -1) {\n        try {\n          await this.ensurePage({ page, clientOnly: true, url: req.url })\n        } catch (error) {\n          return await renderScriptError(pageBundleRes, getProperError(error))\n        }\n\n        const errors = await this.getCompilationErrors(page)\n        if (errors.length > 0) {\n          return await renderScriptError(pageBundleRes, errors[0], {\n            verbose: false,\n          })\n        }\n      }\n\n      return {}\n    }\n\n    const { finished } = await handlePageBundleRequest(res, parsedUrl)\n\n    for (const middleware of this.middlewares) {\n      let calledNext = false\n\n      await middleware(req, res, () => {\n        calledNext = true\n      })\n\n      if (!calledNext) {\n        return { finished: true }\n      }\n    }\n\n    return { finished }\n  }\n\n  public setHmrServerError(error: Error | null): void {\n    this.hmrServerError = error\n  }\n\n  public clearHmrServerError(): void {\n    if (this.hmrServerError) {\n      this.setHmrServerError(null)\n      this.send({\n        type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n        data: 'clear hmr server error',\n      })\n    }\n  }\n\n  protected async refreshServerComponents(hash: string): Promise<void> {\n    this.send({\n      type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_COMPONENT_CHANGES,\n      hash,\n      // TODO: granular reloading of changes\n      // entrypoints: serverComponentChanges,\n    })\n  }\n\n  public onHMR(\n    req: IncomingMessage,\n    _socket: Duplex,\n    head: Buffer,\n    callback: (\n      client: ws.WebSocket,\n      context: { isLegacyClient: boolean }\n    ) => void\n  ) {\n    wsServer.handleUpgrade(req, req.socket, head, (client) => {\n      const htmlRequestId = req.url\n        ? new URL(req.url, 'http://n').searchParams.get('id')\n        : null\n\n      if (!this.webpackHotMiddleware) {\n        throw new InvariantError('Did not start HotReloaderWebpack.')\n      }\n\n      this.webpackHotMiddleware.onHMR(client, htmlRequestId)\n      this.onDemandEntries?.onHMR(client, () => this.hmrServerError)\n\n      const enableCacheComponents = this.config.cacheComponents\n      // Clients with a request ID are inferred App Router clients. If Cache\n      // Components is not enabled, we consider those legacy clients. Pages\n      // Router clients are also considered legacy clients. TODO: Maybe mark\n      // clients as App Router / Pages Router clients explicitly, instead of\n      // inferring it from the presence of a request ID.\n      const isLegacyClient = !htmlRequestId || !enableCacheComponents\n\n      callback(client, { isLegacyClient })\n\n      client.addEventListener('message', async ({ data }) => {\n        data = typeof data !== 'string' ? data.toString() : data\n\n        try {\n          const payload = JSON.parse(data)\n\n          let traceChild:\n            | {\n                name: string\n                startTime?: bigint\n                endTime?: bigint\n                attrs?: Record<string, number | string | undefined | string[]>\n              }\n            | undefined\n\n          switch (payload.event) {\n            case 'span-end': {\n              traceChild = {\n                name: payload.spanName,\n                startTime:\n                  BigInt(Math.floor(payload.startTime)) *\n                  MILLISECONDS_IN_NANOSECOND,\n                attrs: payload.attributes,\n                endTime:\n                  BigInt(Math.floor(payload.endTime)) *\n                  MILLISECONDS_IN_NANOSECOND,\n              }\n              break\n            }\n            case 'client-hmr-latency': {\n              traceChild = {\n                name: payload.event,\n                startTime:\n                  BigInt(payload.startTime) * MILLISECONDS_IN_NANOSECOND,\n                endTime: BigInt(payload.endTime) * MILLISECONDS_IN_NANOSECOND,\n                attrs: {\n                  updatedModules: payload.updatedModules.map((m: string) =>\n                    m\n                      .replace(`(${WEBPACK_LAYERS.appPagesBrowser})/`, '')\n                      .replace(/^\\.\\//, '[project]/')\n                  ),\n                  page: payload.page,\n                  isPageHidden: payload.isPageHidden,\n                },\n              }\n              break\n            }\n            case 'client-reload-page':\n            case 'client-success': {\n              traceChild = {\n                name: payload.event,\n              }\n              break\n            }\n            case 'client-error': {\n              traceChild = {\n                name: payload.event,\n                attrs: { errorCount: payload.errorCount },\n              }\n              break\n            }\n            case 'client-warning': {\n              traceChild = {\n                name: payload.event,\n                attrs: { warningCount: payload.warningCount },\n              }\n              break\n            }\n            case 'client-removed-page':\n            case 'client-added-page': {\n              traceChild = {\n                name: payload.event,\n                attrs: { page: payload.page || '' },\n              }\n              break\n            }\n            case 'client-full-reload': {\n              const { event, stackTrace, hadRuntimeError } = payload\n\n              traceChild = {\n                name: event,\n                attrs: { stackTrace: stackTrace ?? '' },\n              }\n\n              if (hadRuntimeError) {\n                Log.warn(FAST_REFRESH_RUNTIME_RELOAD)\n                break\n              }\n\n              let fileMessage = ''\n              if (stackTrace) {\n                const file = /Aborted because (.+) is not accepted/.exec(\n                  stackTrace\n                )?.[1]\n                if (file) {\n                  // `file` is filepath in `pages/` but it can be a webpack url.\n                  // If it's a webpack loader URL, it will include the app-pages layer\n                  if (file.startsWith(`(${WEBPACK_LAYERS.appPagesBrowser})/`)) {\n                    const fileUrl = new URL(file, 'file://')\n                    const cwd = process.cwd()\n                    const modules = fileUrl.searchParams\n                      .getAll('modules')\n                      .map((filepath) => filepath.slice(cwd.length + 1))\n                      .filter(\n                        (filepath) => !filepath.startsWith('node_modules')\n                      )\n\n                    if (modules.length > 0) {\n                      fileMessage = ` when ${modules.join(', ')} changed`\n                    }\n                  } else if (\n                    // Handle known webpack layers\n                    file.startsWith(`(${WEBPACK_LAYERS.pagesDirBrowser})/`)\n                  ) {\n                    const cleanedFilePath = file.slice(\n                      `(${WEBPACK_LAYERS.pagesDirBrowser})/`.length\n                    )\n\n                    fileMessage = ` when ${cleanedFilePath} changed`\n                  } else {\n                    fileMessage = ` when ${file} changed`\n                  }\n                }\n              }\n\n              Log.warn(\n                `Fast Refresh had to perform a full reload${fileMessage}. Read more: https://nextjs.org/docs/messages/fast-refresh-reload`\n              )\n              break\n            }\n            case 'browser-logs': {\n              if (this.config.experimental.browserDebugInfoInTerminal) {\n                await receiveBrowserLogsWebpack({\n                  entries: payload.entries,\n                  router: payload.router,\n                  sourceType: payload.sourceType,\n                  clientStats: () => this.clientStats,\n                  serverStats: () => this.serverStats,\n                  edgeServerStats: () => this.edgeServerStats,\n                  rootDirectory: this.dir,\n                  distDir: this.distDir,\n                  config: this.config.experimental.browserDebugInfoInTerminal,\n                })\n              }\n              break\n            }\n            case 'client-file-logs': {\n              // Always log to file regardless of terminal flag\n              await handleClientFileLogs(payload.logs)\n              break\n            }\n            case 'ping': {\n              // Handle ping events to keep WebSocket connections alive\n              // No-op - just acknowledge the ping\n              break\n            }\n            default: {\n              break\n            }\n          }\n\n          if (traceChild) {\n            this.hotReloaderSpan.manualTraceChild(\n              traceChild.name,\n              traceChild.startTime,\n              traceChild.endTime,\n              { ...traceChild.attrs, clientId: payload.id }\n            )\n          }\n        } catch (_) {\n          // invalid WebSocket message\n        }\n      })\n\n      if (htmlRequestId) {\n        connectReactDebugChannelForHtmlRequest(\n          htmlRequestId,\n          this.sendToClient.bind(this, client)\n        )\n        if (enableCacheComponents) {\n          const status = this.cacheStatusesByRequestId.get(htmlRequestId)\n          if (status) {\n            this.sendToClient(client, {\n              type: HMR_MESSAGE_SENT_TO_BROWSER.CACHE_INDICATOR,\n              state: status,\n            })\n            this.cacheStatusesByRequestId.delete(htmlRequestId)\n          }\n        }\n      }\n\n      client.on('close', () => {\n        this.webpackHotMiddleware?.deleteClient(client, htmlRequestId)\n\n        if (htmlRequestId) {\n          deleteReactDebugChannelForHtmlRequest(htmlRequestId)\n        }\n      })\n    })\n  }\n\n  private async clean(span: Span): Promise<void> {\n    return span\n      .traceChild('clean')\n      .traceAsyncFn(() =>\n        recursiveDeleteSyncWithAsyncRetries(\n          join(this.dir, this.config.distDir),\n          /^(cache|lock)/\n        )\n      )\n  }\n\n  private async getWebpackConfig(span: Span) {\n    const webpackConfigSpan = span.traceChild('get-webpack-config')\n\n    const pageExtensions = this.config.pageExtensions\n\n    return webpackConfigSpan.traceAsyncFn(async () => {\n      const pagePaths = !this.pagesDir\n        ? ([] as (string | null)[])\n        : await webpackConfigSpan\n            .traceChild('get-page-paths')\n            .traceAsyncFn(() =>\n              Promise.all([\n                findPageFile(this.pagesDir!, '/_app', pageExtensions, false),\n                findPageFile(\n                  this.pagesDir!,\n                  '/_document',\n                  pageExtensions,\n                  false\n                ),\n              ])\n            )\n\n      this.pagesMapping = await webpackConfigSpan\n        .traceChild('create-pages-mapping')\n        .traceAsyncFn(() =>\n          createPagesMapping({\n            isDev: true,\n            pageExtensions: this.config.pageExtensions,\n            pagesType: PAGE_TYPES.PAGES,\n            pagePaths: pagePaths.filter(\n              (i: string | null): i is string => typeof i === 'string'\n            ),\n            pagesDir: this.pagesDir,\n            appDir: this.appDir,\n            appDirOnly: Boolean(this.appDir && !this.pagesDir),\n          })\n        )\n\n      const entrypoints = await webpackConfigSpan\n        .traceChild('create-entrypoints')\n        .traceAsyncFn(() =>\n          createEntrypoints({\n            appDir: this.appDir,\n            buildId: this.buildId,\n            config: this.config,\n            envFiles: [],\n            isDev: true,\n            pages: this.pagesMapping,\n            pagesDir: this.pagesDir,\n            previewMode: this.previewProps,\n            rootDir: this.dir,\n            pageExtensions: this.config.pageExtensions,\n          })\n        )\n\n      const commonWebpackOptions = {\n        dev: true,\n        buildId: this.buildId,\n        encryptionKey: this.encryptionKey,\n        config: this.config,\n        pagesDir: this.pagesDir,\n        rewrites: this.rewrites,\n        originalRewrites: this.config._originalRewrites,\n        originalRedirects: this.config._originalRedirects,\n        runWebpackSpan: this.hotReloaderSpan,\n        appDir: this.appDir,\n        previewProps: this.previewProps,\n      }\n\n      return webpackConfigSpan\n        .traceChild('generate-webpack-config')\n        .traceAsyncFn(async () => {\n          const info = await loadProjectInfo({\n            dir: this.dir,\n            config: commonWebpackOptions.config,\n            dev: true,\n          })\n          return Promise.all([\n            // order is important here\n            getBaseWebpackConfig(this.dir, {\n              ...commonWebpackOptions,\n              compilerType: COMPILER_NAMES.client,\n              entrypoints: entrypoints.client,\n              ...info,\n            }),\n            getBaseWebpackConfig(this.dir, {\n              ...commonWebpackOptions,\n              compilerType: COMPILER_NAMES.server,\n              entrypoints: entrypoints.server,\n              ...info,\n            }),\n            getBaseWebpackConfig(this.dir, {\n              ...commonWebpackOptions,\n              compilerType: COMPILER_NAMES.edgeServer,\n              entrypoints: entrypoints.edgeServer,\n              ...info,\n            }),\n          ])\n        })\n    })\n  }\n\n  public async buildFallbackError(): Promise<void> {\n    if (this.fallbackWatcher) return\n\n    const info = await loadProjectInfo({\n      dir: this.dir,\n      config: this.config,\n      dev: true,\n    })\n    const fallbackConfig = await getBaseWebpackConfig(this.dir, {\n      previewProps: this.previewProps,\n      runWebpackSpan: this.hotReloaderSpan,\n      dev: true,\n      compilerType: COMPILER_NAMES.client,\n      config: this.config,\n      buildId: this.buildId,\n      encryptionKey: this.encryptionKey,\n      appDir: this.appDir,\n      pagesDir: this.pagesDir,\n      rewrites: {\n        beforeFiles: [],\n        afterFiles: [],\n        fallback: [],\n      },\n      originalRewrites: {\n        beforeFiles: [],\n        afterFiles: [],\n        fallback: [],\n      },\n      originalRedirects: [],\n      isDevFallback: true,\n      entrypoints: (\n        await createEntrypoints({\n          appDir: this.appDir,\n          buildId: this.buildId,\n          config: this.config,\n          envFiles: [],\n          isDev: true,\n          pages: {\n            '/_app': 'next/dist/pages/_app',\n            '/_error': 'next/dist/pages/_error',\n          },\n          pagesDir: this.pagesDir,\n          previewMode: this.previewProps,\n          rootDir: this.dir,\n          pageExtensions: this.config.pageExtensions,\n        })\n      ).client,\n      ...info,\n    })\n\n    const fallbackCompiler = getWebpackBundler()(fallbackConfig)\n\n    this.fallbackWatcher = await new Promise((resolve) => {\n      let bootedFallbackCompiler = false\n      fallbackCompiler.watch(\n        // @ts-ignore webpack supports an array of watchOptions when using a multiCompiler\n        fallbackConfig.watchOptions,\n        // Errors are handled separately\n        (_err: any) => {\n          if (!bootedFallbackCompiler) {\n            bootedFallbackCompiler = true\n            resolve(true)\n          }\n        }\n      )\n    })\n  }\n\n  private async tracedGetVersionInfo(span: Span) {\n    const versionInfoSpan = span.traceChild('get-version-info')\n    return versionInfoSpan.traceAsyncFn<VersionInfo>(async () =>\n      getVersionInfo()\n    )\n  }\n\n  public async start(): Promise<void> {\n    const startSpan = this.hotReloaderSpan.traceChild('start')\n    startSpan.stop() // Stop immediately to create an artificial parent span\n\n    this.versionInfo = await this.tracedGetVersionInfo(startSpan)\n\n    const nodeOptions = getParsedNodeOptions()\n    const nodeDebugType = getNodeDebugType(nodeOptions)\n    if (nodeDebugType && !this.devtoolsFrontendUrl) {\n      const debugPort = process.debugPort\n      let debugInfo\n      try {\n        // It requires to use 127.0.0.1 instead of localhost for server-side fetching.\n        const debugInfoList = await fetch(\n          `http://127.0.0.1:${debugPort}/json/list`\n        ).then((res) => res.json())\n        // There will be only one item for current process, so always get the first item.\n        debugInfo = debugInfoList[0]\n      } catch {}\n      if (debugInfo) {\n        this.devtoolsFrontendUrl = debugInfo.devtoolsFrontendUrl\n      }\n    }\n\n    await this.clean(startSpan)\n    // Ensure distDir exists before writing package.json\n    await fs.mkdir(this.distDir, { recursive: true })\n\n    const initialDevToolsConfig = await getDevToolsConfig(this.distDir)\n\n    const distPackageJsonPath = join(this.distDir, 'package.json')\n    // Ensure commonjs handling is used for files in the distDir (generally .next)\n    // Files outside of the distDir can be \"type\": \"module\"\n    await fs.writeFile(distPackageJsonPath, '{\"type\": \"commonjs\"}')\n\n    this.activeWebpackConfigs = await this.getWebpackConfig(startSpan)\n\n    for (const config of this.activeWebpackConfigs) {\n      const defaultEntry = config.entry\n      config.entry = async (...args) => {\n        const outputPath = this.multiCompiler?.outputPath || ''\n        const entries = getEntries(outputPath)\n        // @ts-ignore entry is always a function\n        const entrypoints = await defaultEntry(...args)\n        const isClientCompilation = config.name === COMPILER_NAMES.client\n        const isNodeServerCompilation = config.name === COMPILER_NAMES.server\n        const isEdgeServerCompilation =\n          config.name === COMPILER_NAMES.edgeServer\n\n        await Promise.all(\n          Object.keys(entries).map(async (entryKey) => {\n            const entryData = entries[entryKey]\n            const { bundlePath, dispose } = entryData\n\n            const result =\n              /^(client|server|edge-server)@(app|pages|root)@(.*)/g.exec(\n                entryKey\n              )\n            const [, key /* pageType */, , page] = result! // this match should always happen\n\n            if (key === COMPILER_NAMES.client && !isClientCompilation) return\n            if (key === COMPILER_NAMES.server && !isNodeServerCompilation)\n              return\n            if (key === COMPILER_NAMES.edgeServer && !isEdgeServerCompilation)\n              return\n\n            const isEntry = entryData.type === EntryTypes.ENTRY\n            const isChildEntry = entryData.type === EntryTypes.CHILD_ENTRY\n\n            // Check if the page was removed or disposed and remove it\n            if (isEntry) {\n              const pageExists =\n                !dispose && existsSync(entryData.absolutePagePath)\n              if (!pageExists) {\n                delete entries[entryKey]\n                return\n              }\n            }\n\n            // For child entries, if it has an entry file and it's gone, remove it\n            if (isChildEntry) {\n              if (entryData.absoluteEntryFilePath) {\n                const pageExists =\n                  !dispose && existsSync(entryData.absoluteEntryFilePath)\n                if (!pageExists) {\n                  delete entries[entryKey]\n                  return\n                }\n              }\n            }\n\n            // Ensure _error is considered a `pages` page.\n            if (page === '/_error') {\n              this.hasPagesRouterEntrypoints = true\n            }\n\n            const hasAppDir = !!this.appDir\n            const isAppPath = hasAppDir && bundlePath.startsWith('app/')\n            const staticInfo = isEntry\n              ? await getStaticInfoIncludingLayouts({\n                  isInsideAppDir: isAppPath,\n                  pageExtensions: this.config.pageExtensions,\n                  pageFilePath: entryData.absolutePagePath,\n                  appDir: this.appDir,\n                  config: this.config,\n                  isDev: true,\n                  page,\n                })\n              : undefined\n\n            const isServerComponent =\n              isAppPath && staticInfo?.rsc !== RSC_MODULE_TYPES.client\n\n            const pageType: PAGE_TYPES = entryData.bundlePath.startsWith(\n              'pages/'\n            )\n              ? PAGE_TYPES.PAGES\n              : entryData.bundlePath.startsWith('app/')\n                ? PAGE_TYPES.APP\n                : PAGE_TYPES.ROOT\n\n            if (pageType === 'pages') {\n              this.hasPagesRouterEntrypoints = true\n            }\n            if (pageType === 'app') {\n              this.hasAppRouterEntrypoints = true\n            }\n\n            const isInstrumentation =\n              isInstrumentationHookFile(page) && pageType === PAGE_TYPES.ROOT\n\n            let pageRuntime = staticInfo?.runtime\n\n            runDependingOnPageType({\n              page,\n              pageRuntime,\n              pageType,\n              onEdgeServer: () => {\n                // TODO-APP: verify if child entry should support.\n                if (!isEdgeServerCompilation || !isEntry) return\n                entries[entryKey].status = BUILDING\n\n                if (isInstrumentation) {\n                  const normalizedBundlePath = bundlePath.replace('src/', '')\n                  entrypoints[normalizedBundlePath] = finalizeEntrypoint({\n                    compilerType: COMPILER_NAMES.edgeServer,\n                    name: normalizedBundlePath,\n                    value: getInstrumentationEntry({\n                      absolutePagePath: entryData.absolutePagePath,\n                      isEdgeServer: true,\n                      isDev: true,\n                    }),\n                    isServerComponent: true,\n                    hasAppDir,\n                  })\n                  return\n                }\n                const appDirLoader = isAppPath\n                  ? getAppEntry({\n                      name: bundlePath,\n                      page,\n                      appPaths: entryData.appPaths,\n                      pagePath: posix.join(\n                        APP_DIR_ALIAS,\n                        relative(\n                          this.appDir!,\n                          entryData.absolutePagePath\n                        ).replace(/\\\\/g, '/')\n                      ),\n                      appDir: this.appDir!,\n                      pageExtensions: this.config.pageExtensions,\n                      rootDir: this.dir,\n                      isDev: true,\n                      tsconfigPath: this.config.typescript.tsconfigPath,\n                      basePath: this.config.basePath,\n                      assetPrefix: this.config.assetPrefix,\n                      nextConfigOutput: this.config.output,\n                      preferredRegion: staticInfo?.preferredRegion,\n                      middlewareConfig: Buffer.from(\n                        JSON.stringify(staticInfo?.middleware || {})\n                      ).toString('base64'),\n                      isGlobalNotFoundEnabled: this.config.experimental\n                        .globalNotFound\n                        ? true\n                        : undefined,\n                    }).import\n                  : undefined\n\n                entrypoints[bundlePath] = finalizeEntrypoint({\n                  compilerType: COMPILER_NAMES.edgeServer,\n                  name: bundlePath,\n                  value: getEdgeServerEntry({\n                    absolutePagePath: entryData.absolutePagePath,\n                    rootDir: this.dir,\n                    buildId: this.buildId,\n                    bundlePath,\n                    config: this.config,\n                    isDev: true,\n                    page,\n                    pages: this.pagesMapping,\n                    isServerComponent,\n                    appDirLoader,\n                    pagesType: isAppPath ? PAGE_TYPES.APP : PAGE_TYPES.PAGES,\n                    preferredRegion: staticInfo?.preferredRegion,\n                  }),\n                  hasAppDir,\n                })\n              },\n              onClient: () => {\n                if (!isClientCompilation) return\n                if (isChildEntry) {\n                  entries[entryKey].status = BUILDING\n                  entrypoints[bundlePath] = finalizeEntrypoint({\n                    name: bundlePath,\n                    compilerType: COMPILER_NAMES.client,\n                    value: entryData.request,\n                    hasAppDir,\n                  })\n                } else {\n                  entries[entryKey].status = BUILDING\n                  entrypoints[bundlePath] = finalizeEntrypoint({\n                    name: bundlePath,\n                    compilerType: COMPILER_NAMES.client,\n                    value: getClientEntry({\n                      absolutePagePath: entryData.absolutePagePath,\n                      page,\n                    }),\n                    hasAppDir,\n                  })\n                }\n              },\n              onServer: () => {\n                // TODO-APP: verify if child entry should support.\n                if (!isNodeServerCompilation || !isEntry) return\n                entries[entryKey].status = BUILDING\n                let relativeRequest = relative(\n                  config.context!,\n                  entryData.absolutePagePath\n                )\n                if (\n                  !isAbsolute(relativeRequest) &&\n                  !relativeRequest.startsWith('../')\n                ) {\n                  relativeRequest = `./${relativeRequest}`\n                }\n\n                let value: { import: string; layer?: string } | string\n                if (isInstrumentation) {\n                  value = getInstrumentationEntry({\n                    absolutePagePath: entryData.absolutePagePath,\n                    isEdgeServer: false,\n                    isDev: true,\n                  })\n                  entrypoints[bundlePath] = finalizeEntrypoint({\n                    compilerType: COMPILER_NAMES.server,\n                    name: bundlePath,\n                    isServerComponent: true,\n                    value,\n                    hasAppDir,\n                  })\n                } else if (isMiddlewareFile(page)) {\n                  value = getEdgeServerEntry({\n                    absolutePagePath: entryData.absolutePagePath,\n                    rootDir: this.dir,\n                    buildId: this.buildId,\n                    bundlePath,\n                    config: this.config,\n                    isDev: true,\n                    page,\n                    pages: this.pagesMapping,\n                    isServerComponent,\n                    pagesType: PAGE_TYPES.PAGES,\n                    preferredRegion: staticInfo?.preferredRegion,\n                  })\n                } else if (isAppPath) {\n                  // This path normalization is critical for webpack to resolve the next internals as entry.\n                  const pagePath = entryData.absolutePagePath.startsWith(\n                    dirname(require.resolve('next/package.json'))\n                  )\n                    ? entryData.absolutePagePath\n                    : posix.join(\n                        APP_DIR_ALIAS,\n                        relative(\n                          this.appDir!,\n                          entryData.absolutePagePath\n                        ).replace(/\\\\/g, '/')\n                      )\n                  value = getAppEntry({\n                    name: bundlePath,\n                    page,\n                    appPaths: entryData.appPaths,\n                    pagePath,\n                    appDir: this.appDir!,\n                    pageExtensions: this.config.pageExtensions,\n                    rootDir: this.dir,\n                    isDev: true,\n                    tsconfigPath: this.config.typescript.tsconfigPath,\n                    basePath: this.config.basePath,\n                    assetPrefix: this.config.assetPrefix,\n                    nextConfigOutput: this.config.output,\n                    preferredRegion: staticInfo?.preferredRegion,\n                    middlewareConfig: Buffer.from(\n                      JSON.stringify(staticInfo?.middleware || {})\n                    ).toString('base64'),\n                    isGlobalNotFoundEnabled: this.config.experimental\n                      .globalNotFound\n                      ? true\n                      : undefined,\n                  })\n                } else if (isAPIRoute(page)) {\n                  value = getRouteLoaderEntry({\n                    kind: RouteKind.PAGES_API,\n                    page,\n                    absolutePagePath: relativeRequest,\n                    preferredRegion: staticInfo?.preferredRegion,\n                    middlewareConfig: staticInfo?.middleware || {},\n                  })\n                } else if (\n                  !isMiddlewareFile(page) &&\n                  !isInternalComponent(relativeRequest) &&\n                  !isNonRoutePagesPage(page) &&\n                  !isInstrumentation\n                ) {\n                  value = getRouteLoaderEntry({\n                    kind: RouteKind.PAGES,\n                    page,\n                    pages: this.pagesMapping,\n                    absolutePagePath: relativeRequest,\n                    preferredRegion: staticInfo?.preferredRegion,\n                    middlewareConfig: staticInfo?.middleware ?? {},\n                  })\n                } else {\n                  value = relativeRequest\n                }\n\n                entrypoints[bundlePath] = finalizeEntrypoint({\n                  compilerType: COMPILER_NAMES.server,\n                  name: bundlePath,\n                  isServerComponent,\n                  value,\n                  hasAppDir,\n                })\n              },\n            })\n          })\n        )\n        if (!this.hasPagesRouterEntrypoints) {\n          delete entrypoints[CLIENT_STATIC_FILES_RUNTIME_MAIN]\n          delete entrypoints['pages/_app']\n          delete entrypoints['pages/_error']\n          delete entrypoints['/_error']\n          delete entrypoints['pages/_document']\n        }\n        // Remove React Refresh entrypoint chunk as `app` doesn't require it.\n        if (!this.hasPagesRouterEntrypoints) {\n          delete entrypoints[CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH]\n        }\n        if (!this.hasAppRouterEntrypoints) {\n          delete entrypoints[CLIENT_STATIC_FILES_RUNTIME_MAIN_APP]\n        }\n\n        return entrypoints\n      }\n    }\n\n    // Enable building of client compilation before server compilation in development\n    // @ts-ignore webpack 5\n    this.activeWebpackConfigs.parallelism = 1\n\n    await Promise.all(\n      Array.from(getCacheDirectories(this.activeWebpackConfigs)).map(\n        checkFileSystemCacheInvalidationAndCleanup\n      )\n    )\n    this.multiCompiler = getWebpackBundler()(\n      this.activeWebpackConfigs\n    ) as unknown as webpack.MultiCompiler\n\n    // Copy over the filesystem so that it is shared between all compilers.\n    const inputFileSystem = this.multiCompiler.compilers[0].inputFileSystem\n    for (const compiler of this.multiCompiler.compilers) {\n      compiler.inputFileSystem = inputFileSystem\n      // This is set for the initial compile. After that Watching class in webpack adds it.\n      compiler.fsStartTime = Date.now()\n      // Ensure NodeEnvironmentPlugin doesn't purge the inputFileSystem. Purging is handled in `done` below.\n      compiler.hooks.beforeRun.intercept({\n        register(tapInfo: any) {\n          if (tapInfo.name === 'NodeEnvironmentPlugin') {\n            return null\n          }\n          return tapInfo\n        },\n      })\n    }\n\n    this.multiCompiler.hooks.done.tap('NextjsHotReloader', () => {\n      inputFileSystem?.purge?.()\n    })\n    watchCompilers(\n      this.multiCompiler.compilers[0],\n      this.multiCompiler.compilers[1],\n      this.multiCompiler.compilers[2]\n    )\n\n    // Watch for changes to client/server page files so we can tell when just\n    // the server file changes and trigger a reload for GS(S)P pages\n    const changedClientPages = new Set<string>()\n    const changedServerPages = new Set<string>()\n    const changedEdgeServerPages = new Set<string>()\n\n    const changedServerComponentPages = new Set<string>()\n    const changedCSSImportPages = new Set<string>()\n\n    const prevClientPageHashes = new Map<string, string>()\n    const prevServerPageHashes = new Map<string, string>()\n    const prevEdgeServerPageHashes = new Map<string, string>()\n    const prevCSSImportModuleHashes = new Map<string, string>()\n\n    const pageExtensionRegex = new RegExp(\n      `\\\\.(?:${this.config.pageExtensions.join('|')})$`\n    )\n\n    const trackPageChanges =\n      (\n        pageHashMap: Map<string, string>,\n        changedItems: Set<string>,\n        serverComponentChangedItems?: Set<string>\n      ) =>\n      (stats: webpack.Compilation) => {\n        try {\n          stats.entrypoints.forEach((entry, key) => {\n            if (\n              key.startsWith('pages/') ||\n              key.startsWith('app/') ||\n              isMiddlewareFilename(key)\n            ) {\n              // TODO this doesn't handle on demand loaded chunks\n              entry.chunks.forEach((chunk) => {\n                if (chunk.id === key) {\n                  const modsIterable: any =\n                    stats.chunkGraph.getChunkModulesIterable(chunk)\n\n                  let hasCSSModuleChanges = false\n                  let chunksHash = new StringXor()\n                  let chunksHashServerLayer = new StringXor()\n\n                  modsIterable.forEach((mod: any) => {\n                    if (\n                      mod.resource &&\n                      mod.resource.replace(/\\\\/g, '/').includes(key) &&\n                      // Shouldn't match CSS modules, etc.\n                      pageExtensionRegex.test(mod.resource)\n                    ) {\n                      // use original source to calculate hash since mod.hash\n                      // includes the source map in development which changes\n                      // every time for both server and client so we calculate\n                      // the hash without the source map for the page module\n                      const hash = (\n                        require('crypto') as typeof import('crypto')\n                      )\n                        .createHash('sha1')\n                        .update(mod.originalSource().buffer())\n                        .digest()\n                        .toString('hex')\n\n                      if (\n                        mod.layer === WEBPACK_LAYERS.reactServerComponents &&\n                        mod?.buildInfo?.rsc?.type !== 'client'\n                      ) {\n                        chunksHashServerLayer.add(hash)\n                      }\n\n                      chunksHash.add(hash)\n                    } else {\n                      // for non-pages we can use the module hash directly\n                      const hash = stats.chunkGraph.getModuleHash(\n                        mod,\n                        chunk.runtime\n                      )\n\n                      if (\n                        mod.layer === WEBPACK_LAYERS.reactServerComponents &&\n                        mod?.buildInfo?.rsc?.type !== 'client'\n                      ) {\n                        chunksHashServerLayer.add(hash)\n                      }\n\n                      chunksHash.add(hash)\n\n                      // Both CSS import changes from server and client\n                      // components are tracked.\n                      if (\n                        key.startsWith('app/') &&\n                        /\\.(css|scss|sass)$/.test(mod.resource || '')\n                      ) {\n                        const resourceKey = mod.layer + ':' + mod.resource\n                        const prevHash =\n                          prevCSSImportModuleHashes.get(resourceKey)\n                        if (prevHash && prevHash !== hash) {\n                          hasCSSModuleChanges = true\n                        }\n                        prevCSSImportModuleHashes.set(resourceKey, hash)\n                      }\n                    }\n                  })\n\n                  const prevHash = pageHashMap.get(key)\n                  const curHash = chunksHash.toString()\n                  if (prevHash && prevHash !== curHash) {\n                    changedItems.add(key)\n                  }\n                  pageHashMap.set(key, curHash)\n\n                  if (serverComponentChangedItems) {\n                    const serverKey =\n                      WEBPACK_LAYERS.reactServerComponents + ':' + key\n                    const prevServerHash = pageHashMap.get(serverKey)\n                    const curServerHash = chunksHashServerLayer.toString()\n                    if (prevServerHash && prevServerHash !== curServerHash) {\n                      serverComponentChangedItems.add(key)\n                    }\n                    pageHashMap.set(serverKey, curServerHash)\n                  }\n\n                  if (hasCSSModuleChanges) {\n                    changedCSSImportPages.add(key)\n                  }\n                }\n              })\n            }\n          })\n        } catch (err) {\n          console.error(err)\n        }\n      }\n\n    this.multiCompiler.compilers[0].hooks.emit.tap(\n      'NextjsHotReloaderForClient',\n      trackPageChanges(prevClientPageHashes, changedClientPages)\n    )\n    this.multiCompiler.compilers[1].hooks.emit.tap(\n      'NextjsHotReloaderForServer',\n      trackPageChanges(\n        prevServerPageHashes,\n        changedServerPages,\n        changedServerComponentPages\n      )\n    )\n    this.multiCompiler.compilers[2].hooks.emit.tap(\n      'NextjsHotReloaderForServer',\n      trackPageChanges(\n        prevEdgeServerPageHashes,\n        changedEdgeServerPages,\n        changedServerComponentPages\n      )\n    )\n\n    // This plugin watches for changes to _document.js and notifies the client side that it should reload the page\n    this.multiCompiler.compilers[1].hooks.failed.tap(\n      'NextjsHotReloaderForServer',\n      (err: Error) => {\n        this.serverError = err\n        this.serverStats = null\n        this.serverChunkNames = undefined\n      }\n    )\n\n    this.multiCompiler.compilers[2].hooks.done.tap(\n      'NextjsHotReloaderForServer',\n      (stats) => {\n        this.serverError = null\n        this.edgeServerStats = stats\n      }\n    )\n\n    this.multiCompiler.compilers[1].hooks.done.tap(\n      'NextjsHotReloaderForServer',\n      (stats) => {\n        this.serverError = null\n        this.serverStats = stats\n\n        if (!this.pagesDir) {\n          return\n        }\n\n        const { compilation } = stats\n\n        // We only watch `_document` for changes on the server compilation\n        // the rest of the files will be triggered by the client compilation\n        const documentChunk = compilation.namedChunks.get('pages/_document')\n        // If the document chunk can't be found we do nothing\n        if (!documentChunk) {\n          return\n        }\n\n        // Initial value\n        if (this.serverPrevDocumentHash === null) {\n          this.serverPrevDocumentHash = documentChunk.hash || null\n          return\n        }\n\n        // If _document.js didn't change we don't trigger a reload.\n        if (documentChunk.hash === this.serverPrevDocumentHash) {\n          return\n        }\n\n        // As document chunk will change if new app pages are joined,\n        // since react bundle is different it will effect the chunk hash.\n        // So we diff the chunk changes, if there's only new app page chunk joins,\n        // then we don't trigger a reload by checking pages/_document chunk change.\n        if (this.appDir) {\n          const chunkNames = new Set(compilation.namedChunks.keys())\n          const diffChunkNames = difference<string>(\n            this.serverChunkNames || new Set(),\n            chunkNames\n          )\n\n          if (\n            diffChunkNames.length === 0 ||\n            diffChunkNames.every((chunkName) => chunkName.startsWith('app/'))\n          ) {\n            return\n          }\n          this.serverChunkNames = chunkNames\n        }\n\n        this.serverPrevDocumentHash = documentChunk.hash || null\n\n        // Notify reload to reload the page, as _document.js was changed (different hash)\n        this.send({\n          type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n          data: '_document has changed',\n        })\n      }\n    )\n\n    this.multiCompiler.hooks.done.tap('NextjsHotReloaderForServer', (stats) => {\n      const reloadAfterInvalidation = this.reloadAfterInvalidation\n      this.reloadAfterInvalidation = false\n\n      const serverOnlyChanges = difference<string>(\n        changedServerPages,\n        changedClientPages\n      )\n\n      const edgeServerOnlyChanges = difference<string>(\n        changedEdgeServerPages,\n        changedClientPages\n      )\n\n      const pageChanges = serverOnlyChanges\n        .concat(edgeServerOnlyChanges)\n        .filter((key) => key.startsWith('pages/'))\n\n      const middlewareChanges = [\n        ...Array.from(changedEdgeServerPages),\n        ...Array.from(changedServerPages),\n      ].filter((name) => isMiddlewareFilename(name))\n\n      if (middlewareChanges.length > 0) {\n        this.send({\n          type: HMR_MESSAGE_SENT_TO_BROWSER.MIDDLEWARE_CHANGES,\n        })\n      }\n\n      if (pageChanges.length > 0) {\n        this.send({\n          type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_ONLY_CHANGES,\n          pages: serverOnlyChanges.map((pg) =>\n            denormalizePagePath(pg.slice('pages'.length))\n          ),\n        })\n      }\n\n      if (\n        changedServerComponentPages.size ||\n        changedCSSImportPages.size ||\n        reloadAfterInvalidation\n      ) {\n        this.resetFetch()\n        this.refreshServerComponents(stats.hash)\n      }\n\n      changedClientPages.clear()\n      changedServerPages.clear()\n      changedEdgeServerPages.clear()\n      changedServerComponentPages.clear()\n      changedCSSImportPages.clear()\n    })\n\n    this.multiCompiler.compilers[0].hooks.failed.tap(\n      'NextjsHotReloaderForClient',\n      (err: Error) => {\n        this.clientError = err\n        this.clientStats = null\n      }\n    )\n    this.multiCompiler.compilers[0].hooks.done.tap(\n      'NextjsHotReloaderForClient',\n      (stats) => {\n        this.clientError = null\n        this.clientStats = stats\n\n        const { compilation } = stats\n        const chunkNames = new Set(\n          [...compilation.namedChunks.keys()].filter(\n            (name) => !!getRouteFromEntrypoint(name)\n          )\n        )\n\n        if (this.prevChunkNames) {\n          // detect chunks which have to be replaced with a new template\n          // e.g, pages/index.js <-> pages/_error.js\n          const addedPages = diff(chunkNames, this.prevChunkNames!)\n          const removedPages = diff(this.prevChunkNames!, chunkNames)\n\n          if (addedPages.size > 0) {\n            for (const addedPage of addedPages) {\n              const page = getRouteFromEntrypoint(addedPage)\n              this.send({\n                type: HMR_MESSAGE_SENT_TO_BROWSER.ADDED_PAGE,\n                data: [page],\n              })\n            }\n          }\n\n          if (removedPages.size > 0) {\n            for (const removedPage of removedPages) {\n              const page = getRouteFromEntrypoint(removedPage)\n              this.send({\n                type: HMR_MESSAGE_SENT_TO_BROWSER.REMOVED_PAGE,\n                data: [page],\n              })\n            }\n          }\n        }\n\n        this.prevChunkNames = chunkNames\n      }\n    )\n\n    this.webpackHotMiddleware = new WebpackHotMiddleware(\n      this.multiCompiler.compilers,\n      this.versionInfo,\n      this.devtoolsFrontendUrl,\n      this.config,\n      initialDevToolsConfig\n    )\n\n    let booted = false\n\n    this.watcher = await new Promise((resolve) => {\n      const watcher = this.multiCompiler?.watch(\n        // @ts-ignore webpack supports an array of watchOptions when using a multiCompiler\n        this.activeWebpackConfigs.map((config) => config.watchOptions!),\n        // Errors are handled separately\n        (_err: any) => {\n          if (!booted) {\n            booted = true\n            resolve(watcher)\n          }\n        }\n      )\n    })\n\n    this.onDemandEntries = onDemandEntryHandler({\n      hotReloader: this,\n      multiCompiler: this.multiCompiler,\n      pagesDir: this.pagesDir,\n      appDir: this.appDir,\n      rootDir: this.dir,\n      nextConfig: this.config,\n      ...(this.config.onDemandEntries as {\n        maxInactiveAge: number\n        pagesBufferLength: number\n      }),\n    })\n\n    this.middlewares = [\n      getOverlayMiddleware({\n        rootDirectory: this.dir,\n        isSrcDir: this.isSrcDir,\n        clientStats: () => this.clientStats,\n        serverStats: () => this.serverStats,\n        edgeServerStats: () => this.edgeServerStats,\n      }),\n      getSourceMapMiddleware({\n        clientStats: () => this.clientStats,\n        serverStats: () => this.serverStats,\n        edgeServerStats: () => this.edgeServerStats,\n      }),\n      getNextErrorFeedbackMiddleware(this.telemetry),\n      getDevOverlayFontMiddleware(),\n      getDisableDevIndicatorMiddleware(),\n      getRestartDevServerMiddleware({\n        telemetry: this.telemetry,\n        webpackCacheDirectories:\n          this.activeWebpackConfigs != null\n            ? getCacheDirectories(this.activeWebpackConfigs)\n            : undefined,\n      }),\n      devToolsConfigMiddleware({\n        distDir: this.distDir,\n        sendUpdateSignal: (data) => {\n          // Update the in-memory devToolsConfig value\n          // which will be used for the next onHMR call.\n          this.webpackHotMiddleware?.updateDevToolsConfig(data)\n\n          this.send({\n            type: HMR_MESSAGE_SENT_TO_BROWSER.DEVTOOLS_CONFIG,\n            data,\n          })\n        },\n      }),\n      ...(this.config.experimental.mcpServer\n        ? [\n            getMcpMiddleware({\n              projectPath: this.dir,\n              distDir: this.distDir,\n              nextConfig: this.config,\n              pagesDir: this.pagesDir,\n              appDir: this.appDir,\n              sendHmrMessage: (message) => this.send(message),\n              getActiveConnectionCount: () =>\n                this.webpackHotMiddleware?.getClientCount() ?? 0,\n              getDevServerUrl: () => process.env.__NEXT_PRIVATE_ORIGIN,\n            }),\n          ]\n        : []),\n    ]\n\n    setStackFrameResolver(async (request) => {\n      return getOriginalStackFrames({\n        isServer: request.isServer,\n        isEdgeServer: request.isEdgeServer,\n        isAppDirectory: request.isAppDirectory,\n        frames: request.frames,\n        clientStats: () => this.clientStats,\n        serverStats: () => this.serverStats,\n        edgeServerStats: () => this.edgeServerStats,\n        rootDirectory: this.dir,\n      })\n    })\n  }\n\n  public invalidate(\n    { reloadAfterInvalidation }: { reloadAfterInvalidation: boolean } = {\n      reloadAfterInvalidation: false,\n    }\n  ) {\n    // Cache the `reloadAfterInvalidation` flag, and use it to reload the page when compilation is done\n    this.reloadAfterInvalidation = reloadAfterInvalidation\n    const outputPath = this.multiCompiler?.outputPath\n    if (outputPath) {\n      getInvalidator(outputPath)?.invalidate()\n    }\n  }\n\n  public async getCompilationErrors(page: string) {\n    const getErrors = ({ compilation }: webpack.Stats) => {\n      const failedPages = erroredPages(compilation)\n      const normalizedPage = normalizePathSep(page)\n      // If there is an error related to the requesting page we display it instead of the first error\n      return failedPages[normalizedPage]?.length > 0\n        ? failedPages[normalizedPage]\n        : compilation.errors\n    }\n\n    if (this.clientError) {\n      return [this.clientError]\n    } else if (this.serverError) {\n      return [this.serverError]\n    } else if (this.clientStats?.hasErrors()) {\n      return getErrors(this.clientStats)\n    } else if (this.serverStats?.hasErrors()) {\n      return getErrors(this.serverStats)\n    } else if (this.edgeServerStats?.hasErrors()) {\n      return getErrors(this.edgeServerStats)\n    } else {\n      return []\n    }\n  }\n\n  public send(message: HmrMessageSentToBrowser): void {\n    this.webpackHotMiddleware!.publish(message)\n  }\n\n  public sendToClient(client: ws, message: HmrMessageSentToBrowser): void {\n    this.webpackHotMiddleware!.publishToClient(client, message)\n  }\n\n  public sendToLegacyClients(message: HmrMessageSentToBrowser): void {\n    this.webpackHotMiddleware!.publishToLegacyClients(message)\n  }\n\n  public setCacheStatus(\n    status: ServerCacheStatus,\n    htmlRequestId: string\n  ): void {\n    const client = this.webpackHotMiddleware?.getClient(htmlRequestId)\n    if (client !== undefined) {\n      this.sendToClient(client, {\n        type: HMR_MESSAGE_SENT_TO_BROWSER.CACHE_INDICATOR,\n        state: status,\n      })\n    } else {\n      // If the client is not connected, store the status so that we can send it\n      // when the client connects.\n      this.cacheStatusesByRequestId.set(htmlRequestId, status)\n    }\n  }\n\n  public setReactDebugChannel(\n    debugChannel: ReactDebugChannelForBrowser,\n    htmlRequestId: string,\n    requestId: string\n  ): void {\n    const client = this.webpackHotMiddleware?.getClient(htmlRequestId)\n\n    if (htmlRequestId === requestId) {\n      // The debug channel is for the HTML request.\n      if (client) {\n        // If the client is connected, we can connect the debug channel for\n        // the HTML request immediately.\n        connectReactDebugChannel(\n          htmlRequestId,\n          debugChannel,\n          this.sendToClient.bind(this, client)\n        )\n      } else {\n        // Otherwise, we'll do that when the client connects and just store\n        // the debug channel.\n        setReactDebugChannelForHtmlRequest(htmlRequestId, debugChannel)\n      }\n    } else if (client) {\n      // The debug channel is for a subsequent request (e.g. client-side\n      // navigation for server function call). If the client is not connected\n      // anymore, we don't need to connect the debug channel.\n      connectReactDebugChannel(\n        requestId,\n        debugChannel,\n        this.sendToClient.bind(this, client)\n      )\n    }\n  }\n\n  public async ensurePage({\n    page,\n    clientOnly,\n    appPaths,\n    definition,\n    isApp,\n    url,\n  }: {\n    page: string\n    clientOnly: boolean\n    appPaths?: ReadonlyArray<string> | null\n    isApp?: boolean\n    definition?: RouteDefinition\n    url?: string\n  }): Promise<void> {\n    return this.hotReloaderSpan\n      .traceChild('ensure-page', {\n        inputPage: page,\n      })\n      .traceAsyncFn(async () => {\n        // Make sure we don't re-build or dispose prebuilt pages\n        if (page !== '/_error' && BLOCKED_PAGES.indexOf(page) !== -1) {\n          return\n        }\n        const error = clientOnly\n          ? this.clientError\n          : this.serverError || this.clientError\n        if (error) {\n          throw error\n        }\n\n        return this.onDemandEntries?.ensurePage({\n          page,\n          appPaths,\n          definition,\n          isApp,\n          url,\n        })\n      })\n  }\n\n  public close() {\n    // Report MCP telemetry if MCP server is enabled\n    recordMcpTelemetry(this.telemetry)\n\n    this.webpackHotMiddleware?.close()\n  }\n}\n"],"names":["HotReloaderWebpack","renderScriptError","MILLISECONDS_IN_NANOSECOND","BigInt","diff","a","b","Set","filter","v","has","wsServer","ws","Server","noServer","res","error","verbose","setHeader","code","finished","undefined","console","stack","statusCode","end","addCorsSupport","req","url","startsWith","preflight","headers","origin","method","writeHead","findEntryModule","module","compilation","issuer","moduleGraph","getIssuer","erroredPages","failedPages","errors","entryModule","name","enhancedName","getRouteFromEntrypoint","push","constructor","dir","config","isSrcDir","pagesDir","distDir","buildId","encryptionKey","previewProps","rewrites","appDir","telemetry","resetFetch","lockfile","onDevServerCleanup","clientError","serverError","hmrServerError","pagesMapping","versionInfo","staleness","installed","reloadAfterInvalidation","cacheStatusesByRequestId","Map","hasAppRouterEntrypoints","hasPagesRouterEntrypoints","middlewares","clientStats","serverStats","edgeServerStats","serverPrevDocumentHash","hotReloaderSpan","trace","version","process","env","__NEXT_VERSION","stop","mcpServerEnabled","experimental","mcpServer","fileLogger","getFileLogger","initialize","unlock","run","parsedUrl","handlePageBundleRequest","pageBundleRes","parsedPageBundleUrl","pathname","params","matchNextPageBundleRequest","decodedPagePath","path","map","param","decodeURIComponent","join","_","DecodeError","page","denormalizePagePath","BLOCKED_PAGES","indexOf","ensurePage","clientOnly","getProperError","getCompilationErrors","length","middleware","calledNext","setHmrServerError","clearHmrServerError","send","type","HMR_MESSAGE_SENT_TO_BROWSER","RELOAD_PAGE","data","refreshServerComponents","hash","SERVER_COMPONENT_CHANGES","onHMR","_socket","head","callback","handleUpgrade","socket","client","htmlRequestId","URL","searchParams","get","webpackHotMiddleware","InvariantError","onDemandEntries","enableCacheComponents","cacheComponents","isLegacyClient","addEventListener","toString","payload","JSON","parse","traceChild","event","spanName","startTime","Math","floor","attrs","attributes","endTime","updatedModules","m","replace","WEBPACK_LAYERS","appPagesBrowser","isPageHidden","errorCount","warningCount","stackTrace","hadRuntimeError","Log","warn","FAST_REFRESH_RUNTIME_RELOAD","fileMessage","file","exec","fileUrl","cwd","modules","getAll","filepath","slice","pagesDirBrowser","cleanedFilePath","browserDebugInfoInTerminal","receiveBrowserLogsWebpack","entries","router","sourceType","rootDirectory","handleClientFileLogs","logs","manualTraceChild","clientId","id","connectReactDebugChannelForHtmlRequest","sendToClient","bind","status","CACHE_INDICATOR","state","delete","on","deleteClient","deleteReactDebugChannelForHtmlRequest","clean","span","traceAsyncFn","recursiveDeleteSyncWithAsyncRetries","getWebpackConfig","webpackConfigSpan","pageExtensions","pagePaths","Promise","all","findPageFile","createPagesMapping","isDev","pagesType","PAGE_TYPES","PAGES","i","appDirOnly","Boolean","entrypoints","createEntrypoints","envFiles","pages","previewMode","rootDir","commonWebpackOptions","dev","originalRewrites","_originalRewrites","originalRedirects","_originalRedirects","runWebpackSpan","info","loadProjectInfo","getBaseWebpackConfig","compilerType","COMPILER_NAMES","server","edgeServer","buildFallbackError","fallbackWatcher","fallbackConfig","beforeFiles","afterFiles","fallback","isDevFallback","fallbackCompiler","getWebpackBundler","resolve","bootedFallbackCompiler","watch","watchOptions","_err","tracedGetVersionInfo","versionInfoSpan","getVersionInfo","start","startSpan","nodeOptions","getParsedNodeOptions","nodeDebugType","getNodeDebugType","devtoolsFrontendUrl","debugPort","debugInfo","debugInfoList","fetch","then","json","fs","mkdir","recursive","initialDevToolsConfig","getDevToolsConfig","distPackageJsonPath","writeFile","activeWebpackConfigs","defaultEntry","entry","args","outputPath","multiCompiler","getEntries","isClientCompilation","isNodeServerCompilation","isEdgeServerCompilation","Object","keys","entryKey","entryData","bundlePath","dispose","result","key","isEntry","EntryTypes","ENTRY","isChildEntry","CHILD_ENTRY","pageExists","existsSync","absolutePagePath","absoluteEntryFilePath","hasAppDir","isAppPath","staticInfo","getStaticInfoIncludingLayouts","isInsideAppDir","pageFilePath","isServerComponent","rsc","RSC_MODULE_TYPES","pageType","APP","ROOT","isInstrumentation","isInstrumentationHookFile","pageRuntime","runtime","runDependingOnPageType","onEdgeServer","BUILDING","normalizedBundlePath","finalizeEntrypoint","value","getInstrumentationEntry","isEdgeServer","appDirLoader","getAppEntry","appPaths","pagePath","posix","APP_DIR_ALIAS","relative","tsconfigPath","typescript","basePath","assetPrefix","nextConfigOutput","output","preferredRegion","middlewareConfig","Buffer","from","stringify","isGlobalNotFoundEnabled","globalNotFound","import","getEdgeServerEntry","onClient","request","getClientEntry","onServer","relativeRequest","context","isAbsolute","isMiddlewareFile","dirname","require","isAPIRoute","getRouteLoaderEntry","kind","RouteKind","PAGES_API","isInternalComponent","isNonRoutePagesPage","CLIENT_STATIC_FILES_RUNTIME_MAIN","CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH","CLIENT_STATIC_FILES_RUNTIME_MAIN_APP","parallelism","Array","getCacheDirectories","checkFileSystemCacheInvalidationAndCleanup","inputFileSystem","compilers","compiler","fsStartTime","Date","now","hooks","beforeRun","intercept","register","tapInfo","done","tap","purge","watchCompilers","changedClientPages","changedServerPages","changedEdgeServerPages","changedServerComponentPages","changedCSSImportPages","prevClientPageHashes","prevServerPageHashes","prevEdgeServerPageHashes","prevCSSImportModuleHashes","pageExtensionRegex","RegExp","trackPageChanges","pageHashMap","changedItems","serverComponentChangedItems","stats","forEach","isMiddlewareFilename","chunks","chunk","modsIterable","chunkGraph","getChunkModulesIterable","hasCSSModuleChanges","chunksHash","StringXor","chunksHashServerLayer","mod","resource","includes","test","createHash","update","originalSource","buffer","digest","layer","reactServerComponents","buildInfo","add","getModuleHash","resourceKey","prevHash","set","curHash","serverKey","prevServerHash","curServerHash","err","emit","failed","serverChunkNames","documentChunk","namedChunks","chunkNames","diffChunkNames","difference","every","chunkName","serverOnlyChanges","edgeServerOnlyChanges","pageChanges","concat","middlewareChanges","MIDDLEWARE_CHANGES","SERVER_ONLY_CHANGES","pg","size","clear","prevChunkNames","addedPages","removedPages","addedPage","ADDED_PAGE","removedPage","REMOVED_PAGE","WebpackHotMiddleware","booted","watcher","onDemandEntryHandler","hotReloader","nextConfig","getOverlayMiddleware","getSourceMapMiddleware","getNextErrorFeedbackMiddleware","getDevOverlayFontMiddleware","getDisableDevIndicatorMiddleware","getRestartDevServerMiddleware","webpackCacheDirectories","devToolsConfigMiddleware","sendUpdateSignal","updateDevToolsConfig","DEVTOOLS_CONFIG","getMcpMiddleware","projectPath","sendHmrMessage","message","getActiveConnectionCount","getClientCount","getDevServerUrl","__NEXT_PRIVATE_ORIGIN","setStackFrameResolver","getOriginalStackFrames","isServer","isAppDirectory","frames","invalidate","getInvalidator","getErrors","normalizedPage","normalizePathSep","hasErrors","publish","publishToClient","sendToLegacyClients","publishToLegacyClients","setCacheStatus","getClient","setReactDebugChannel","debugChannel","requestId","connectReactDebugChannel","setReactDebugChannelForHtmlRequest","definition","isApp","inputPage","close","recordMcpTelemetry"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5692, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/turbopack-utils.ts"],"sourcesContent":["import type {\n  ServerFields,\n  SetupOpts,\n} from '../lib/router-utils/setup-dev-bundler'\nimport type {\n  Issue,\n  TurbopackResult,\n  Endpoint,\n  RawEntrypoints,\n  Update as TurbopackUpdate,\n  WrittenEndpoint,\n} from '../../build/swc/types'\nimport {\n  type HmrMessageSentToBrowser,\n  HMR_MESSAGE_SENT_TO_BROWSER,\n} from './hot-reloader-types'\nimport * as Log from '../../build/output/log'\nimport type { PropagateToWorkersField } from '../lib/router-utils/types'\nimport type { TurbopackManifestLoader } from '../../shared/lib/turbopack/manifest-loader'\nimport type { AppRoute, Entrypoints, PageRoute } from '../../build/swc/types'\nimport {\n  type EntryKey,\n  getEntryKey,\n  splitEntryKey,\n} from '../../shared/lib/turbopack/entry-key'\nimport type ws from 'next/dist/compiled/ws'\nimport { isMetadataRoute } from '../../lib/metadata/is-metadata-route'\nimport type { CustomRoutes } from '../../lib/load-custom-routes'\nimport {\n  formatIssue,\n  getIssueKey,\n  isRelevantWarning,\n  processIssues,\n  renderStyledStringToErrorAnsi,\n  type EntryIssuesMap,\n  type TopLevelIssuesMap,\n} from '../../shared/lib/turbopack/utils'\nimport { MIDDLEWARE_FILENAME, PROXY_FILENAME } from '../../lib/constants'\n\nconst onceErrorSet = new Set()\n/**\n * Check if given issue is a warning to be display only once.\n * This mimics behavior of get-page-static-info's warnOnce.\n * @param issue\n * @returns\n */\nfunction shouldEmitOnceWarning(issue: Issue): boolean {\n  const { severity, title, stage } = issue\n  if (severity === 'warning' && title.value === 'Invalid page configuration') {\n    if (onceErrorSet.has(issue)) {\n      return false\n    }\n    onceErrorSet.add(issue)\n  }\n  if (\n    severity === 'warning' &&\n    stage === 'config' &&\n    renderStyledStringToErrorAnsi(issue.title).includes(\"can't be external\")\n  ) {\n    if (onceErrorSet.has(issue)) {\n      return false\n    }\n    onceErrorSet.add(issue)\n  }\n\n  return true\n}\n\n/// Print out an issue to the console which should not block\n/// the build by throwing out or blocking error overlay.\nexport function printNonFatalIssue(issue: Issue) {\n  if (isRelevantWarning(issue) && shouldEmitOnceWarning(issue)) {\n    Log.warn(formatIssue(issue))\n  }\n}\n\nexport function processTopLevelIssues(\n  currentTopLevelIssues: TopLevelIssuesMap,\n  result: TurbopackResult\n) {\n  currentTopLevelIssues.clear()\n\n  for (const issue of result.issues) {\n    const issueKey = getIssueKey(issue)\n    currentTopLevelIssues.set(issueKey, issue)\n  }\n}\n\nconst MILLISECONDS_IN_NANOSECOND = BigInt(1_000_000)\n\nexport function msToNs(ms: number): bigint {\n  return BigInt(Math.floor(ms)) * MILLISECONDS_IN_NANOSECOND\n}\n\nexport type ChangeSubscriptions = Map<\n  EntryKey,\n  Promise<AsyncIterableIterator<TurbopackResult>>\n>\n\nexport type HandleWrittenEndpoint = (\n  key: EntryKey,\n  result: TurbopackResult<WrittenEndpoint>,\n  forceDeleteCache: boolean\n) => boolean\n\nexport type StartChangeSubscription = (\n  key: EntryKey,\n  includeIssues: boolean,\n  endpoint: Endpoint,\n  createMessage: (\n    change: TurbopackResult,\n    hash: string\n  ) => Promise<HmrMessageSentToBrowser> | HmrMessageSentToBrowser | void,\n  onError?: (\n    e: Error\n  ) => Promise<HmrMessageSentToBrowser> | HmrMessageSentToBrowser | void\n) => Promise<void>\n\nexport type StopChangeSubscription = (key: EntryKey) => Promise<void>\n\nexport type SendHmr = (id: string, message: HmrMessageSentToBrowser) => void\n\nexport type StartBuilding = (\n  id: string,\n  requestUrl: string | undefined,\n  forceRebuild: boolean\n) => () => void\n\nexport type ReadyIds = Set<string>\n\nexport type ClientState = {\n  clientIssues: EntryIssuesMap\n  messages: Map<string, HmrMessageSentToBrowser>\n  turbopackUpdates: TurbopackUpdate[]\n  subscriptions: Map<string, AsyncIterator<any>>\n}\n\nexport type ClientStateMap = WeakMap<ws, ClientState>\n\n// hooks only used by the dev server.\ntype HandleRouteTypeHooks = {\n  handleWrittenEndpoint: HandleWrittenEndpoint\n  subscribeToChanges: StartChangeSubscription\n}\n\nexport async function handleRouteType({\n  dev,\n  page,\n  pathname,\n  route,\n  currentEntryIssues,\n  entrypoints,\n  manifestLoader,\n  readyIds,\n  devRewrites,\n  productionRewrites,\n  hooks,\n  logErrors,\n}: {\n  dev: boolean\n  page: string\n  pathname: string\n  route: PageRoute | AppRoute\n\n  currentEntryIssues: EntryIssuesMap\n  entrypoints: Entrypoints\n  manifestLoader: TurbopackManifestLoader\n  devRewrites: SetupOpts['fsChecker']['rewrites'] | undefined\n  productionRewrites: CustomRoutes['rewrites'] | undefined\n  logErrors: boolean\n\n  readyIds?: ReadyIds // dev\n\n  hooks?: HandleRouteTypeHooks // dev\n}) {\n  const shouldCreateWebpackStats = process.env.TURBOPACK_STATS != null\n\n  switch (route.type) {\n    case 'page': {\n      const clientKey = getEntryKey('pages', 'client', page)\n      const serverKey = getEntryKey('pages', 'server', page)\n\n      try {\n        // In the best case scenario, Turbopack chunks document, app, page separately in that order,\n        // so it can happen that the chunks of document change, but the chunks of app and page\n        // don't. We still need to reload the page chunks in that case though, otherwise the version\n        // of the document or app component export from the pages template is stale.\n        let documentOrAppChanged = false\n        if (entrypoints.global.app) {\n          const key = getEntryKey('pages', 'server', '_app')\n\n          const writtenEndpoint = await entrypoints.global.app.writeToDisk()\n          documentOrAppChanged ||=\n            hooks?.handleWrittenEndpoint(key, writtenEndpoint, false) ?? false\n          processIssues(\n            currentEntryIssues,\n            key,\n            writtenEndpoint,\n            false,\n            logErrors\n          )\n        }\n        await manifestLoader.loadBuildManifest('_app')\n        await manifestLoader.loadPagesManifest('_app')\n\n        if (entrypoints.global.document) {\n          const key = getEntryKey('pages', 'server', '_document')\n\n          const writtenEndpoint =\n            await entrypoints.global.document.writeToDisk()\n          documentOrAppChanged ||=\n            hooks?.handleWrittenEndpoint(key, writtenEndpoint, false) ?? false\n          processIssues(\n            currentEntryIssues,\n            key,\n            writtenEndpoint,\n            false,\n            logErrors\n          )\n        }\n        await manifestLoader.loadPagesManifest('_document')\n\n        const writtenEndpoint = await route.htmlEndpoint.writeToDisk()\n        hooks?.handleWrittenEndpoint(\n          serverKey,\n          writtenEndpoint,\n          documentOrAppChanged\n        )\n\n        const type = writtenEndpoint?.type\n\n        await manifestLoader.loadClientBuildManifest(page)\n        await manifestLoader.loadBuildManifest(page)\n        await manifestLoader.loadPagesManifest(page)\n        if (type === 'edge') {\n          await manifestLoader.loadMiddlewareManifest(page, 'pages')\n        } else {\n          manifestLoader.deleteMiddlewareManifest(serverKey)\n        }\n        await manifestLoader.loadFontManifest('/_app', 'pages')\n        await manifestLoader.loadFontManifest(page, 'pages')\n\n        if (shouldCreateWebpackStats) {\n          await manifestLoader.loadWebpackStats(page, 'pages')\n        }\n\n        manifestLoader.writeManifests({\n          devRewrites,\n          productionRewrites,\n          entrypoints,\n        })\n\n        processIssues(\n          currentEntryIssues,\n          serverKey,\n          writtenEndpoint,\n          false,\n          logErrors\n        )\n      } finally {\n        if (dev) {\n          // TODO subscriptions should only be caused by the WebSocket connections\n          // otherwise we don't known when to unsubscribe and this leaking\n          hooks?.subscribeToChanges(\n            serverKey,\n            false,\n            route.dataEndpoint,\n            () => {\n              // Report the next compilation again\n              readyIds?.delete(pathname)\n              return {\n                type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_ONLY_CHANGES,\n                pages: [page],\n              }\n            },\n            (e) => {\n              return {\n                type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n                data: `error in ${page} data subscription: ${e}`,\n              }\n            }\n          )\n          hooks?.subscribeToChanges(\n            clientKey,\n            false,\n            route.htmlEndpoint,\n            () => {\n              return {\n                type: HMR_MESSAGE_SENT_TO_BROWSER.CLIENT_CHANGES,\n              }\n            },\n            (e) => {\n              return {\n                type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n                data: `error in ${page} html subscription: ${e}`,\n              }\n            }\n          )\n          if (entrypoints.global.document) {\n            hooks?.subscribeToChanges(\n              getEntryKey('pages', 'server', '_document'),\n              false,\n              entrypoints.global.document,\n              () => {\n                return {\n                  type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n                  data: '_document has changed (page route)',\n                }\n              },\n              (e) => {\n                return {\n                  type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n                  data: `error in _document subscription (page route): ${e}`,\n                }\n              }\n            )\n          }\n        }\n      }\n\n      break\n    }\n    case 'page-api': {\n      const key = getEntryKey('pages', 'server', page)\n\n      const writtenEndpoint = await route.endpoint.writeToDisk()\n      hooks?.handleWrittenEndpoint(key, writtenEndpoint, false)\n\n      const type = writtenEndpoint.type\n\n      await manifestLoader.loadPagesManifest(page)\n      if (type === 'edge') {\n        await manifestLoader.loadMiddlewareManifest(page, 'pages')\n      } else {\n        manifestLoader.deleteMiddlewareManifest(key)\n      }\n\n      manifestLoader.writeManifests({\n        devRewrites,\n        productionRewrites,\n        entrypoints,\n      })\n\n      processIssues(currentEntryIssues, key, writtenEndpoint, true, logErrors)\n\n      break\n    }\n    case 'app-page': {\n      const key = getEntryKey('app', 'server', page)\n\n      const writtenEndpoint = await route.htmlEndpoint.writeToDisk()\n      hooks?.handleWrittenEndpoint(key, writtenEndpoint, false)\n\n      if (dev) {\n        // TODO subscriptions should only be caused by the WebSocket connections\n        // otherwise we don't known when to unsubscribe and this leaking\n        hooks?.subscribeToChanges(\n          key,\n          true,\n          route.rscEndpoint,\n          (change, hash) => {\n            if (change.issues.some((issue) => issue.severity === 'error')) {\n              // Ignore any updates that has errors\n              // There will be another update without errors eventually\n              return\n            }\n            // Report the next compilation again\n            readyIds?.delete(pathname)\n            return {\n              type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_COMPONENT_CHANGES,\n              hash,\n            }\n          },\n          (e) => {\n            return {\n              type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n              data: `error in ${page} app-page subscription: ${e}`,\n            }\n          }\n        )\n      }\n\n      const type = writtenEndpoint.type\n\n      if (type === 'edge') {\n        manifestLoader.loadMiddlewareManifest(page, 'app')\n      } else {\n        manifestLoader.deleteMiddlewareManifest(key)\n      }\n\n      manifestLoader.loadBuildManifest(page, 'app')\n      manifestLoader.loadAppPathsManifest(page)\n      manifestLoader.loadActionManifest(page)\n      manifestLoader.loadFontManifest(page, 'app')\n\n      if (shouldCreateWebpackStats) {\n        manifestLoader.loadWebpackStats(page, 'app')\n      }\n\n      manifestLoader.writeManifests({\n        devRewrites,\n        productionRewrites,\n        entrypoints,\n      })\n\n      processIssues(currentEntryIssues, key, writtenEndpoint, dev, logErrors)\n\n      break\n    }\n    case 'app-route': {\n      const key = getEntryKey('app', 'server', page)\n\n      const writtenEndpoint = await route.endpoint.writeToDisk()\n      hooks?.handleWrittenEndpoint(key, writtenEndpoint, false)\n\n      const type = writtenEndpoint.type\n\n      manifestLoader.loadAppPathsManifest(page)\n\n      if (type === 'edge') {\n        manifestLoader.loadMiddlewareManifest(page, 'app')\n      } else {\n        manifestLoader.deleteMiddlewareManifest(key)\n      }\n\n      manifestLoader.writeManifests({\n        devRewrites,\n        productionRewrites,\n        entrypoints,\n      })\n      processIssues(currentEntryIssues, key, writtenEndpoint, true, logErrors)\n\n      break\n    }\n    default: {\n      throw new Error(`unknown route type ${(route as any).type} for ${page}`)\n    }\n  }\n}\n\n/**\n * Maintains a mapping between entrypoins and the corresponding client asset paths.\n */\nexport class AssetMapper {\n  private entryMap: Map<EntryKey, Set<string>> = new Map()\n  private assetMap: Map<string, Set<EntryKey>> = new Map()\n\n  /**\n   * Overrides asset paths for a key and updates the mapping from path to key.\n   *\n   * @param key\n   * @param assetPaths asset paths relative to the .next directory\n   */\n  setPathsForKey(key: EntryKey, assetPaths: string[]): void {\n    this.delete(key)\n\n    const newAssetPaths = new Set(assetPaths)\n    this.entryMap.set(key, newAssetPaths)\n\n    for (const assetPath of newAssetPaths) {\n      let assetPathKeys = this.assetMap.get(assetPath)\n      if (!assetPathKeys) {\n        assetPathKeys = new Set()\n        this.assetMap.set(assetPath, assetPathKeys)\n      }\n\n      assetPathKeys!.add(key)\n    }\n  }\n\n  /**\n   * Deletes the key and any asset only referenced by this key.\n   *\n   * @param key\n   */\n  delete(key: EntryKey) {\n    for (const assetPath of this.getAssetPathsByKey(key)) {\n      const assetPathKeys = this.assetMap.get(assetPath)\n\n      assetPathKeys?.delete(key)\n\n      if (!assetPathKeys?.size) {\n        this.assetMap.delete(assetPath)\n      }\n    }\n\n    this.entryMap.delete(key)\n  }\n\n  getAssetPathsByKey(key: EntryKey): string[] {\n    return Array.from(this.entryMap.get(key) ?? [])\n  }\n\n  getKeysByAsset(path: string): EntryKey[] {\n    return Array.from(this.assetMap.get(path) ?? [])\n  }\n\n  keys(): IterableIterator<EntryKey> {\n    return this.entryMap.keys()\n  }\n}\n\nexport function hasEntrypointForKey(\n  entrypoints: Entrypoints,\n  key: EntryKey,\n  assetMapper: AssetMapper | undefined\n): boolean {\n  const { type, page } = splitEntryKey(key)\n\n  switch (type) {\n    case 'app':\n      return entrypoints.app.has(page)\n    case 'pages':\n      switch (page) {\n        case '_app':\n          return entrypoints.global.app != null\n        case '_document':\n          return entrypoints.global.document != null\n        case '_error':\n          return entrypoints.global.error != null\n        default:\n          return entrypoints.page.has(page)\n      }\n    case 'root':\n      switch (page) {\n        case 'middleware':\n          return entrypoints.global.middleware != null\n        case 'instrumentation':\n          return entrypoints.global.instrumentation != null\n        default:\n          return false\n      }\n    case 'assets':\n      if (!assetMapper) {\n        return false\n      }\n\n      return assetMapper\n        .getKeysByAsset(page)\n        .some((pageKey) =>\n          hasEntrypointForKey(entrypoints, pageKey, assetMapper)\n        )\n    default: {\n      // validation that we covered all cases, this should never run.\n      const _: never = type\n      return false\n    }\n  }\n}\n\n// hooks only used by the dev server.\ntype HandleEntrypointsHooks = {\n  handleWrittenEndpoint: HandleWrittenEndpoint\n  propagateServerField: (\n    field: PropagateToWorkersField,\n    args: any\n  ) => Promise<void>\n  sendHmr: SendHmr\n  startBuilding: StartBuilding\n  subscribeToChanges: StartChangeSubscription\n  unsubscribeFromChanges: StopChangeSubscription\n  unsubscribeFromHmrEvents: (client: ws, id: string) => void\n}\n\ntype HandleEntrypointsDevOpts = {\n  assetMapper: AssetMapper\n  changeSubscriptions: ChangeSubscriptions\n  clients: Array<ws>\n  clientStates: ClientStateMap\n  serverFields: ServerFields\n\n  hooks: HandleEntrypointsHooks\n}\n\nexport async function handleEntrypoints({\n  entrypoints,\n\n  currentEntrypoints,\n\n  currentEntryIssues,\n  manifestLoader,\n  devRewrites,\n  logErrors,\n  dev,\n}: {\n  entrypoints: TurbopackResult<RawEntrypoints>\n\n  currentEntrypoints: Entrypoints\n\n  currentEntryIssues: EntryIssuesMap\n  manifestLoader: TurbopackManifestLoader\n  devRewrites: SetupOpts['fsChecker']['rewrites'] | undefined\n  productionRewrites: CustomRoutes['rewrites'] | undefined\n  logErrors: boolean\n\n  dev: HandleEntrypointsDevOpts\n}) {\n  currentEntrypoints.global.app = entrypoints.pagesAppEndpoint\n  currentEntrypoints.global.document = entrypoints.pagesDocumentEndpoint\n  currentEntrypoints.global.error = entrypoints.pagesErrorEndpoint\n\n  currentEntrypoints.global.instrumentation = entrypoints.instrumentation\n\n  currentEntrypoints.page.clear()\n  currentEntrypoints.app.clear()\n\n  for (const [pathname, route] of entrypoints.routes) {\n    switch (route.type) {\n      case 'page':\n      case 'page-api':\n        currentEntrypoints.page.set(pathname, route)\n        break\n      case 'app-page': {\n        route.pages.forEach((page) => {\n          currentEntrypoints.app.set(page.originalName, {\n            type: 'app-page',\n            ...page,\n          })\n        })\n        break\n      }\n      case 'app-route': {\n        currentEntrypoints.app.set(route.originalName, route)\n        break\n      }\n      case 'conflict':\n        Log.info(`skipping ${pathname} (${route.type})`)\n        break\n      default:\n        route satisfies never\n    }\n  }\n\n  if (dev) {\n    await handleEntrypointsDevCleanup({\n      currentEntryIssues,\n      currentEntrypoints,\n\n      ...dev,\n    })\n  }\n\n  const { middleware, instrumentation } = entrypoints\n\n  // We check for explicit true/false, since it's initialized to\n  // undefined during the first loop (middlewareChanges event is\n  // unnecessary during the first serve)\n  if (currentEntrypoints.global.middleware && !middleware) {\n    const key = getEntryKey('root', 'server', 'middleware')\n    // Went from middleware to no middleware\n    await dev?.hooks.unsubscribeFromChanges(key)\n    currentEntryIssues.delete(key)\n    dev.hooks.sendHmr('middleware', {\n      type: HMR_MESSAGE_SENT_TO_BROWSER.MIDDLEWARE_CHANGES,\n    })\n  } else if (!currentEntrypoints.global.middleware && middleware) {\n    // Went from no middleware to middleware\n    dev.hooks.sendHmr('middleware', {\n      type: HMR_MESSAGE_SENT_TO_BROWSER.MIDDLEWARE_CHANGES,\n    })\n  }\n\n  currentEntrypoints.global.middleware = middleware\n\n  if (instrumentation) {\n    const processInstrumentation = async (\n      name: string,\n      prop: 'nodeJs' | 'edge'\n    ) => {\n      const prettyName = {\n        nodeJs: 'Node.js',\n        edge: 'Edge',\n      }\n      const finishBuilding = dev.hooks.startBuilding(\n        `instrumentation ${prettyName[prop]}`,\n        undefined,\n        true\n      )\n      const key = getEntryKey('root', 'server', name)\n\n      const writtenEndpoint = await instrumentation[prop].writeToDisk()\n      dev.hooks.handleWrittenEndpoint(key, writtenEndpoint, false)\n      processIssues(currentEntryIssues, key, writtenEndpoint, false, logErrors)\n      finishBuilding()\n    }\n    await processInstrumentation('instrumentation.nodeJs', 'nodeJs')\n    await processInstrumentation('instrumentation.edge', 'edge')\n    await manifestLoader.loadMiddlewareManifest(\n      'instrumentation',\n      'instrumentation'\n    )\n    manifestLoader.writeManifests({\n      devRewrites,\n      productionRewrites: undefined,\n      entrypoints: currentEntrypoints,\n    })\n\n    dev.serverFields.actualInstrumentationHookFile = '/instrumentation'\n    await dev.hooks.propagateServerField(\n      'actualInstrumentationHookFile',\n      dev.serverFields.actualInstrumentationHookFile\n    )\n  } else {\n    dev.serverFields.actualInstrumentationHookFile = undefined\n    await dev.hooks.propagateServerField(\n      'actualInstrumentationHookFile',\n      dev.serverFields.actualInstrumentationHookFile\n    )\n  }\n\n  if (middleware) {\n    const key = getEntryKey('root', 'server', 'middleware')\n\n    const endpoint = middleware.endpoint\n    const triggerName = middleware.isProxy\n      ? PROXY_FILENAME\n      : MIDDLEWARE_FILENAME\n\n    async function processMiddleware() {\n      const finishBuilding = dev.hooks.startBuilding(\n        triggerName,\n        undefined,\n        true\n      )\n      const writtenEndpoint = await endpoint.writeToDisk()\n      dev.hooks.handleWrittenEndpoint(key, writtenEndpoint, false)\n      processIssues(currentEntryIssues, key, writtenEndpoint, false, logErrors)\n      await manifestLoader.loadMiddlewareManifest('middleware', 'middleware')\n      const middlewareConfig =\n        manifestLoader.getMiddlewareManifest(key)?.middleware['/']\n\n      if (dev && middlewareConfig) {\n        dev.serverFields.middleware = {\n          match: null as any,\n          page: '/',\n          matchers: middlewareConfig.matchers,\n        }\n      }\n      finishBuilding()\n    }\n    await processMiddleware()\n\n    if (dev) {\n      dev?.hooks.subscribeToChanges(\n        key,\n        false,\n        endpoint,\n        async () => {\n          const finishBuilding = dev.hooks.startBuilding(\n            triggerName,\n            undefined,\n            true\n          )\n          await processMiddleware()\n          await dev.hooks.propagateServerField(\n            'actualMiddlewareFile',\n            dev.serverFields.actualMiddlewareFile\n          )\n          await dev.hooks.propagateServerField(\n            'middleware',\n            dev.serverFields.middleware\n          )\n          manifestLoader.writeManifests({\n            devRewrites,\n            productionRewrites: undefined,\n            entrypoints: currentEntrypoints,\n          })\n\n          finishBuilding?.()\n          return {\n            type: HMR_MESSAGE_SENT_TO_BROWSER.MIDDLEWARE_CHANGES,\n          }\n        },\n        () => {\n          return {\n            type: HMR_MESSAGE_SENT_TO_BROWSER.MIDDLEWARE_CHANGES,\n          }\n        }\n      )\n    }\n  } else {\n    manifestLoader.deleteMiddlewareManifest(\n      getEntryKey('root', 'server', 'middleware')\n    )\n    dev.serverFields.actualMiddlewareFile = undefined\n    dev.serverFields.middleware = undefined\n  }\n\n  await dev.hooks.propagateServerField(\n    'actualMiddlewareFile',\n    dev.serverFields.actualMiddlewareFile\n  )\n  await dev.hooks.propagateServerField(\n    'middleware',\n    dev.serverFields.middleware\n  )\n}\n\nasync function handleEntrypointsDevCleanup({\n  currentEntryIssues,\n  currentEntrypoints,\n\n  assetMapper,\n  changeSubscriptions,\n  clients,\n  clientStates,\n\n  hooks,\n}: {\n  currentEntrypoints: Entrypoints\n  currentEntryIssues: EntryIssuesMap\n} & HandleEntrypointsDevOpts) {\n  // this needs to be first as `hasEntrypointForKey` uses the `assetMapper`\n  for (const key of assetMapper.keys()) {\n    if (!hasEntrypointForKey(currentEntrypoints, key, assetMapper)) {\n      assetMapper.delete(key)\n    }\n  }\n\n  for (const key of changeSubscriptions.keys()) {\n    // middleware is handled separately\n    if (!hasEntrypointForKey(currentEntrypoints, key, assetMapper)) {\n      await hooks.unsubscribeFromChanges(key)\n    }\n  }\n\n  for (const [key] of currentEntryIssues) {\n    if (!hasEntrypointForKey(currentEntrypoints, key, assetMapper)) {\n      currentEntryIssues.delete(key)\n    }\n  }\n\n  for (const client of clients) {\n    const state = clientStates.get(client)\n    if (!state) {\n      continue\n    }\n\n    for (const key of state.clientIssues.keys()) {\n      if (!hasEntrypointForKey(currentEntrypoints, key, assetMapper)) {\n        state.clientIssues.delete(key)\n      }\n    }\n\n    for (const id of state.subscriptions.keys()) {\n      if (\n        !hasEntrypointForKey(\n          currentEntrypoints,\n          getEntryKey('assets', 'client', id),\n          assetMapper\n        )\n      ) {\n        hooks.unsubscribeFromHmrEvents(client, id)\n      }\n    }\n  }\n}\n\nexport async function handlePagesErrorRoute({\n  currentEntryIssues,\n  entrypoints,\n  manifestLoader,\n  devRewrites,\n  productionRewrites,\n  logErrors,\n  hooks,\n}: {\n  currentEntryIssues: EntryIssuesMap\n  entrypoints: Entrypoints\n  manifestLoader: TurbopackManifestLoader\n  devRewrites: SetupOpts['fsChecker']['rewrites'] | undefined\n  productionRewrites: CustomRoutes['rewrites'] | undefined\n  logErrors: boolean\n  hooks: HandleRouteTypeHooks\n}) {\n  if (entrypoints.global.app) {\n    const key = getEntryKey('pages', 'server', '_app')\n\n    const writtenEndpoint = await entrypoints.global.app.writeToDisk()\n    hooks.handleWrittenEndpoint(key, writtenEndpoint, false)\n    hooks.subscribeToChanges(\n      key,\n      false,\n      entrypoints.global.app,\n      () => {\n        // There's a special case for this in `../client/page-bootstrap.ts`.\n        // https://github.com/vercel/next.js/blob/08d7a7e5189a835f5dcb82af026174e587575c0e/packages/next/src/client/page-bootstrap.ts#L69-L71\n        return {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.CLIENT_CHANGES,\n        }\n      },\n      () => {\n        return {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n          data: '_app has changed (error route)',\n        }\n      }\n    )\n    processIssues(currentEntryIssues, key, writtenEndpoint, false, logErrors)\n  }\n  await manifestLoader.loadBuildManifest('_app')\n  await manifestLoader.loadPagesManifest('_app')\n  await manifestLoader.loadFontManifest('_app')\n\n  if (entrypoints.global.document) {\n    const key = getEntryKey('pages', 'server', '_document')\n\n    const writtenEndpoint = await entrypoints.global.document.writeToDisk()\n    hooks.handleWrittenEndpoint(key, writtenEndpoint, false)\n    hooks.subscribeToChanges(\n      key,\n      false,\n      entrypoints.global.document,\n      () => {\n        return {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n          data: '_document has changed (error route)',\n        }\n      },\n      (e) => {\n        return {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n          data: `error in _document subscription (error route): ${e}`,\n        }\n      }\n    )\n    processIssues(currentEntryIssues, key, writtenEndpoint, false, logErrors)\n  }\n  await manifestLoader.loadPagesManifest('_document')\n\n  if (entrypoints.global.error) {\n    const key = getEntryKey('pages', 'server', '_error')\n\n    const writtenEndpoint = await entrypoints.global.error.writeToDisk()\n    hooks.handleWrittenEndpoint(key, writtenEndpoint, false)\n    hooks.subscribeToChanges(\n      key,\n      false,\n      entrypoints.global.error,\n      () => {\n        // There's a special case for this in `../client/page-bootstrap.ts`.\n        // https://github.com/vercel/next.js/blob/08d7a7e5189a835f5dcb82af026174e587575c0e/packages/next/src/client/page-bootstrap.ts#L69-L71\n        return {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.CLIENT_CHANGES,\n        }\n      },\n      (e) => {\n        return {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n          data: `error in _error subscription: ${e}`,\n        }\n      }\n    )\n    processIssues(currentEntryIssues, key, writtenEndpoint, false, logErrors)\n  }\n  await manifestLoader.loadClientBuildManifest('_error')\n  await manifestLoader.loadBuildManifest('_error')\n  await manifestLoader.loadPagesManifest('_error')\n  await manifestLoader.loadFontManifest('_error')\n\n  manifestLoader.writeManifests({\n    devRewrites,\n    productionRewrites,\n    entrypoints,\n  })\n}\n\nexport function removeRouteSuffix(route: string): string {\n  return route.replace(/\\/route$/, '')\n}\n\nexport function addRouteSuffix(route: string): string {\n  return route + '/route'\n}\n\nexport function addMetadataIdToRoute(route: string): string {\n  return route + '/[__metadata_id__]'\n}\n\n// Since turbopack will create app pages/route entries based on the structure,\n// which means the entry keys are based on file names.\n// But for special metadata conventions we'll change the page/pathname to a different path.\n// So we need this helper to map the new path back to original turbopack entry key.\nexport function normalizedPageToTurbopackStructureRoute(\n  route: string,\n  ext: string | false\n): string {\n  let entrypointKey = route\n  if (isMetadataRoute(entrypointKey)) {\n    entrypointKey = entrypointKey.endsWith('/route')\n      ? entrypointKey.slice(0, -'/route'.length)\n      : entrypointKey\n\n    if (ext) {\n      if (entrypointKey.endsWith('/[__metadata_id__]')) {\n        entrypointKey = entrypointKey.slice(0, -'/[__metadata_id__]'.length)\n      }\n      if (entrypointKey.endsWith('/sitemap.xml') && ext !== '.xml') {\n        // For dynamic sitemap route, remove the extension\n        entrypointKey = entrypointKey.slice(0, -'.xml'.length)\n      }\n    }\n    entrypointKey = entrypointKey + '/route'\n  }\n  return entrypointKey\n}\n"],"names":["AssetMapper","addMetadataIdToRoute","addRouteSuffix","handleEntrypoints","handlePagesErrorRoute","handleRouteType","hasEntrypointForKey","msToNs","normalizedPageToTurbopackStructureRoute","printNonFatalIssue","processTopLevelIssues","removeRouteSuffix","onceErrorSet","Set","shouldEmitOnceWarning","issue","severity","title","stage","value","has","add","renderStyledStringToErrorAnsi","includes","isRelevantWarning","Log","warn","formatIssue","currentTopLevelIssues","result","clear","issues","issueKey","getIssueKey","set","MILLISECONDS_IN_NANOSECOND","BigInt","ms","Math","floor","dev","page","pathname","route","currentEntryIssues","entrypoints","manifestLoader","readyIds","devRewrites","productionRewrites","hooks","logErrors","shouldCreateWebpackStats","process","env","TURBOPACK_STATS","type","clientKey","getEntryKey","serverKey","documentOrAppChanged","global","app","key","writtenEndpoint","writeToDisk","handleWrittenEndpoint","processIssues","loadBuildManifest","loadPagesManifest","document","htmlEndpoint","loadClientBuildManifest","loadMiddlewareManifest","deleteMiddlewareManifest","loadFontManifest","loadWebpackStats","writeManifests","subscribeToChanges","dataEndpoint","delete","HMR_MESSAGE_SENT_TO_BROWSER","SERVER_ONLY_CHANGES","pages","e","RELOAD_PAGE","data","CLIENT_CHANGES","endpoint","rscEndpoint","change","hash","some","SERVER_COMPONENT_CHANGES","loadAppPathsManifest","loadActionManifest","Error","setPathsForKey","assetPaths","newAssetPaths","entryMap","assetPath","assetPathKeys","assetMap","get","getAssetPathsByKey","size","Array","from","getKeysByAsset","path","keys","Map","assetMapper","splitEntryKey","error","middleware","instrumentation","pageKey","_","currentEntrypoints","pagesAppEndpoint","pagesDocumentEndpoint","pagesErrorEndpoint","routes","forEach","originalName","info","handleEntrypointsDevCleanup","unsubscribeFromChanges","sendHmr","MIDDLEWARE_CHANGES","processInstrumentation","name","prop","prettyName","nodeJs","edge","finishBuilding","startBuilding","undefined","serverFields","actualInstrumentationHookFile","propagateServerField","triggerName","isProxy","PROXY_FILENAME","MIDDLEWARE_FILENAME","processMiddleware","middlewareConfig","getMiddlewareManifest","match","matchers","actualMiddlewareFile","changeSubscriptions","clients","clientStates","client","state","clientIssues","id","subscriptions","unsubscribeFromHmrEvents","replace","ext","entrypointKey","isMetadataRoute","endsWith","slice","length"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6389, "column": 0}, "map": {"version":3,"sources":["file:///home/user/JobPortal/frontend/node_modules/next/src/server/dev/hot-reloader-turbopack.ts"],"sourcesContent":["import type { Socket } from 'net'\nimport { mkdir, writeFile } from 'fs/promises'\nimport { join, extname, relative } from 'path'\nimport { pathToFileURL } from 'url'\n\nimport ws from 'next/dist/compiled/ws'\n\nimport type { OutputState } from '../../build/output/store'\nimport { store as consoleStore } from '../../build/output/store'\nimport type {\n  CompilationError,\n  HmrMessageSentToBrowser,\n  NextJsHotReloaderInterface,\n  ReloadPageMessage,\n  SyncMessage,\n  TurbopackConnectedMessage,\n} from './hot-reloader-types'\nimport { HMR_MESSAGE_SENT_TO_BROWSER } from './hot-reloader-types'\nimport type {\n  Update as TurbopackUpdate,\n  Endpoint,\n  WrittenEndpoint,\n  TurbopackResult,\n  Project,\n  Entrypoints,\n} from '../../build/swc/types'\nimport { createDefineEnv, getBindingsSync } from '../../build/swc'\nimport * as Log from '../../build/output/log'\nimport { BLOCKED_PAGES } from '../../shared/lib/constants'\nimport {\n  getOverlayMiddleware,\n  getSourceMapMiddleware,\n  getOriginalStackFrames,\n} from './middleware-turbopack'\nimport { PageNotFoundError } from '../../shared/lib/utils'\nimport { debounce } from '../utils'\nimport { deleteCache } from './require-cache'\nimport {\n  clearAllModuleContexts,\n  clearModuleContext,\n} from '../lib/render-server'\nimport { denormalizePagePath } from '../../shared/lib/page-path/denormalize-page-path'\nimport { trace } from '../../trace'\nimport {\n  AssetMapper,\n  type ChangeSubscriptions,\n  type ClientState,\n  handleEntrypoints,\n  handlePagesErrorRoute,\n  handleRouteType,\n  hasEntrypointForKey,\n  msToNs,\n  type ReadyIds,\n  type SendHmr,\n  type StartBuilding,\n  processTopLevelIssues,\n  printNonFatalIssue,\n  normalizedPageToTurbopackStructureRoute,\n} from './turbopack-utils'\nimport {\n  propagateServerField,\n  type ServerFields,\n  type SetupOpts,\n} from '../lib/router-utils/setup-dev-bundler'\nimport { TurbopackManifestLoader } from '../../shared/lib/turbopack/manifest-loader'\nimport { findPagePathData } from './on-demand-entry-handler'\nimport type { RouteDefinition } from '../route-definitions/route-definition'\nimport {\n  type EntryKey,\n  getEntryKey,\n  splitEntryKey,\n} from '../../shared/lib/turbopack/entry-key'\nimport {\n  createBinaryHmrMessageData,\n  FAST_REFRESH_RUNTIME_RELOAD,\n} from './messages'\nimport { generateEncryptionKeyBase64 } from '../app-render/encryption-utils-server'\nimport { isAppPageRouteDefinition } from '../route-definitions/app-page-route-definition'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\nimport type { ModernSourceMapPayload } from '../lib/source-maps'\nimport { getNodeDebugType, getParsedNodeOptions } from '../lib/utils'\nimport { isMetadataRouteFile } from '../../lib/metadata/is-metadata-route'\nimport { setBundlerFindSourceMapImplementation } from '../patch-error-inspect'\nimport { getNextErrorFeedbackMiddleware } from '../../next-devtools/server/get-next-error-feedback-middleware'\nimport {\n  formatIssue,\n  isFileSystemCacheEnabledForDev,\n  isWellKnownError,\n  processIssues,\n  renderStyledStringToErrorAnsi,\n  type EntryIssuesMap,\n  type IssuesMap,\n  type TopLevelIssuesMap,\n} from '../../shared/lib/turbopack/utils'\nimport { getDevOverlayFontMiddleware } from '../../next-devtools/server/font/get-dev-overlay-font-middleware'\nimport { devIndicatorServerState } from './dev-indicator-server-state'\nimport { getDisableDevIndicatorMiddleware } from '../../next-devtools/server/dev-indicator-middleware'\nimport { getRestartDevServerMiddleware } from '../../next-devtools/server/restart-dev-server-middleware'\nimport { backgroundLogCompilationEvents } from '../../shared/lib/turbopack/compilation-events'\nimport { getSupportedBrowsers, printBuildErrors } from '../../build/utils'\nimport {\n  receiveBrowserLogsTurbopack,\n  handleClientFileLogs,\n} from './browser-logs/receive-logs'\nimport { normalizePath } from '../../lib/normalize-path'\nimport {\n  devToolsConfigMiddleware,\n  getDevToolsConfig,\n} from '../../next-devtools/server/devtools-config-middleware'\nimport {\n  connectReactDebugChannel,\n  connectReactDebugChannelForHtmlRequest,\n  deleteReactDebugChannelForHtmlRequest,\n  setReactDebugChannelForHtmlRequest,\n} from './debug-channel'\nimport {\n  getVersionInfo,\n  matchNextPageBundleRequest,\n} from './hot-reloader-shared-utils'\nimport { getMcpMiddleware } from '../mcp/get-mcp-middleware'\nimport { handleErrorStateResponse } from '../mcp/tools/get-errors'\nimport { handlePageMetadataResponse } from '../mcp/tools/get-page-metadata'\nimport { setStackFrameResolver } from '../mcp/tools/utils/format-errors'\nimport { recordMcpTelemetry } from '../mcp/mcp-telemetry-tracker'\nimport { getFileLogger } from './browser-logs/file-logger'\nimport type { ServerCacheStatus } from '../../next-devtools/dev-overlay/cache-indicator'\nimport type { Lockfile } from '../../build/lockfile'\n\nconst wsServer = new ws.Server({ noServer: true })\nconst isTestMode = !!(\n  process.env.NEXT_TEST_MODE ||\n  process.env.__NEXT_TEST_MODE ||\n  process.env.DEBUG\n)\n\nconst sessionId = Math.floor(Number.MAX_SAFE_INTEGER * Math.random())\n\ndeclare const __next__clear_chunk_cache__: (() => void) | null | undefined\n\n/**\n * Replaces turbopack:///[project] with the specified project in the `source` field.\n */\nfunction rewriteTurbopackSources(\n  projectRoot: string,\n  sourceMap: ModernSourceMapPayload\n): void {\n  if ('sections' in sourceMap) {\n    for (const section of sourceMap.sections) {\n      rewriteTurbopackSources(projectRoot, section.map)\n    }\n  } else {\n    for (let i = 0; i < sourceMap.sources.length; i++) {\n      sourceMap.sources[i] = pathToFileURL(\n        join(\n          projectRoot,\n          sourceMap.sources[i].replace(/turbopack:\\/\\/\\/\\[project\\]/, '')\n        )\n      ).toString()\n    }\n  }\n}\n\nfunction getSourceMapFromTurbopack(\n  project: Project,\n  projectRoot: string,\n  sourceURL: string\n): ModernSourceMapPayload | undefined {\n  let sourceMapJson: string | null = null\n\n  try {\n    sourceMapJson = project.getSourceMapSync(sourceURL)\n  } catch (err) {}\n\n  if (sourceMapJson === null) {\n    return undefined\n  } else {\n    const payload: ModernSourceMapPayload = JSON.parse(sourceMapJson)\n    // The sourcemap from Turbopack is not yet written to disk so its `sources`\n    // are not absolute paths yet. We need to rewrite them to be absolute paths.\n    rewriteTurbopackSources(projectRoot, payload)\n    return payload\n  }\n}\n\nexport async function createHotReloaderTurbopack(\n  opts: SetupOpts & { isSrcDir: boolean },\n  serverFields: ServerFields,\n  distDir: string,\n  resetFetch: () => void,\n  lockfile: Lockfile | undefined\n): Promise<NextJsHotReloaderInterface> {\n  const dev = true\n  const buildId = 'development'\n  const { nextConfig, dir: projectPath } = opts\n\n  const bindings = getBindingsSync()\n\n  // For the debugging purpose, check if createNext or equivalent next instance setup in test cases\n  // works correctly. Normally `run-test` hides output so only will be visible when `--debug` flag is used.\n  if (isTestMode) {\n    ;(require('console') as typeof import('console')).log(\n      'Creating turbopack project',\n      {\n        dir: projectPath,\n        testMode: isTestMode,\n      }\n    )\n  }\n\n  const hasRewrites =\n    opts.fsChecker.rewrites.afterFiles.length > 0 ||\n    opts.fsChecker.rewrites.beforeFiles.length > 0 ||\n    opts.fsChecker.rewrites.fallback.length > 0\n\n  const hotReloaderSpan = trace('hot-reloader', undefined, {\n    version: process.env.__NEXT_VERSION as string,\n  })\n  // Ensure the hotReloaderSpan is flushed immediately as it's the parentSpan for all processing\n  // of the current `next dev` invocation.\n  hotReloaderSpan.stop()\n\n  // Initialize log monitor for file logging\n  // Enable logging by default in development mode\n  const mcpServerEnabled = !!nextConfig.experimental.mcpServer\n  const fileLogger = getFileLogger()\n  fileLogger.initialize(distDir, mcpServerEnabled)\n\n  const encryptionKey = await generateEncryptionKeyBase64({\n    isBuild: false,\n    distDir,\n  })\n\n  // TODO: Implement\n  let clientRouterFilters: any\n  if (nextConfig.experimental.clientRouterFilter) {\n    // TODO this need to be set correctly for filesystem cache to work\n  }\n\n  const supportedBrowsers = getSupportedBrowsers(projectPath, dev)\n  const currentNodeJsVersion = process.versions.node\n\n  const rootPath =\n    opts.nextConfig.turbopack?.root ||\n    opts.nextConfig.outputFileTracingRoot ||\n    projectPath\n  const project = await bindings.turbo.createProject(\n    {\n      rootPath,\n      projectPath: normalizePath(relative(rootPath, projectPath) || '.'),\n      distDir,\n      nextConfig: opts.nextConfig,\n      watch: {\n        enable: dev,\n        pollIntervalMs: nextConfig.watchOptions?.pollIntervalMs,\n      },\n      dev,\n      env: process.env as Record<string, string>,\n      defineEnv: createDefineEnv({\n        isTurbopack: true,\n        clientRouterFilters,\n        config: nextConfig,\n        dev,\n        distDir,\n        projectPath,\n        fetchCacheKeyPrefix: opts.nextConfig.experimental.fetchCacheKeyPrefix,\n        hasRewrites,\n        // TODO: Implement\n        middlewareMatchers: undefined,\n        rewrites: opts.fsChecker.rewrites,\n      }),\n      buildId,\n      encryptionKey,\n      previewProps: opts.fsChecker.prerenderManifest.preview,\n      browserslistQuery: supportedBrowsers.join(', '),\n      noMangling: false,\n      currentNodeJsVersion,\n    },\n    {\n      persistentCaching: isFileSystemCacheEnabledForDev(opts.nextConfig),\n      memoryLimit: opts.nextConfig.experimental?.turbopackMemoryLimit,\n      isShortSession: false,\n    }\n  )\n  backgroundLogCompilationEvents(project, {\n    eventTypes: ['StartupCacheInvalidationEvent', 'TimingEvent'],\n  })\n  setBundlerFindSourceMapImplementation(\n    getSourceMapFromTurbopack.bind(null, project, projectPath)\n  )\n  opts.onDevServerCleanup?.(async () => {\n    setBundlerFindSourceMapImplementation(() => undefined)\n    await project.onExit()\n    await lockfile?.unlock()\n  })\n  const entrypointsSubscription = project.entrypointsSubscribe()\n\n  const currentWrittenEntrypoints: Map<EntryKey, WrittenEndpoint> = new Map()\n  const currentEntrypoints: Entrypoints = {\n    global: {\n      app: undefined,\n      document: undefined,\n      error: undefined,\n\n      middleware: undefined,\n      instrumentation: undefined,\n    },\n\n    page: new Map(),\n    app: new Map(),\n  }\n\n  const currentTopLevelIssues: TopLevelIssuesMap = new Map()\n  const currentEntryIssues: EntryIssuesMap = new Map()\n\n  const manifestLoader = new TurbopackManifestLoader({\n    buildId,\n    distDir,\n    encryptionKey,\n  })\n\n  // Dev specific\n  const changeSubscriptions: ChangeSubscriptions = new Map()\n  const serverPathState = new Map<string, string>()\n  const readyIds: ReadyIds = new Set()\n  let currentEntriesHandlingResolve: ((value?: unknown) => void) | undefined\n  let currentEntriesHandling = new Promise(\n    (resolve) => (currentEntriesHandlingResolve = resolve)\n  )\n\n  const assetMapper = new AssetMapper()\n\n  function clearRequireCache(\n    key: EntryKey,\n    writtenEndpoint: WrittenEndpoint,\n    {\n      force,\n    }: {\n      // Always clear the cache, don't check if files have changed\n      force?: boolean\n    } = {}\n  ): boolean {\n    if (force) {\n      for (const { path, contentHash } of writtenEndpoint.serverPaths) {\n        // We ignore source maps\n        if (path.endsWith('.map')) continue\n        const localKey = `${key}:${path}`\n        serverPathState.set(localKey, contentHash)\n        serverPathState.set(path, contentHash)\n      }\n    } else {\n      // Figure out if the server files have changed\n      let hasChange = false\n      for (const { path, contentHash } of writtenEndpoint.serverPaths) {\n        // We ignore source maps\n        if (path.endsWith('.map')) continue\n        const localKey = `${key}:${path}`\n        const localHash = serverPathState.get(localKey)\n        const globalHash = serverPathState.get(path)\n        if (\n          (localHash && localHash !== contentHash) ||\n          (globalHash && globalHash !== contentHash)\n        ) {\n          hasChange = true\n          serverPathState.set(localKey, contentHash)\n          serverPathState.set(path, contentHash)\n        } else {\n          if (!localHash) {\n            serverPathState.set(localKey, contentHash)\n          }\n          if (!globalHash) {\n            serverPathState.set(path, contentHash)\n          }\n        }\n      }\n\n      if (!hasChange) {\n        return false\n      }\n    }\n\n    resetFetch()\n\n    // Not available in:\n    // - Pages Router (no server-side HMR)\n    // - Edge Runtime (uses browser runtime which already disposes chunks individually)\n    if (typeof __next__clear_chunk_cache__ === 'function') {\n      __next__clear_chunk_cache__()\n    }\n\n    const serverPaths = writtenEndpoint.serverPaths.map(({ path: p }) =>\n      join(distDir, p)\n    )\n\n    for (const file of serverPaths) {\n      clearModuleContext(file)\n      deleteCache(file)\n    }\n\n    return true\n  }\n\n  const buildingIds = new Set()\n\n  const startBuilding: StartBuilding = (id, requestUrl, forceRebuild) => {\n    if (!forceRebuild && readyIds.has(id)) {\n      return () => {}\n    }\n    if (buildingIds.size === 0) {\n      consoleStore.setState(\n        {\n          loading: true,\n          trigger: id,\n          url: requestUrl,\n        } as OutputState,\n        true\n      )\n    }\n    buildingIds.add(id)\n    return function finishBuilding() {\n      if (buildingIds.size === 0) {\n        return\n      }\n      readyIds.add(id)\n      buildingIds.delete(id)\n      if (buildingIds.size === 0) {\n        hmrEventHappened = false\n        consoleStore.setState(\n          {\n            loading: false,\n          } as OutputState,\n          true\n        )\n      }\n    }\n  }\n\n  let hmrEventHappened = false\n  let hmrHash = 0\n\n  const clientsWithoutHtmlRequestId = new Set<ws>()\n  const clientsByHtmlRequestId = new Map<string, ws>()\n  const cacheStatusesByHtmlRequestId = new Map<string, ServerCacheStatus>()\n  const clientStates = new WeakMap<ws, ClientState>()\n\n  function sendToClient(client: ws, message: HmrMessageSentToBrowser) {\n    const data =\n      typeof message.type === 'number'\n        ? createBinaryHmrMessageData(message)\n        : JSON.stringify(message)\n\n    client.send(data)\n  }\n\n  function sendEnqueuedMessages() {\n    for (const [, issueMap] of currentEntryIssues) {\n      if (\n        [...issueMap.values()].filter((i) => i.severity !== 'warning').length >\n        0\n      ) {\n        // During compilation errors we want to delay the HMR events until errors are fixed\n        return\n      }\n    }\n\n    for (const client of [\n      ...clientsWithoutHtmlRequestId,\n      ...clientsByHtmlRequestId.values(),\n    ]) {\n      const state = clientStates.get(client)\n      if (!state) {\n        continue\n      }\n\n      for (const [, issueMap] of state.clientIssues) {\n        if (\n          [...issueMap.values()].filter((i) => i.severity !== 'warning')\n            .length > 0\n        ) {\n          // During compilation errors we want to delay the HMR events until errors are fixed\n          return\n        }\n      }\n\n      for (const message of state.messages.values()) {\n        sendToClient(client, message)\n      }\n      state.messages.clear()\n\n      if (state.turbopackUpdates.length > 0) {\n        sendToClient(client, {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.TURBOPACK_MESSAGE,\n          data: state.turbopackUpdates,\n        })\n        state.turbopackUpdates.length = 0\n      }\n    }\n  }\n  const sendEnqueuedMessagesDebounce = debounce(sendEnqueuedMessages, 2)\n\n  const sendHmr: SendHmr = (id: string, message: HmrMessageSentToBrowser) => {\n    for (const client of [\n      ...clientsWithoutHtmlRequestId,\n      ...clientsByHtmlRequestId.values(),\n    ]) {\n      clientStates.get(client)?.messages.set(id, message)\n    }\n\n    hmrEventHappened = true\n    sendEnqueuedMessagesDebounce()\n  }\n\n  function sendTurbopackMessage(payload: TurbopackUpdate) {\n    // TODO(PACK-2049): For some reason we end up emitting hundreds of issues messages on bigger apps,\n    //   a lot of which are duplicates.\n    //   They are currently not handled on the client at all, so might as well not send them for now.\n    payload.diagnostics = []\n    payload.issues = []\n\n    for (const client of [\n      ...clientsWithoutHtmlRequestId,\n      ...clientsByHtmlRequestId.values(),\n    ]) {\n      clientStates.get(client)?.turbopackUpdates.push(payload)\n    }\n\n    hmrEventHappened = true\n    sendEnqueuedMessagesDebounce()\n  }\n\n  async function subscribeToChanges(\n    key: EntryKey,\n    includeIssues: boolean,\n    endpoint: Endpoint,\n    createMessage: (\n      change: TurbopackResult,\n      hash: string\n    ) => Promise<HmrMessageSentToBrowser> | HmrMessageSentToBrowser | void,\n    onError?: (\n      error: Error\n    ) => Promise<HmrMessageSentToBrowser> | HmrMessageSentToBrowser | void\n  ) {\n    if (changeSubscriptions.has(key)) {\n      return\n    }\n\n    const { side } = splitEntryKey(key)\n\n    const changedPromise = endpoint[`${side}Changed`](includeIssues)\n    changeSubscriptions.set(key, changedPromise)\n    try {\n      const changed = await changedPromise\n\n      for await (const change of changed) {\n        processIssues(currentEntryIssues, key, change, false, true)\n        // TODO: Get an actual content hash from Turbopack.\n        const message = await createMessage(change, String(++hmrHash))\n        if (message) {\n          sendHmr(key, message)\n        }\n      }\n    } catch (e) {\n      changeSubscriptions.delete(key)\n      const payload = await onError?.(e as Error)\n      if (payload) {\n        sendHmr(key, payload)\n      }\n      return\n    }\n    changeSubscriptions.delete(key)\n  }\n\n  async function unsubscribeFromChanges(key: EntryKey) {\n    const subscription = await changeSubscriptions.get(key)\n    if (subscription) {\n      await subscription.return?.()\n      changeSubscriptions.delete(key)\n    }\n    currentEntryIssues.delete(key)\n  }\n\n  async function subscribeToHmrEvents(client: ws, id: string) {\n    const key = getEntryKey('assets', 'client', id)\n    if (!hasEntrypointForKey(currentEntrypoints, key, assetMapper)) {\n      // maybe throw an error / force the client to reload?\n      return\n    }\n\n    const state = clientStates.get(client)\n    if (!state || state.subscriptions.has(id)) {\n      return\n    }\n\n    const subscription = project!.hmrEvents(id)\n    state.subscriptions.set(id, subscription)\n\n    // The subscription will always emit once, which is the initial\n    // computation. This is not a change, so swallow it.\n    try {\n      await subscription.next()\n\n      for await (const data of subscription) {\n        processIssues(state.clientIssues, key, data, false, true)\n        if (data.type !== 'issues') {\n          sendTurbopackMessage(data)\n        }\n      }\n    } catch (e) {\n      // The client might be using an HMR session from a previous server, tell them\n      // to fully reload the page to resolve the issue. We can't use\n      // `hotReloader.send` since that would force every connected client to\n      // reload, only this client is out of date.\n      const reloadMessage: ReloadPageMessage = {\n        type: HMR_MESSAGE_SENT_TO_BROWSER.RELOAD_PAGE,\n        data: `error in HMR event subscription for ${id}: ${e}`,\n      }\n      sendToClient(client, reloadMessage)\n      client.close()\n      return\n    }\n  }\n\n  function unsubscribeFromHmrEvents(client: ws, id: string) {\n    const state = clientStates.get(client)\n    if (!state) {\n      return\n    }\n\n    const subscription = state.subscriptions.get(id)\n    subscription?.return!()\n\n    const key = getEntryKey('assets', 'client', id)\n    state.clientIssues.delete(key)\n  }\n\n  async function handleEntrypointsSubscription() {\n    for await (const entrypoints of entrypointsSubscription) {\n      if (!currentEntriesHandlingResolve) {\n        currentEntriesHandling = new Promise(\n          // eslint-disable-next-line no-loop-func\n          (resolve) => (currentEntriesHandlingResolve = resolve)\n        )\n      }\n\n      // Always process issues/diagnostics, even if there are no entrypoints yet\n      processTopLevelIssues(currentTopLevelIssues, entrypoints)\n\n      // Certain crtical issues prevent any entrypoints from being constructed so return early\n      if (!('routes' in entrypoints)) {\n        printBuildErrors(entrypoints, true)\n\n        currentEntriesHandlingResolve!()\n        currentEntriesHandlingResolve = undefined\n        continue\n      }\n\n      const routes = entrypoints.routes\n      const existingRoutes = [\n        ...currentEntrypoints.app.keys(),\n        ...currentEntrypoints.page.keys(),\n      ]\n      const newRoutes = [...routes.keys()]\n\n      const addedRoutes = newRoutes.filter(\n        (route) =>\n          !currentEntrypoints.app.has(route) &&\n          !currentEntrypoints.page.has(route)\n      )\n      const removedRoutes = existingRoutes.filter((route) => !routes.has(route))\n\n      await handleEntrypoints({\n        entrypoints: entrypoints as any,\n\n        currentEntrypoints,\n\n        currentEntryIssues,\n        manifestLoader,\n        devRewrites: opts.fsChecker.rewrites,\n        productionRewrites: undefined,\n        logErrors: true,\n\n        dev: {\n          assetMapper,\n          changeSubscriptions,\n          clients: [\n            ...clientsWithoutHtmlRequestId,\n            ...clientsByHtmlRequestId.values(),\n          ],\n          clientStates,\n          serverFields,\n\n          hooks: {\n            handleWrittenEndpoint: (id, result, forceDeleteCache) => {\n              currentWrittenEntrypoints.set(id, result)\n              return clearRequireCache(id, result, { force: forceDeleteCache })\n            },\n            propagateServerField: propagateServerField.bind(null, opts),\n            sendHmr,\n            startBuilding,\n            subscribeToChanges,\n            unsubscribeFromChanges,\n            unsubscribeFromHmrEvents,\n          },\n        },\n      })\n\n      // Reload matchers when the files have been compiled\n      await propagateServerField(opts, 'reloadMatchers', undefined)\n\n      if (addedRoutes.length > 0 || removedRoutes.length > 0) {\n        // When the list of routes changes a new manifest should be fetched for Pages Router.\n        hotReloader.send({\n          type: HMR_MESSAGE_SENT_TO_BROWSER.DEV_PAGES_MANIFEST_UPDATE,\n          data: [\n            {\n              devPagesManifest: true,\n            },\n          ],\n        })\n      }\n\n      for (const route of addedRoutes) {\n        hotReloader.send({\n          type: HMR_MESSAGE_SENT_TO_BROWSER.ADDED_PAGE,\n          data: [route],\n        })\n      }\n\n      for (const route of removedRoutes) {\n        hotReloader.send({\n          type: HMR_MESSAGE_SENT_TO_BROWSER.REMOVED_PAGE,\n          data: [route],\n        })\n      }\n\n      currentEntriesHandlingResolve!()\n      currentEntriesHandlingResolve = undefined\n    }\n  }\n\n  await mkdir(join(distDir, 'server'), { recursive: true })\n  await mkdir(join(distDir, 'static', buildId), { recursive: true })\n  await writeFile(\n    join(distDir, 'package.json'),\n    JSON.stringify(\n      {\n        type: 'commonjs',\n      },\n      null,\n      2\n    )\n  )\n\n  const middlewares = [\n    getOverlayMiddleware({\n      project,\n      projectPath,\n      isSrcDir: opts.isSrcDir,\n    }),\n    getSourceMapMiddleware(project),\n    getNextErrorFeedbackMiddleware(opts.telemetry),\n    getDevOverlayFontMiddleware(),\n    getDisableDevIndicatorMiddleware(),\n    getRestartDevServerMiddleware({\n      telemetry: opts.telemetry,\n      turbopackProject: project,\n    }),\n    devToolsConfigMiddleware({\n      distDir,\n      sendUpdateSignal: (data) => {\n        hotReloader.send({\n          type: HMR_MESSAGE_SENT_TO_BROWSER.DEVTOOLS_CONFIG,\n          data,\n        })\n      },\n    }),\n    ...(nextConfig.experimental.mcpServer\n      ? [\n          getMcpMiddleware({\n            projectPath,\n            distDir,\n            nextConfig,\n            pagesDir: opts.pagesDir,\n            appDir: opts.appDir,\n            sendHmrMessage: (message) => hotReloader.send(message),\n            getActiveConnectionCount: () =>\n              clientsWithoutHtmlRequestId.size + clientsByHtmlRequestId.size,\n            getDevServerUrl: () => process.env.__NEXT_PRIVATE_ORIGIN,\n          }),\n        ]\n      : []),\n  ]\n\n  setStackFrameResolver(async (request) => {\n    return getOriginalStackFrames({\n      project,\n      projectPath,\n      isServer: request.isServer,\n      isEdgeServer: request.isEdgeServer,\n      isAppDirectory: request.isAppDirectory,\n      frames: request.frames,\n    })\n  })\n\n  let versionInfoCached: ReturnType<typeof getVersionInfo> | undefined\n  // This fetch, even though not awaited, is not kicked off eagerly because the first `fetch()` in\n  // Node.js adds roughly 20ms main-thread blocking to load the SSL certificate cache\n  // We don't want that blocking time to be in the hot path for the `ready in` logging.\n  // Instead, the fetch is kicked off lazily when the first `getVersionInfoCached()` is called.\n  const getVersionInfoCached = (): ReturnType<typeof getVersionInfo> => {\n    if (!versionInfoCached) {\n      versionInfoCached = getVersionInfo()\n    }\n    return versionInfoCached\n  }\n\n  let devtoolsFrontendUrl: string | undefined\n  const nodeOptions = getParsedNodeOptions()\n  const nodeDebugType = getNodeDebugType(nodeOptions)\n  if (nodeDebugType) {\n    const debugPort = process.debugPort\n    let debugInfo\n    try {\n      // It requires to use 127.0.0.1 instead of localhost for server-side fetching.\n      const debugInfoList = await fetch(\n        `http://127.0.0.1:${debugPort}/json/list`\n      ).then((res) => res.json())\n      debugInfo = debugInfoList[0]\n    } catch {}\n    if (debugInfo) {\n      devtoolsFrontendUrl = debugInfo.devtoolsFrontendUrl\n    }\n  }\n\n  const hotReloader: NextJsHotReloaderInterface = {\n    turbopackProject: project,\n    activeWebpackConfigs: undefined,\n    serverStats: null,\n    edgeServerStats: null,\n    async run(req, res, _parsedUrl) {\n      // intercept page chunks request and ensure them with turbopack\n      if (req.url?.startsWith('/_next/static/chunks/pages/')) {\n        const params = matchNextPageBundleRequest(req.url)\n\n        if (params) {\n          const decodedPagePath = `/${params.path\n            .map((param: string) => decodeURIComponent(param))\n            .join('/')}`\n\n          const denormalizedPagePath = denormalizePagePath(decodedPagePath)\n\n          await hotReloader\n            .ensurePage({\n              page: denormalizedPagePath,\n              clientOnly: false,\n              definition: undefined,\n              url: req.url,\n            })\n            .catch(console.error)\n        }\n      }\n\n      for (const middleware of middlewares) {\n        let calledNext = false\n\n        await middleware(req, res, () => {\n          calledNext = true\n        })\n\n        if (!calledNext) {\n          return { finished: true }\n        }\n      }\n\n      // Request was not finished.\n      return { finished: undefined }\n    },\n\n    // TODO: Figure out if socket type can match the NextJsHotReloaderInterface\n    onHMR(req, socket: Socket, head, onUpgrade) {\n      wsServer.handleUpgrade(req, socket, head, (client) => {\n        const clientIssues: EntryIssuesMap = new Map()\n        const subscriptions: Map<string, AsyncIterator<any>> = new Map()\n\n        const htmlRequestId = req.url\n          ? new URL(req.url, 'http://n').searchParams.get('id')\n          : null\n\n        // Clients with a request ID are inferred App Router clients. If Cache\n        // Components is not enabled, we consider those legacy clients. Pages\n        // Router clients are also considered legacy clients. TODO: Maybe mark\n        // clients as App Router / Pages Router clients explicitly, instead of\n        // inferring it from the presence of a request ID.\n        if (htmlRequestId) {\n          clientsByHtmlRequestId.set(htmlRequestId, client)\n          const enableCacheComponents = nextConfig.cacheComponents\n          if (enableCacheComponents) {\n            onUpgrade(client, { isLegacyClient: false })\n            const cacheStatus = cacheStatusesByHtmlRequestId.get(htmlRequestId)\n            if (cacheStatus !== undefined) {\n              sendToClient(client, {\n                type: HMR_MESSAGE_SENT_TO_BROWSER.CACHE_INDICATOR,\n                state: cacheStatus,\n              })\n              cacheStatusesByHtmlRequestId.delete(htmlRequestId)\n            }\n          } else {\n            onUpgrade(client, { isLegacyClient: true })\n          }\n        } else {\n          clientsWithoutHtmlRequestId.add(client)\n          onUpgrade(client, { isLegacyClient: true })\n        }\n\n        clientStates.set(client, {\n          clientIssues,\n          messages: new Map(),\n          turbopackUpdates: [],\n          subscriptions,\n        })\n\n        client.on('close', () => {\n          // Remove active subscriptions\n          for (const subscription of subscriptions.values()) {\n            subscription.return?.()\n          }\n          clientStates.delete(client)\n\n          if (htmlRequestId) {\n            clientsByHtmlRequestId.delete(htmlRequestId)\n            deleteReactDebugChannelForHtmlRequest(htmlRequestId)\n          } else {\n            clientsWithoutHtmlRequestId.delete(client)\n          }\n        })\n\n        client.addEventListener('message', async ({ data }) => {\n          const parsedData = JSON.parse(\n            typeof data !== 'string' ? data.toString() : data\n          )\n\n          // Next.js messages\n          switch (parsedData.event) {\n            case 'span-end': {\n              hotReloaderSpan.manualTraceChild(\n                parsedData.spanName,\n                msToNs(parsedData.startTime),\n                msToNs(parsedData.endTime),\n                parsedData.attributes\n              )\n              break\n            }\n            case 'client-hmr-latency': // { id, startTime, endTime, page, updatedModules, isPageHidden }\n              hotReloaderSpan.manualTraceChild(\n                parsedData.event,\n                msToNs(parsedData.startTime),\n                msToNs(parsedData.endTime),\n                {\n                  updatedModules: parsedData.updatedModules,\n                  page: parsedData.page,\n                  isPageHidden: parsedData.isPageHidden,\n                }\n              )\n              break\n\n            case 'client-error': // { errorCount, clientId }\n            case 'client-warning': // { warningCount, clientId }\n            case 'client-success': // { clientId }\n            case 'server-component-reload-page': // { clientId }\n            case 'client-reload-page': // { clientId }\n            case 'client-removed-page': // { page }\n            case 'client-full-reload': // { stackTrace, hadRuntimeError }\n              const { hadRuntimeError, dependencyChain } = parsedData\n              if (hadRuntimeError) {\n                Log.warn(FAST_REFRESH_RUNTIME_RELOAD)\n              }\n              if (\n                Array.isArray(dependencyChain) &&\n                typeof dependencyChain[0] === 'string'\n              ) {\n                const cleanedModulePath = dependencyChain[0]\n                  .replace(/^\\[project\\]/, '.')\n                  .replace(/ \\[.*\\] \\(.*\\)$/, '')\n                Log.warn(\n                  `Fast Refresh had to perform a full reload when ${cleanedModulePath} changed. Read more: https://nextjs.org/docs/messages/fast-refresh-reload`\n                )\n              }\n              break\n            case 'client-added-page':\n              // TODO\n              break\n            case 'browser-logs': {\n              if (nextConfig.experimental.browserDebugInfoInTerminal) {\n                await receiveBrowserLogsTurbopack({\n                  entries: parsedData.entries,\n                  router: parsedData.router,\n                  sourceType: parsedData.sourceType,\n                  project,\n                  projectPath,\n                  distDir,\n                  config: nextConfig.experimental.browserDebugInfoInTerminal,\n                })\n              }\n              break\n            }\n            case 'client-file-logs': {\n              // Always log to file regardless of terminal flag\n              await handleClientFileLogs(parsedData.logs)\n              break\n            }\n            case 'ping': {\n              // Handle ping events to keep WebSocket connections alive\n              // No-op - just acknowledge the ping\n              break\n            }\n\n            case 'mcp-error-state-response': {\n              handleErrorStateResponse(\n                parsedData.requestId,\n                parsedData.errorState,\n                parsedData.url\n              )\n              break\n            }\n\n            case 'mcp-page-metadata-response': {\n              handlePageMetadataResponse(\n                parsedData.requestId,\n                parsedData.segmentTrieData,\n                parsedData.url\n              )\n              break\n            }\n\n            default:\n              // Might be a Turbopack message...\n              if (!parsedData.type) {\n                throw new Error(`unrecognized HMR message \"${data}\"`)\n              }\n          }\n\n          // Turbopack messages\n          switch (parsedData.type) {\n            case 'turbopack-subscribe':\n              subscribeToHmrEvents(client, parsedData.path)\n              break\n\n            case 'turbopack-unsubscribe':\n              unsubscribeFromHmrEvents(client, parsedData.path)\n              break\n\n            default:\n              if (!parsedData.event) {\n                throw new Error(`unrecognized Turbopack HMR message \"${data}\"`)\n              }\n          }\n        })\n\n        const turbopackConnectedMessage: TurbopackConnectedMessage = {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.TURBOPACK_CONNECTED,\n          data: { sessionId },\n        }\n        sendToClient(client, turbopackConnectedMessage)\n\n        const errors: CompilationError[] = []\n\n        for (const entryIssues of currentEntryIssues.values()) {\n          for (const issue of entryIssues.values()) {\n            if (issue.severity !== 'warning') {\n              errors.push({\n                message: formatIssue(issue),\n              })\n            } else {\n              printNonFatalIssue(issue)\n            }\n          }\n        }\n\n        if (devIndicatorServerState.disabledUntil < Date.now()) {\n          devIndicatorServerState.disabledUntil = 0\n        }\n\n        ;(async function () {\n          const versionInfo = await getVersionInfoCached()\n          const devToolsConfig = await getDevToolsConfig(distDir)\n\n          const syncMessage: SyncMessage = {\n            type: HMR_MESSAGE_SENT_TO_BROWSER.SYNC,\n            errors,\n            warnings: [],\n            hash: '',\n            versionInfo,\n            debug: {\n              devtoolsFrontendUrl,\n            },\n            devIndicator: devIndicatorServerState,\n            devToolsConfig,\n          }\n\n          sendToClient(client, syncMessage)\n\n          if (htmlRequestId) {\n            connectReactDebugChannelForHtmlRequest(\n              htmlRequestId,\n              sendToClient.bind(null, client)\n            )\n          }\n        })()\n      })\n    },\n\n    send(action) {\n      const payload = JSON.stringify(action)\n\n      for (const client of [\n        ...clientsWithoutHtmlRequestId,\n        ...clientsByHtmlRequestId.values(),\n      ]) {\n        client.send(payload)\n      }\n    },\n\n    sendToLegacyClients(action) {\n      const payload = JSON.stringify(action)\n\n      // Clients with a request ID are inferred App Router clients. If Cache\n      // Components is not enabled, we consider those legacy clients. Pages\n      // Router clients are also considered legacy clients. TODO: Maybe mark\n      // clients as App Router / Pages Router clients explicitly, instead of\n      // inferring it from the presence of a request ID.\n\n      if (!nextConfig.cacheComponents) {\n        for (const client of clientsByHtmlRequestId.values()) {\n          client.send(payload)\n        }\n      }\n\n      for (const client of clientsWithoutHtmlRequestId) {\n        client.send(payload)\n      }\n    },\n\n    setCacheStatus(status: ServerCacheStatus, htmlRequestId: string): void {\n      // Legacy clients don't have Cache Components.\n      const client = clientsByHtmlRequestId.get(htmlRequestId)\n      if (client !== undefined) {\n        sendToClient(client, {\n          type: HMR_MESSAGE_SENT_TO_BROWSER.CACHE_INDICATOR,\n          state: status,\n        })\n      } else {\n        // If the client is not connected, store the status so that we can send it\n        // when the client connects.\n        cacheStatusesByHtmlRequestId.set(htmlRequestId, status)\n      }\n    },\n\n    setReactDebugChannel(debugChannel, htmlRequestId, requestId) {\n      const client = clientsByHtmlRequestId.get(htmlRequestId)\n\n      if (htmlRequestId === requestId) {\n        // The debug channel is for the HTML request.\n        if (client) {\n          // If the client is connected, we can connect the debug channel for\n          // the HTML request immediately.\n          connectReactDebugChannel(\n            htmlRequestId,\n            debugChannel,\n            sendToClient.bind(null, client)\n          )\n        } else {\n          // Otherwise, we'll do that when the client connects and just store\n          // the debug channel.\n          setReactDebugChannelForHtmlRequest(htmlRequestId, debugChannel)\n        }\n      } else if (client) {\n        // The debug channel is for a subsequent request (e.g. client-side\n        // navigation for server function call). If the client is not connected\n        // anymore, we don't need to connect the debug channel.\n        connectReactDebugChannel(\n          requestId,\n          debugChannel,\n          sendToClient.bind(null, client)\n        )\n      }\n    },\n\n    setHmrServerError(_error) {\n      // Not implemented yet.\n    },\n    clearHmrServerError() {\n      // Not implemented yet.\n    },\n    async start() {},\n    async getCompilationErrors(page) {\n      const appEntryKey = getEntryKey('app', 'server', page)\n      const pagesEntryKey = getEntryKey('pages', 'server', page)\n\n      const topLevelIssues = currentTopLevelIssues.values()\n\n      const thisEntryIssues =\n        currentEntryIssues.get(appEntryKey) ??\n        currentEntryIssues.get(pagesEntryKey)\n\n      if (thisEntryIssues !== undefined && thisEntryIssues.size > 0) {\n        // If there is an error related to the requesting page we display it instead of the first error\n        return [...topLevelIssues, ...thisEntryIssues.values()]\n          .map((issue) => {\n            const formattedIssue = formatIssue(issue)\n            if (issue.severity === 'warning') {\n              printNonFatalIssue(issue)\n              return null\n            } else if (isWellKnownError(issue)) {\n              Log.error(formattedIssue)\n            }\n\n            return new Error(formattedIssue)\n          })\n          .filter((error) => error !== null)\n      }\n\n      // Otherwise, return all errors across pages\n      const errors = []\n      for (const issue of topLevelIssues) {\n        if (issue.severity !== 'warning') {\n          errors.push(new Error(formatIssue(issue)))\n        }\n      }\n      for (const entryIssues of currentEntryIssues.values()) {\n        for (const issue of entryIssues.values()) {\n          if (issue.severity !== 'warning') {\n            const message = formatIssue(issue)\n            errors.push(new Error(message))\n          } else {\n            printNonFatalIssue(issue)\n          }\n        }\n      }\n      return errors\n    },\n    async invalidate({\n      // .env files or tsconfig/jsconfig change\n      reloadAfterInvalidation,\n    }) {\n      if (reloadAfterInvalidation) {\n        for (const [key, entrypoint] of currentWrittenEntrypoints) {\n          clearRequireCache(key, entrypoint, { force: true })\n        }\n\n        await clearAllModuleContexts()\n        this.send({\n          type: HMR_MESSAGE_SENT_TO_BROWSER.SERVER_COMPONENT_CHANGES,\n          hash: String(++hmrHash),\n        })\n      }\n    },\n    async buildFallbackError() {\n      // Not implemented yet.\n    },\n    async ensurePage({\n      page: inputPage,\n      // Unused parameters\n      // clientOnly,\n      appPaths,\n      definition,\n      isApp,\n      url: requestUrl,\n    }) {\n      // When there is no route definition this is an internal file not a route the user added.\n      // Middleware and instrumentation are handled in turbpack-utils.ts handleEntrypoints instead.\n      if (!definition) {\n        if (inputPage === '/middleware') return\n        if (inputPage === '/src/middleware') return\n        if (inputPage === '/instrumentation') return\n        if (inputPage === '/src/instrumentation') return\n      }\n\n      return hotReloaderSpan\n        .traceChild('ensure-page', {\n          inputPage,\n        })\n        .traceAsyncFn(async () => {\n          if (BLOCKED_PAGES.includes(inputPage) && inputPage !== '/_error') {\n            return\n          }\n\n          await currentEntriesHandling\n\n          // TODO We shouldn't look into the filesystem again. This should use the information from entrypoints\n          let routeDef: Pick<\n            RouteDefinition,\n            'filename' | 'bundlePath' | 'page'\n          > =\n            definition ??\n            (await findPagePathData(\n              projectPath,\n              inputPage,\n              nextConfig.pageExtensions,\n              opts.pagesDir,\n              opts.appDir,\n              !!nextConfig.experimental.globalNotFound\n            ))\n\n          // If the route is actually an app page route, then we should have access\n          // to the app route definition, and therefore, the appPaths from it.\n          if (!appPaths && definition && isAppPageRouteDefinition(definition)) {\n            appPaths = definition.appPaths\n          }\n\n          let page = routeDef.page\n          if (appPaths) {\n            const normalizedPage = normalizeAppPath(page)\n\n            // filter out paths that are not exact matches (e.g. catchall)\n            const matchingAppPaths = appPaths.filter(\n              (path) => normalizeAppPath(path) === normalizedPage\n            )\n\n            // the last item in the array is the root page, if there are parallel routes\n            page = matchingAppPaths[matchingAppPaths.length - 1]\n          }\n\n          const pathname = definition?.pathname ?? inputPage\n\n          if (page === '/_error') {\n            let finishBuilding = startBuilding(pathname, requestUrl, false)\n            try {\n              await handlePagesErrorRoute({\n                currentEntryIssues,\n                entrypoints: currentEntrypoints,\n                manifestLoader,\n                devRewrites: opts.fsChecker.rewrites,\n                productionRewrites: undefined,\n                logErrors: true,\n                hooks: {\n                  subscribeToChanges,\n                  handleWrittenEndpoint: (id, result, forceDeleteCache) => {\n                    currentWrittenEntrypoints.set(id, result)\n                    assetMapper.setPathsForKey(id, result.clientPaths)\n                    return clearRequireCache(id, result, {\n                      force: forceDeleteCache,\n                    })\n                  },\n                },\n              })\n            } finally {\n              finishBuilding()\n            }\n            return\n          }\n\n          const isInsideAppDir = routeDef.bundlePath.startsWith('app/')\n          const isEntryMetadataRouteFile = isMetadataRouteFile(\n            routeDef.filename.replace(opts.appDir || '', ''),\n            nextConfig.pageExtensions,\n            true\n          )\n          const normalizedAppPage = isEntryMetadataRouteFile\n            ? normalizedPageToTurbopackStructureRoute(\n                page,\n                extname(routeDef.filename)\n              )\n            : page\n\n          const route = isInsideAppDir\n            ? currentEntrypoints.app.get(normalizedAppPage)\n            : currentEntrypoints.page.get(page)\n\n          if (!route) {\n            // TODO: why is this entry missing in turbopack?\n            if (page === '/middleware') return\n            if (page === '/src/middleware') return\n            if (page === '/proxy') return\n            if (page === '/src/proxy') return\n            if (page === '/instrumentation') return\n            if (page === '/src/instrumentation') return\n\n            throw new PageNotFoundError(`route not found ${page}`)\n          }\n\n          // We don't throw on ensureOpts.isApp === true for page-api\n          // since this can happen when app pages make\n          // api requests to page API routes.\n          if (isApp && route.type === 'page') {\n            throw new Error(`mis-matched route type: isApp && page for ${page}`)\n          }\n\n          const finishBuilding = startBuilding(pathname, requestUrl, false)\n          try {\n            await handleRouteType({\n              dev,\n              page,\n              pathname,\n              route,\n              currentEntryIssues,\n              entrypoints: currentEntrypoints,\n              manifestLoader,\n              readyIds,\n              devRewrites: opts.fsChecker.rewrites,\n              productionRewrites: undefined,\n              logErrors: true,\n\n              hooks: {\n                subscribeToChanges,\n                handleWrittenEndpoint: (id, result, forceDeleteCache) => {\n                  currentWrittenEntrypoints.set(id, result)\n                  assetMapper.setPathsForKey(id, result.clientPaths)\n                  return clearRequireCache(id, result, {\n                    force: forceDeleteCache,\n                  })\n                },\n              },\n            })\n          } finally {\n            finishBuilding()\n          }\n        })\n    },\n    close() {\n      // Report MCP telemetry if MCP server is enabled\n      recordMcpTelemetry(opts.telemetry)\n\n      for (const wsClient of [\n        ...clientsWithoutHtmlRequestId,\n        ...clientsByHtmlRequestId.values(),\n      ]) {\n        // it's okay to not cleanly close these websocket connections, this is dev\n        wsClient.terminate()\n      }\n      clientsWithoutHtmlRequestId.clear()\n      clientsByHtmlRequestId.clear()\n    },\n  }\n\n  handleEntrypointsSubscription().catch((err) => {\n    console.error(err)\n    process.exit(1)\n  })\n\n  // Write empty manifests\n  await currentEntriesHandling\n  await manifestLoader.writeManifests({\n    devRewrites: opts.fsChecker.rewrites,\n    productionRewrites: undefined,\n    entrypoints: currentEntrypoints,\n  })\n\n  async function handleProjectUpdates() {\n    for await (const updateMessage of project.updateInfoSubscribe(30)) {\n      switch (updateMessage.updateType) {\n        case 'start': {\n          hotReloader.send({ type: HMR_MESSAGE_SENT_TO_BROWSER.BUILDING })\n          break\n        }\n        case 'end': {\n          sendEnqueuedMessages()\n\n          function addToErrorsMap(\n            errorsMap: Map<string, CompilationError>,\n            issueMap: IssuesMap\n          ) {\n            for (const [key, issue] of issueMap) {\n              if (issue.severity === 'warning') continue\n              if (errorsMap.has(key)) continue\n\n              const message = formatIssue(issue)\n\n              errorsMap.set(key, {\n                message,\n                details: issue.detail\n                  ? renderStyledStringToErrorAnsi(issue.detail)\n                  : undefined,\n              })\n            }\n          }\n\n          function addErrors(\n            errorsMap: Map<string, CompilationError>,\n            issues: EntryIssuesMap\n          ) {\n            for (const issueMap of issues.values()) {\n              addToErrorsMap(errorsMap, issueMap)\n            }\n          }\n\n          const errors = new Map<string, CompilationError>()\n          addToErrorsMap(errors, currentTopLevelIssues)\n          addErrors(errors, currentEntryIssues)\n\n          for (const client of [\n            ...clientsWithoutHtmlRequestId,\n            ...clientsByHtmlRequestId.values(),\n          ]) {\n            const state = clientStates.get(client)\n            if (!state) {\n              continue\n            }\n\n            const clientErrors = new Map(errors)\n            addErrors(clientErrors, state.clientIssues)\n\n            sendToClient(client, {\n              type: HMR_MESSAGE_SENT_TO_BROWSER.BUILT,\n              hash: String(++hmrHash),\n              errors: [...clientErrors.values()],\n              warnings: [],\n            })\n          }\n\n          if (hmrEventHappened) {\n            const time = updateMessage.value.duration\n            const timeMessage =\n              time > 2000 ? `${Math.round(time / 100) / 10}s` : `${time}ms`\n            Log.event(`Compiled in ${timeMessage}`)\n            hmrEventHappened = false\n          }\n          break\n        }\n        default:\n      }\n    }\n  }\n\n  handleProjectUpdates().catch((err) => {\n    console.error(err)\n    process.exit(1)\n  })\n\n  return hotReloader\n}\n"],"names":["createHotReloaderTurbopack","wsServer","ws","Server","noServer","isTestMode","process","env","NEXT_TEST_MODE","__NEXT_TEST_MODE","DEBUG","sessionId","Math","floor","Number","MAX_SAFE_INTEGER","random","rewriteTurbopackSources","projectRoot","sourceMap","section","sections","map","i","sources","length","pathToFileURL","join","replace","toString","getSourceMapFromTurbopack","project","sourceURL","sourceMapJson","getSourceMapSync","err","undefined","payload","JSON","parse","opts","serverFields","distDir","resetFetch","lockfile","nextConfig","dev","buildId","dir","projectPath","bindings","getBindingsSync","require","log","testMode","hasRewrites","fsChecker","rewrites","afterFiles","beforeFiles","fallback","hotReloaderSpan","trace","version","__NEXT_VERSION","stop","mcpServerEnabled","experimental","mcpServer","fileLogger","getFileLogger","initialize","encryptionKey","generateEncryptionKeyBase64","isBuild","clientRouterFilters","clientRouterFilter","supportedBrowsers","getSupportedBrowsers","currentNodeJsVersion","versions","node","rootPath","turbopack","root","outputFileTracingRoot","turbo","createProject","normalizePath","relative","watch","enable","pollIntervalMs","watchOptions","defineEnv","createDefineEnv","isTurbopack","config","fetchCacheKeyPrefix","middlewareMatchers","previewProps","prerenderManifest","preview","browserslistQuery","noMangling","persistentCaching","isFileSystemCacheEnabledForDev","memoryLimit","turbopackMemoryLimit","isShortSession","backgroundLogCompilationEvents","eventTypes","setBundlerFindSourceMapImplementation","bind","onDevServerCleanup","onExit","unlock","entrypointsSubscription","entrypointsSubscribe","currentWrittenEntrypoints","Map","currentEntrypoints","global","app","document","error","middleware","instrumentation","page","currentTopLevelIssues","currentEntryIssues","manifestLoader","TurbopackManifestLoader","changeSubscriptions","serverPathState","readyIds","Set","currentEntriesHandlingResolve","currentEntriesHandling","Promise","resolve","assetMapper","AssetMapper","clearRequireCache","key","writtenEndpoint","force","path","contentHash","serverPaths","endsWith","localKey","set","hasChange","localHash","get","globalHash","__next__clear_chunk_cache__","p","file","clearModuleContext","deleteCache","buildingIds","startBuilding","id","requestUrl","forceRebuild","has","size","consoleStore","setState","loading","trigger","url","add","finishBuilding","delete","hmrEventHappened","hmrHash","clientsWithoutHtmlRequestId","clientsByHtmlRequestId","cacheStatusesByHtmlRequestId","clientStates","WeakMap","sendToClient","client","message","data","type","createBinaryHmrMessageData","stringify","send","sendEnqueuedMessages","issueMap","values","filter","severity","state","clientIssues","messages","clear","turbopackUpdates","HMR_MESSAGE_SENT_TO_BROWSER","TURBOPACK_MESSAGE","sendEnqueuedMessagesDebounce","debounce","sendHmr","sendTurbopackMessage","diagnostics","issues","push","subscribeToChanges","includeIssues","endpoint","createMessage","onError","side","splitEntryKey","changedPromise","changed","change","processIssues","String","e","unsubscribeFromChanges","subscription","return","subscribeToHmrEvents","getEntryKey","hasEntrypointForKey","subscriptions","hmrEvents","next","reloadMessage","RELOAD_PAGE","close","unsubscribeFromHmrEvents","handleEntrypointsSubscription","entrypoints","processTopLevelIssues","printBuildErrors","routes","existingRoutes","keys","newRoutes","addedRoutes","route","removedRoutes","handleEntrypoints","devRewrites","productionRewrites","logErrors","clients","hooks","handleWrittenEndpoint","result","forceDeleteCache","propagateServerField","hotReloader","DEV_PAGES_MANIFEST_UPDATE","devPagesManifest","ADDED_PAGE","REMOVED_PAGE","mkdir","recursive","writeFile","middlewares","getOverlayMiddleware","isSrcDir","getSourceMapMiddleware","getNextErrorFeedbackMiddleware","telemetry","getDevOverlayFontMiddleware","getDisableDevIndicatorMiddleware","getRestartDevServerMiddleware","turbopackProject","devToolsConfigMiddleware","sendUpdateSignal","DEVTOOLS_CONFIG","getMcpMiddleware","pagesDir","appDir","sendHmrMessage","getActiveConnectionCount","getDevServerUrl","__NEXT_PRIVATE_ORIGIN","setStackFrameResolver","request","getOriginalStackFrames","isServer","isEdgeServer","isAppDirectory","frames","versionInfoCached","getVersionInfoCached","getVersionInfo","devtoolsFrontendUrl","nodeOptions","getParsedNodeOptions","nodeDebugType","getNodeDebugType","debugPort","debugInfo","debugInfoList","fetch","then","res","json","activeWebpackConfigs","serverStats","edgeServerStats","run","req","_parsedUrl","startsWith","params","matchNextPageBundleRequest","decodedPagePath","param","decodeURIComponent","denormalizedPagePath","denormalizePagePath","ensurePage","clientOnly","definition","catch","console","calledNext","finished","onHMR","socket","head","onUpgrade","handleUpgrade","htmlRequestId","URL","searchParams","enableCacheComponents","cacheComponents","isLegacyClient","cacheStatus","CACHE_INDICATOR","on","deleteReactDebugChannelForHtmlRequest","addEventListener","parsedData","event","manualTraceChild","spanName","msToNs","startTime","endTime","attributes","updatedModules","isPageHidden","hadRuntimeError","dependencyChain","Log","warn","FAST_REFRESH_RUNTIME_RELOAD","Array","isArray","cleanedModulePath","browserDebugInfoInTerminal","receiveBrowserLogsTurbopack","entries","router","sourceType","handleClientFileLogs","logs","handleErrorStateResponse","requestId","errorState","handlePageMetadataResponse","segmentTrieData","Error","turbopackConnectedMessage","TURBOPACK_CONNECTED","errors","entryIssues","issue","formatIssue","printNonFatalIssue","devIndicatorServerState","disabledUntil","Date","now","versionInfo","devToolsConfig","getDevToolsConfig","syncMessage","SYNC","warnings","hash","debug","devIndicator","connectReactDebugChannelForHtmlRequest","action","sendToLegacyClients","setCacheStatus","status","setReactDebugChannel","debugChannel","connectReactDebugChannel","setReactDebugChannelForHtmlRequest","setHmrServerError","_error","clearHmrServerError","start","getCompilationErrors","appEntryKey","pagesEntryKey","topLevelIssues","thisEntryIssues","formattedIssue","isWellKnownError","invalidate","reloadAfterInvalidation","entrypoint","clearAllModuleContexts","SERVER_COMPONENT_CHANGES","buildFallbackError","inputPage","appPaths","isApp","traceChild","traceAsyncFn","BLOCKED_PAGES","includes","routeDef","findPagePathData","pageExtensions","globalNotFound","isAppPageRouteDefinition","normalizedPage","normalizeAppPath","matchingAppPaths","pathname","handlePagesErrorRoute","setPathsForKey","clientPaths","isInsideAppDir","bundlePath","isEntryMetadataRouteFile","isMetadataRouteFile","filename","normalizedAppPage","normalizedPageToTurbopackStructureRoute","extname","PageNotFoundError","handleRouteType","recordMcpTelemetry","wsClient","terminate","exit","writeManifests","handleProjectUpdates","updateMessage","updateInfoSubscribe","updateType","BUILDING","addToErrorsMap","errorsMap","details","detail","renderStyledStringToErrorAnsi","addErrors","clientErrors","BUILT","time","value","duration","timeMessage","round"],"mappings":"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","ignoreList":[0]}}]
}